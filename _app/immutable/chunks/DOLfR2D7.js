const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BjnVOl61.js","./DwuaTuXd.js","./BN8yeNaP.js","./CPzlj7tX.js","./B0gZMrfj.js","./B7UOL8al.js","./DzUgQEOZ.js","./EJX4Tw3J.js","../assets/tldrawBridge.ZLBtLSDh.css"])))=>i.map(i=>d[i]);
import{c as kt,a as W,f as De,d as Vs}from"./CPzlj7tX.js";import{i as Ws}from"./B0gZMrfj.js";import{c as Df,E as Ug,N as Hg,bp as Kg,h as ja,av as Vg,aP as yd,X as vd,W as _d,P as Wg,ai as Gg,f as it,p as lr,bq as Gs,o as Sa,br as _c,l as kr,j as N,g as E,d as xc,i as _,k as v,s as k,t as Ve,u as Q,a as cr,m as we,bs as qg,C as Bl,w as Lf,G as Ms,aq as jg,_ as $l,ar as Hr,as as zl,a5 as Pf,bt as Yg,bu as xd}from"./BN8yeNaP.js";import{f as qs,s as re,e as ct}from"./B7UOL8al.js";import{B as Jg,l as qt,s as jt,i as Te,b as Sn,a as ts,p as Lt,r as Zg}from"./DzUgQEOZ.js";import{I as Yt,s as $t,c as Nt,d as vt,$ as js,e as xo,i as Ya,b as un,t as Ii,m as Na,r as dn,n as Ec,o as Bf,q as kc,f as Xg,p as Qg,a as $f,h as em}from"./DwuaTuXd.js";import{c as Ed}from"./CyJRV1yG.js";import{F as zf,B as Fl,s as tm,S as kd,R as nm,f as ds,P as rm,t as Ja,a as Ff,b as wd,c as im,G as sm,E as om,C as Sd,D as am,T as lm,d as cm,i as dm,e as Nd,g as um}from"./CzEHAsNP.js";import{f as Td}from"./BikARds-.js";import{C as Uf}from"./SoWugjP_.js";import{X as bi,P as fm,U as pm}from"./C6EWQ42Q.js";import{T as wc}from"./CYgE8SeJ.js";import{P as hm,L as Md,c as gm}from"./CaognTaA.js";import{_ as mm}from"./PPVm8Dsz.js";import{b as Ao}from"./BLmniHJa.js";import{u as Ro,i as bm,a as ym}from"./B9P73xU4.js";import{M as vm}from"./BRHvNHB7.js";import{L as Za}from"./DK7-E4pp.js";import{U as Od}from"./BuM6R9IG.js";import{p as _m}from"./B2SCtEzv.js";import{g as Xa}from"./BjfiAF3u.js";import{b as Oi}from"./BAVAyct3.js";const xm=!0;function Eo(n,e,...t){var r=new Jg(n);Df(()=>{const i=e()??null;r.ensure(i,i&&(s=>i(s,...t)))},Ug)}function Em(n,e){let t=null,r=ja;var i;if(ja){t=Wg;for(var s=Gg(document.head);s!==null&&(s.nodeType!==Vg||s.data!==n);)s=yd(s);if(s===null)vd(!1);else{var o=yd(s);s.remove(),_d(o)}}ja||(i=document.head.appendChild(Hg()));try{Df(()=>e(i),Kg)}finally{r&&(vd(!0),_d(t))}}function km(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8"}]];Yt(n,jt({name:"at-sign"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function wm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742"}],["path",{d:"m2 2 20 20"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05"}]];Yt(n,jt({name:"bell-off"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Sm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"}]];Yt(n,jt({name:"bell"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Nm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];Yt(n,jt({name:"circle-question-mark"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Tm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02"}],["path",{d:"M2 12a10 10 0 0 1 18-6"}],["path",{d:"M2 16h.01"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2"}]];Yt(n,jt({name:"fingerprint-pattern"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Cd(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}],["path",{d:"M9 18c-4.51 2-5-2-7-2"}]];Yt(n,jt({name:"github"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Mm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];Yt(n,jt({name:"globe"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Om(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M12 7v5l4 2"}]];Yt(n,jt({name:"history"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Cm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"m10 17 5-5-5-5"}],["path",{d:"M15 12H3"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}]];Yt(n,jt({name:"log-in"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Am(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];Yt(n,jt({name:"log-out"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Rm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15 3h6v6"}],["path",{d:"m21 3-7 7"}],["path",{d:"m3 21 7-7"}],["path",{d:"M9 21H3v-6"}]];Yt(n,jt({name:"maximize-2"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Im(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"m14 10 7-7"}],["path",{d:"M20 10h-6V4"}],["path",{d:"m3 21 7-7"}],["path",{d:"M4 14h6v6"}]];Yt(n,jt({name:"minimize-2"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Dm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];Yt(n,jt({name:"moon"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Lm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1"}]];Yt(n,jt({name:"pause"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Pm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18"}],["path",{d:"m2.3 2.3 7.286 7.286"}],["circle",{cx:"11",cy:"11",r:"2"}]];Yt(n,jt({name:"pen-tool"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Bm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];Yt(n,jt({name:"sun"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function $m(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["line",{x1:"10",x2:"14",y1:"2",y2:"2"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11"}],["circle",{cx:"12",cy:"14",r:"8"}]];Yt(n,jt({name:"timer"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function Ad(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 20h.01"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764"}],["path",{d:"m2 2 20 20"}]];Yt(n,jt({name:"wifi-off"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}function zm(n,e){const t=qt(e,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 20h.01"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0"}]];Yt(n,jt({name:"wifi"},()=>t,{get iconNode(){return r},children:(i,s)=>{var o=kt(),a=it(o);$t(a,e,"default",{}),W(i,o)},$$slots:{default:!0}}))}var Fm=De('<button><!> <!> <!> <span class="text-[9px] font-bold uppercase svelte-33jxk4"> </span></button>'),Um=De("<button> </button>"),Hm=De('<div class="space-y-4 svelte-33jxk4"><div class="grid grid-cols-2 gap-3 svelte-33jxk4"><div class="space-y-1 svelte-33jxk4"><label for="pomodoro-work-minutes" class="text-[10px] font-bold uppercase text-white/40 ml-1 svelte-33jxk4"> </label> <div class="flex items-center bg-white/5 border border-white/10 rounded-lg overflow-hidden focus-within:border-primary/50 transition-colors svelte-33jxk4"><input id="pomodoro-work-minutes" type="number" class="w-full bg-transparent px-3 py-1.5 text-sm text-white focus:outline-none svelte-33jxk4"/></div></div> <div class="space-y-1 svelte-33jxk4"><label for="pomodoro-break-minutes" class="text-[10px] font-bold uppercase text-white/40 ml-1 svelte-33jxk4"> </label> <div class="flex items-center bg-white/5 border border-white/10 rounded-lg overflow-hidden focus-within:border-primary/50 transition-colors svelte-33jxk4"><input id="pomodoro-break-minutes" type="number" class="w-full bg-transparent px-3 py-1.5 text-sm text-white focus:outline-none svelte-33jxk4"/></div></div></div> <div class="flex flex-wrap gap-1.5 svelte-33jxk4"></div></div>'),Km=De('<div class="grid grid-cols-2 gap-3 svelte-33jxk4"><div class="space-y-1 svelte-33jxk4"><label for="countdown-hours" class="text-[10px] font-bold uppercase text-white/40 ml-1 svelte-33jxk4"> </label> <input id="countdown-hours" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-sm text-white focus:outline-none focus:border-primary/50 svelte-33jxk4"/></div> <div class="space-y-1 svelte-33jxk4"><label for="countdown-minutes" class="text-[10px] font-bold uppercase text-white/40 ml-1 svelte-33jxk4"> </label> <input id="countdown-minutes" type="number" class="w-full bg-white/5 border border-white/10 rounded-lg px-3 py-1.5 text-sm text-white focus:outline-none focus:border-primary/50 svelte-33jxk4"/></div></div>'),Vm=De('<div class="py-4 text-center svelte-33jxk4"><p class="text-xs text-white/30 italic svelte-33jxk4">Session timer active.</p></div>'),Wm=De('<button class="flex-1 flex items-center justify-center gap-2 py-2 px-3 bg-primary hover:bg-primary-dark text-white text-xs font-bold rounded-xl transition-all shadow-lg shadow-primary/20 svelte-33jxk4"><!> </button>'),Gm=De('<span class="text-white/40 truncate w-32 svelte-33jxk4"> </span>'),qm=De('<div class="flex items-center justify-between p-2 rounded-lg bg-white/5 text-[10px] svelte-33jxk4"><div class="flex flex-col svelte-33jxk4"><span class="font-bold text-primary svelte-33jxk4"> </span> <!></div> <button class="text-white/20 hover:text-red-400 svelte-33jxk4"><!></button></div>'),jm=De('<p class="text-center py-4 text-[10px] text-white/20 italic svelte-33jxk4"> </p>'),Ym=De('<div class="bg-black/40 border-t border-white/10 p-4 space-y-3 svelte-33jxk4"><div class="flex items-center justify-between svelte-33jxk4"><h3 class="text-xs font-bold uppercase tracking-wider text-white/60 svelte-33jxk4"> </h3> <button class="text-white/40 hover:text-white svelte-33jxk4"><!></button></div> <div class="space-y-2 max-h-[150px] overflow-y-auto custom-scrollbar pr-1 svelte-33jxk4"><!> <!></div></div>'),Jm=De('<div style="z-index: 70;"><div class="glass-card w-80 overflow-hidden shadow-2xl flex flex-col svelte-33jxk4"><div class="p-4 border-b border-white/10 flex items-center justify-between bg-black/20 svelte-33jxk4"><div class="flex flex-col svelte-33jxk4"><span class="text-[10px] font-bold uppercase tracking-widest text-white/50 svelte-33jxk4"> </span> <span class="text-sm font-semibold text-white svelte-33jxk4"> </span></div> <div class="flex items-center gap-1 svelte-33jxk4"><button><!></button> <button class="icon-btn svelte-33jxk4"><!></button> <button class="icon-btn svelte-33jxk4"><!></button></div></div> <div class="p-4 space-y-4 max-h-[400px] overflow-y-auto custom-scrollbar svelte-33jxk4"><div class="grid grid-cols-3 gap-1 bg-white/5 p-1 rounded-xl svelte-33jxk4"></div> <div class="min-h-[100px] flex flex-col justify-center svelte-33jxk4"><!></div> <div class="flex items-center gap-2 pt-2 border-t border-white/5 svelte-33jxk4"><button class="flex-1 flex items-center justify-center gap-2 py-2 px-3 bg-white/5 hover:bg-white/10 text-white text-xs font-bold rounded-xl transition-all border border-white/5 svelte-33jxk4"><!> </button> <!></div></div> <!></div></div>'),Zm=De('<div class="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm svelte-33jxk4" role="presentation"><div class="glass-card w-full max-w-sm p-6 space-y-4 shadow-2xl scale-up-center svelte-33jxk4" role="dialog" aria-modal="true" aria-labelledby="save-dialog-title"><div class="flex items-center justify-between svelte-33jxk4"><h3 id="save-dialog-title" class="text-lg font-bold text-white svelte-33jxk4"> </h3> <span class="text-primary font-mono font-bold text-xl svelte-33jxk4"> </span></div> <div class="space-y-2 svelte-33jxk4"><label for="save-note" class="text-[10px] font-bold uppercase text-white/40 svelte-33jxk4"> </label> <textarea id="save-note" class="w-full h-24 bg-white/5 border border-white/10 rounded-xl p-3 text-sm text-white focus:outline-none focus:border-primary/50 resize-none svelte-33jxk4"></textarea></div> <div class="flex gap-3 pt-2 svelte-33jxk4"><button class="flex-1 py-3 px-4 bg-white/5 hover:bg-white/10 text-white font-bold rounded-xl transition-all svelte-33jxk4"> </button> <button class="flex-1 py-3 px-4 bg-primary hover:bg-primary-dark text-white font-bold rounded-xl transition-all shadow-lg shadow-primary/20 flex items-center justify-center gap-2 svelte-33jxk4"><!> </button></div></div></div>'),Xm=De("<div></div>"),Qm=De('<div class="w-12 h-[3px] bg-white/5 rounded-full overflow-hidden svelte-33jxk4"><div class="h-full bg-primary transition-all duration-500 svelte-33jxk4"></div></div>'),eb=De('<div class="fixed bottom-6 right-6 z-[60] flex items-center gap-3 font-sans svelte-33jxk4"><div class="flex items-center gap-2 svelte-33jxk4"><button class="util-btn bg-indigo-600/90 hover:bg-indigo-500 svelte-33jxk4"><!></button> <button class="util-btn bg-amber-500/90 hover:bg-amber-400 text-amber-950 svelte-33jxk4"><!></button> <button class="util-btn bg-sky-500/90 hover:bg-sky-400 text-sky-950 svelte-33jxk4"><!></button></div> <div class="relative group svelte-33jxk4" role="group"><!> <!> <div class="flex items-center bg-slate-900/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/5 p-1 transition-all duration-300 hover:border-white/20 svelte-33jxk4"><button><!></button> <button type="button" class="px-3 pr-4 flex flex-col justify-center select-none cursor-pointer border-none bg-transparent text-left focus:outline-none focus:ring-1 focus:ring-primary/30 rounded-lg svelte-33jxk4"><div class="flex items-center gap-2 svelte-33jxk4"><span class="font-mono text-xl font-bold text-white tabular-nums leading-none tracking-tight svelte-33jxk4"> </span> <!></div> <div class="flex items-center justify-between gap-4 mt-0.5 svelte-33jxk4"><span class="text-[9px] font-bold uppercase tracking-[0.15em] text-white/40 truncate max-w-[100px] leading-tight svelte-33jxk4"> </span> <!></div></button></div></div></div>');function tb(n,e){lr(e,!1);const t=()=>Sn(js,"$_",i),r=()=>Sn(Ja,"$timeLogs",i),[i,s]=ts(),o=we(),a=Gs();let l=we(0),c=we(0),d=we(0),u=we(!1),f=null,p=we(!1),h=we(!1),g=null,m=null,y=we(!1),S=we(""),M=we(!1),b=we("countup"),C="work",w=we(25),D=we(5),P=we(8),L=we(0),ee=we(!0);const de=[15,25,45,60,90];function ye(G){const J=Math.floor(G/3600),Ce=Math.floor(G%3600/60),ze=G%60,Ee=J>0?`${J}:`:"",x=Ce.toString().padStart(J>0?2:1,"0"),T=ze.toString().padStart(2,"0");return`${Ee}${x}:${T}`}function ie(G,J,Ce=0,ze=Number.MAX_SAFE_INTEGER){if(!Number.isFinite(G))return J;const Ee=Math.floor(G);return Math.min(Math.max(Ee,Ce),ze)}function le(){E(u)||(f&&clearInterval(f),E(b)==="pomodoro"&&(!Number.isFinite(E(c))||E(c)<=0)&&F(C),!(E(b)==="countdown"&&((!Number.isFinite(E(c))||E(c)<=0)&&ce(),!Number.isFinite(E(c))||E(c)<=0))&&(N(u,!0),f=setInterval(()=>{N(l,E(l)+1),E(b)!=="countup"&&(E(c)>0&&N(c,E(c)-1),E(c)<=0&&(N(c,0),te()))},1e3)))}function ue(){N(u,!1),f&&(clearInterval(f),f=null)}function Me(){E(u)?ue():le()}function R(){ue(),N(l,0),E(b)==="countup"?N(c,0):E(b)==="pomodoro"?F("work"):ce()}function A(G){E(b)!==G&&(ue(),N(b,G),N(l,0),N(y,!1),G==="pomodoro"?(C="work",F("work")):G==="countdown"?ce():(N(c,0),N(d,0)))}function F(G){C=G;const J=ie(E(w),25,1,180),Ce=ie(E(D),5,1,60);N(w,J),N(D,Ce),N(c,(G==="work"?J:Ce)*60),N(d,E(c))}function Z(G){N(w,G),E(b)==="pomodoro"&&(ue(),F("work"))}function ce(){N(P,ie(E(P),8,0,24)),N(L,ie(E(L),0,0,59));const G=E(P)*60+E(L);N(c,Math.max(G*60,0)),N(d,E(c))}function _e(){return E(b)==="countup"?t()("timer__mode_countup"):E(b)==="countdown"?t()("timer__mode_countdown"):C==="work"?t()("timer__mode_pomodoro_work"):t()("timer__mode_pomodoro_break")}function se(){if(!E(ee))return;const G=new(window.AudioContext||window.webkitAudioContext);[0,.15,.3].forEach(Ce=>{const ze=G.createOscillator(),Ee=G.createGain();ze.type="sine",ze.frequency.setValueAtTime(880,G.currentTime+Ce),Ee.gain.setValueAtTime(.1,G.currentTime+Ce),Ee.gain.exponentialRampToValueAtTime(.01,G.currentTime+Ce+.1),ze.connect(Ee),Ee.connect(G.destination),ze.start(G.currentTime+Ce),ze.stop(G.currentTime+Ce+.15)})}function te(){se(),E(b)==="pomodoro"?(F(C==="work"?"break":"work"),N(l,0),le()):ue()}function U(){E(l)>0&&(Ja.add(E(l),E(S)),N(S,""),N(y,!1))}function Se(){N(M,!E(M))}function nt(G){if(E(l)>0||E(u)&&E(b)!=="countup")return G.preventDefault(),G.returnValue=t()("timer__exit_confirm"),G.returnValue}function Ge(){g&&clearTimeout(g),m&&clearTimeout(m),N(p,!0),requestAnimationFrame(()=>N(h,!0))}function ge(){g=setTimeout(()=>{N(h,!1),m=setTimeout(()=>{N(p,!1),N(y,!1),N(S,""),N(M,!1)},300)},200)}Sa(()=>{window.addEventListener("beforeunload",nt)}),_c(()=>{f&&clearInterval(f),window.removeEventListener("beforeunload",nt)}),kr(()=>(E(b),E(d),E(c)),()=>{N(o,E(b)==="countup"?0:E(d)>0?(1-E(c)/E(d))*100:0)}),xc(),Ws();var qe=eb(),pt=_(qe),ne=_(pt);ne.__click=()=>a("showQuickNotes");var xe=_(ne);zf(xe,{size:18}),v(ne);var Re=k(ne,2);Re.__click=()=>a("showBookmarks");var Xe=_(Re);Fl(Xe,{size:18}),v(Re);var Ue=k(Re,2);Ue.__click=()=>a("showWhiteboard");var ot=_(Ue);Pm(ot,{size:18}),v(Ue),v(pt);var ht=k(pt,2),oe=_(ht);{var at=G=>{var J=Jm(),Ce=_(J),ze=_(Ce),Ee=_(ze),x=_(Ee),T=_(x,!0);v(x);var B=k(x,2),be=_(B,!0);v(B),v(Ee);var Ye=k(Ee,2),Be=_(Ye);Be.__click=Se;var q=_(Be);Om(q,{size:16}),v(Be);var Y=k(Be,2);Y.__click=()=>N(ee,!E(ee));var ve=_(Y);{var xt=mt=>{Sm(mt,{size:16})},_t=mt=>{wm(mt,{size:16})};Te(ve,mt=>{E(ee)?mt(xt):mt(_t,!1)})}v(Y);var Kt=k(Y,2);Kt.__click=()=>tm.set(!0);var gn=_(Kt);Nm(gn,{size:16}),v(Kt),v(Ye),v(ze);var Jt=k(ze,2),mn=_(Jt);xo(mn,4,()=>["countup","pomodoro","countdown"],Ya,(mt,bt)=>{var Tt=Fm();Tt.__click=()=>A(bt);var Rt=_(Tt);{var Ft=Ie=>{$m(Ie,{size:14})};Te(Rt,Ie=>{bt==="countup"&&Ie(Ft)})}var Vt=k(Rt,2);{var O=Ie=>{kd(Ie,{size:14})};Te(Vt,Ie=>{bt==="pomodoro"&&Ie(O)})}var H=k(Vt,2);{var pe=Ie=>{kd(Ie,{size:14})};Te(H,Ie=>{bt==="countdown"&&Ie(pe)})}var Le=k(H,2),Je=_(Le,!0);v(Le),v(Tt),Ve(Ie=>{vt(Tt,1,`flex flex-col items-center gap-1 py-2 px-1 rounded-lg transition-all ${E(b)===bt?"bg-primary text-white shadow-lg shadow-primary/20 scale-105":"text-white/40 hover:text-white hover:bg-white/5"}`,"svelte-33jxk4"),re(Je,Ie)},[()=>(t(),Q(()=>bt==="countup"?t()("timer__mode_countup"):bt==="pomodoro"?t()("timer__mode_pomodoro"):t()("timer__mode_goal")))]),W(mt,Tt)}),v(mn);var _n=k(mn,2),Dn=_(_n);{var jn=mt=>{var bt=Hm(),Tt=_(bt),Rt=_(Tt),Ft=_(Rt),Vt=_(Ft,!0);v(Ft);var O=k(Ft,2),H=_(O);dn(H),H.__change=()=>F("work"),v(O),v(Rt);var pe=k(Rt,2),Le=_(pe),Je=_(Le,!0);v(Le);var Ie=k(Le,2),ft=_(Ie);dn(ft),ft.__change=()=>F("work"),v(Ie),v(pe),v(Tt);var Wt=k(Tt,2);xo(Wt,5,()=>de,Ya,(yt,wt)=>{var Zt=Um();Zt.__click=()=>Z(E(wt));var hr=_(Zt,!0);v(Zt),Ve(gr=>{vt(Zt,1,`px-2.5 py-1 text-[10px] font-bold rounded-full border border-white/10 hover:border-primary/50 hover:bg-primary/10 transition-all ${E(w)===E(wt)?"bg-primary/20 border-primary/50 text-primary":"text-white/40"}`,"svelte-33jxk4"),re(hr,gr)},[()=>(t(),E(wt),Q(()=>t()("timer__preset_short",{values:{min:E(wt)}})))]),W(yt,Zt)}),v(Wt),v(bt),Ve((yt,wt)=>{re(Vt,yt),re(Je,wt)},[()=>(t(),Q(()=>t()("timer__settings_work"))),()=>(t(),Q(()=>t()("timer__settings_break")))]),un(H,()=>E(w),yt=>N(w,yt)),un(ft,()=>E(D),yt=>N(D,yt)),Ii(3,bt,()=>ds,()=>({duration:200})),W(mt,bt)},Yn=mt=>{var bt=kt(),Tt=it(bt);{var Rt=Vt=>{var O=Km(),H=_(O),pe=_(H),Le=_(pe,!0);v(pe);var Je=k(pe,2);dn(Je),Je.__change=ce,v(H);var Ie=k(H,2),ft=_(Ie),Wt=_(ft,!0);v(ft);var yt=k(ft,2);dn(yt),yt.__change=ce,v(Ie),v(O),Ve((wt,Zt)=>{re(Le,wt),re(Wt,Zt)},[()=>(t(),Q(()=>t()("timer__settings_hours"))),()=>(t(),Q(()=>t()("timer__settings_minutes")))]),un(Je,()=>E(P),wt=>N(P,wt)),un(yt,()=>E(L),wt=>N(L,wt)),Ii(3,O,()=>ds,()=>({duration:200})),W(Vt,O)},Ft=Vt=>{var O=Vm();Ii(3,O,()=>ds,()=>({duration:200})),W(Vt,O)};Te(Tt,Vt=>{E(b)==="countdown"?Vt(Rt):Vt(Ft,!1)},!0)}W(mt,bt)};Te(Dn,mt=>{E(b)==="pomodoro"?mt(jn):mt(Yn,!1)})}v(_n);var dr=k(_n,2),xn=_(dr);xn.__click=R;var gt=_(xn);nm(gt,{size:14});var En=k(gt);v(xn);var ur=k(xn,2);{var fr=mt=>{var bt=Wm();bt.__click=()=>N(y,!0);var Tt=_(bt);Ff(Tt,{size:14});var Rt=k(Tt);v(bt),Ve(Ft=>re(Rt,` ${Ft??""}`),[()=>(t(),Q(()=>t()("timer__btn_save_action")))]),W(mt,bt)};Te(ur,mt=>{E(l)>0&&mt(fr)})}v(dr),v(Jt);var bn=k(Jt,2);{var pr=mt=>{var bt=Ym(),Tt=_(bt),Rt=_(Tt),Ft=_(Rt,!0);v(Rt);var Vt=k(Rt,2);Vt.__click=()=>N(M,!1);var O=_(Vt);bi(O,{size:14}),v(Vt),v(Tt);var H=k(Tt,2),pe=_(H);xo(pe,1,()=>(r(),Q(()=>[...r()].reverse().slice(0,5))),Ya,(Ie,ft)=>{var Wt=qm(),yt=_(Wt),wt=_(yt),Zt=_(wt,!0);v(wt);var hr=k(wt,2);{var gr=Jn=>{var mr=Gm(),Cr=_(mr,!0);v(mr),Ve(()=>re(Cr,(E(ft),Q(()=>E(ft).note)))),W(Jn,mr)};Te(hr,Jn=>{E(ft),Q(()=>E(ft).note)&&Jn(gr)})}v(yt);var Or=k(yt,2);Or.__click=()=>Ja.remove(E(ft).id);var Qr=_(Or);bi(Qr,{size:12}),v(Or),v(Wt),Ve(Jn=>re(Zt,Jn),[()=>(Bl(wd),E(ft),Q(()=>wd(E(ft).duration)))]),W(Ie,Wt)});var Le=k(pe,2);{var Je=Ie=>{var ft=jm(),Wt=_(ft,!0);v(ft),Ve(yt=>re(Wt,yt),[()=>(t(),Q(()=>t()("timer__empty_session")))]),W(Ie,ft)};Te(Le,Ie=>{r(),Q(()=>r().length===0)&&Ie(Je)})}v(H),v(bt),Ve(Ie=>re(Ft,Ie),[()=>(t(),Q(()=>t()("timer__history_recent_title")))]),Ii(3,bt,()=>im),W(mt,bt)};Te(bn,mt=>{E(M)&&mt(pr)})}v(Ce),v(J),Ve((mt,bt,Tt,Rt)=>{vt(J,1,`absolute bottom-full right-0 mb-4 transition-all duration-300 ease-[cubic-bezier(0.23,1,0.32,1)] ${E(h)?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-95 pointer-events-none"}`,"svelte-33jxk4"),re(T,mt),re(be,bt),vt(Be,1,`icon-btn ${E(M)?"bg-primary/20 text-primary":""}`,"svelte-33jxk4"),Nt(Be,"title",Tt),re(En,` ${Rt??""}`)},[()=>(E(b),t(),Q(()=>E(b)==="countup"?t()("timer__mode_countup"):E(b)==="pomodoro"?t()("timer__mode_pomodoro"):t()("timer__mode_goal"))),()=>(E(u),t(),Q(()=>E(u)?t()("timer__status_active"):t()("timer__status_paused"))),()=>(t(),Q(()=>t()("timer__history_title"))),()=>(t(),Q(()=>t()("timer__btn_reset")))]),W(G,J)};Te(oe,G=>{E(p)&&G(at)})}var He=k(oe,2);{var Oe=G=>{var J=Zm();J.__click=Jt=>{Jt.target===Jt.currentTarget&&N(y,!1)};var Ce=_(J),ze=_(Ce),Ee=_(ze),x=_(Ee,!0);v(Ee);var T=k(Ee,2),B=_(T,!0);v(T),v(ze);var be=k(ze,2),Ye=_(be),Be=_(Ye,!0);v(Ye);var q=k(Ye,2);qg(q),v(be);var Y=k(be,2),ve=_(Y);ve.__click=()=>N(y,!1);var xt=_(ve,!0);v(ve);var _t=k(ve,2);_t.__click=U;var Kt=_(_t);Uf(Kt,{size:18});var gn=k(Kt);v(_t),v(Y),v(Ce),v(J),Ve((Jt,mn,_n,Dn,jn,Yn)=>{re(x,Jt),re(B,mn),re(Be,_n),Nt(q,"placeholder",Dn),re(xt,jn),re(gn,` ${Yn??""}`)},[()=>(t(),Q(()=>t()("timer__dialog_save_title"))),()=>(E(l),Q(()=>ye(E(l)))),()=>(t(),Q(()=>t()("timer__dialog_note_label"))),()=>(t(),Q(()=>t()("timer__dialog_note_placeholder"))),()=>(t(),Q(()=>t()("timer__btn_cancel"))),()=>(t(),Q(()=>t()("timer__btn_save_session")))]),un(q,()=>E(S),Jt=>N(S,Jt)),Ii(3,J,()=>ds),W(G,J)};Te(He,G=>{E(y)&&G(Oe)})}var Fe=k(He,2),Ne=_(Fe);Ne.__click=Me;var rt=_(Ne);{var dt=G=>{Lm(G,{size:20,fill:"white",strokeWidth:0})},$=G=>{rm(G,{size:20,fill:"currentColor",class:"text-white ml-1"})};Te(rt,G=>{E(u)?G(dt):G($,!1)})}v(Ne);var V=k(Ne,2);V.__click=Ge,V.__keydown=G=>G.key==="Enter"&&Ge();var fe=_(V),Pe=_(fe),lt=_(Pe,!0);v(Pe);var ut=k(Pe,2);{var At=G=>{var J=Xm();Ve(()=>vt(J,1,`w-1 h-1 rounded-full ${E(u)?"bg-green-500 animate-pulse":"bg-white/20"}`,"svelte-33jxk4")),W(G,J)};Te(ut,G=>{E(b)!=="countup"&&G(At)})}v(fe);var I=k(fe,2),j=_(I),me=_(j,!0);v(j);var je=k(j,2);{var $e=G=>{var J=Qm(),Ce=_(J);v(J),Ve(()=>Na(Ce,`width: ${E(o)??""}%`)),W(G,J)};Te(je,G=>{E(o)>0&&G($e)})}v(I),v(V),v(Fe),v(ht),v(qe),Ve((G,J,Ce,ze,Ee)=>{Nt(ne,"title",G),Nt(Re,"title",J),Nt(Ue,"title",Ce),vt(Ne,1,`w-12 h-12 flex items-center justify-center rounded-xl transition-all ${E(u)?"bg-red-500 hover:bg-red-400 shadow-lg shadow-red-500/20":"bg-white/5 hover:bg-white/10"}`,"svelte-33jxk4"),re(lt,ze),re(me,Ee)},[()=>(t(),Q(()=>t()("quickNotes__title"))),()=>(t(),Q(()=>t()("timer__bookmarks_tooltip"))),()=>(t(),Q(()=>t()("timer__whiteboard_tooltip"))),()=>(E(b),E(l),E(c),Q(()=>ye(E(b)==="countup"?E(l):E(c)))),()=>Q(_e)]),ct("mouseenter",ht,Ge),ct("mouseleave",ht,ge),W(n,qe),cr(),s()}qs(["click","change","keydown"]);const Rd="khu-phaen-bookmarks-v1",oi=10;function nb(){const n=()=>{if(typeof window>"u")return[];try{const s=localStorage.getItem(Rd);if(s){const o=JSON.parse(s);if(Array.isArray(o))return o.slice(0,oi)}}catch(s){console.error("Failed to load bookmarks:",s)}return[]},{subscribe:e,set:t,update:r}=Lf(n()),i=s=>{typeof window<"u"&&localStorage.setItem(Rd,JSON.stringify(s.slice(0,oi)))};return{subscribe:e,add:(s,o)=>{r(a=>{if(a.length>=oi)return a;const l={id:crypto.randomUUID(),title:s.trim(),url:o.trim(),createdAt:Date.now()},c=[...a,l];return i(c),c})},update:(s,o,a)=>{r(l=>{const c=l.map(d=>d.id===s?{...d,title:o.trim(),url:a.trim()}:d);return i(c),c})},remove:s=>{r(o=>{const a=o.filter(l=>l.id!==s);return i(a),a})},reorder:(s,o)=>{r(a=>{const l=[...a],[c]=l.splice(s,1);return l.splice(o,0,c),i(l),l})}}}const ss=nb();var rb=De('<div class="text-center py-10"><div class="w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4"><!></div> <p class="text-gray-600 dark:text-gray-300 mb-1">ยังไม่มีลิงก์ที่บันทึก</p> <p class="text-sm text-gray-400">กด "เพิ่มลิงก์" เพื่อบันทึกลิงก์ที่ใช้บ่อย</p></div>'),ib=De('<div class="cursor-move text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"><!></div>'),sb=De('<p class="text-xs text-red-500 flex items-center gap-1"><!> </p>'),ob=De('<div class="flex-1 space-y-2"><input type="text" placeholder="ชื่อลิงก์" class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary outline-none dark:bg-gray-700 dark:text-white"/> <input type="text" placeholder="https://example.com" class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none dark:bg-gray-700 dark:text-white"/> <!> <div class="flex gap-2"><button class="px-3 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-400 border border-blue-300 dark:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors">บันทึก</button> <button class="px-3 py-1.5 text-xs font-medium text-gray-500 dark:text-gray-400 border border-gray-300 dark:border-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">ยกเลิก</button></div></div>'),ab=De('<button class="flex-1 text-left min-w-0"><p class="font-medium text-gray-900 dark:text-white truncate"> </p> <p class="text-xs text-gray-500 dark:text-gray-400 truncate"> </p></button> <div class="flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-1.5 text-gray-400 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors" title="เปิดลิงก์"><!></button> <button class="p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors" title="แก้ไข"><!></button> <button class="p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors" title="ลบ"><!></button></div>',1),lb=De('<div class="group flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 hover:border-amber-300 dark:hover:border-amber-600 transition-colors"><!> <!></div>'),cb=De('<div class="space-y-2"></div>'),db=De('<p class="text-xs text-red-500 flex items-center gap-1"><!> </p>'),ub=De('<div class="mt-4 p-4 bg-primary/5 dark:bg-primary/10 rounded-lg border border-primary/20 dark:border-primary/30"><h4 class="text-sm font-medium text-primary dark:text-primary mb-3">เพิ่มลิงก์ใหม่</h4> <div class="space-y-3"><input type="text" placeholder="ชื่อลิงก์ (เช่น Jira, GitHub, Figma...)" class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none dark:bg-gray-700 dark:text-white"/> <input type="text" placeholder="URL (เช่น github.com หรือ https://...)" class="w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none dark:bg-gray-700 dark:text-white"/> <!> <div class="flex gap-2"><button class="flex-1 px-4 py-2 text-blue-600 dark:text-blue-400 border border-blue-300 dark:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg font-medium transition-colors">บันทึก</button> <button class="px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">ยกเลิก</button></div></div></div>'),fb=De('<button class="w-full flex items-center justify-center gap-2 px-4 py-2.5 text-blue-600 dark:text-blue-400 border border-blue-300 dark:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg font-medium transition-colors"><!> เพิ่มลิงก์</button>'),pb=De('<p class="text-center text-sm text-gray-500 dark:text-gray-400"> </p>'),hb=De('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm"><div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-lg w-full max-h-[80vh] flex flex-col animate-modal-in svelte-isr8b"><div class="flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg"><!></div> <div><h3 class="text-lg font-semibold text-gray-900 dark:text-white">ที่คั่นลิงก์</h3> <p class="text-xs text-gray-500 dark:text-gray-400"> </p></div></div> <button class="p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"><!></button></div> <div class="flex-1 overflow-y-auto p-5"><!> <!></div> <div class="px-5 py-4 border-t border-gray-200 dark:border-gray-700"><!></div></div></div>');function gb(n,e){lr(e,!1);const t=()=>Sn(ss,"$bookmarks",r),[r,i]=ts(),s=Gs();let o=we(null),a=we(""),l=we(""),c=we(!1),d=we(""),u=we(""),f=null,p=we("");function h(ne){try{return new URL(ne),!0}catch{return!1}}function g(ne){return ne&&(!ne.startsWith("http://")&&!ne.startsWith("https://")?"https://"+ne:ne)}function m(){N(c,!0),N(d,""),N(u,""),N(p,""),N(o,null)}function y(){N(c,!1),N(d,""),N(u,""),N(p,"")}function S(){if(!E(d).trim()){N(p,"กรุณาระบุชื่อลิงก์");return}if(!E(u).trim()){N(p,"กรุณาระบุ URL");return}const ne=g(E(u).trim());if(!h(ne)){N(p,"URL ไม่ถูกต้อง");return}ss.add(E(d).trim(),ne),N(c,!1),N(d,""),N(u,""),N(p,"")}function M(ne){N(o,ne.id),N(a,ne.title),N(l,ne.url),N(c,!1),N(p,"")}function b(){N(o,null),N(a,""),N(l,""),N(p,"")}function C(){if(!E(a).trim()){N(p,"กรุณาระบุชื่อลิงก์");return}const ne=g(E(l).trim());if(!h(ne)){N(p,"URL ไม่ถูกต้อง");return}E(o)&&ss.update(E(o),E(a).trim(),ne),N(o,null),N(a,""),N(l,""),N(p,"")}function w(ne){confirm("ต้องการลบลิงก์นี้?")&&ss.remove(ne)}function D(ne){f=ne}function P(ne,xe){ne.preventDefault(),!(f===null||f===xe)&&(ss.reorder(f,xe),f=xe)}function L(){f=null}function ee(ne){window.open(ne,"_blank","noopener,noreferrer")}Ws();var de=hb(),ye=_(de),ie=_(ye),le=_(ie),ue=_(le),Me=_(ue);Fl(Me,{class:"text-primary",size:20}),v(ue);var R=k(ue,2),A=k(_(R),2),F=_(A);v(A),v(R),v(le);var Z=k(le,2),ce=_(Z);bi(ce,{size:20}),v(Z),v(ie);var _e=k(ie,2),se=_(_e);{var te=ne=>{var xe=rb(),Re=_(xe),Xe=_(Re);Fl(Xe,{size:28,class:"text-gray-400"}),v(Re),Ms(4),v(xe),W(ne,xe)},U=ne=>{var xe=cb();xo(xe,7,t,Re=>Re.id,(Re,Xe,Ue)=>{var ot=lb(),ht=_(ot);{var oe=Fe=>{var Ne=ib(),rt=_(Ne);sm(rt,{size:16}),v(Ne),W(Fe,Ne)};Te(ht,Fe=>{E(o)!==E(Xe).id&&Fe(oe)})}var at=k(ht,2);{var He=Fe=>{var Ne=ob(),rt=_(Ne);dn(rt);var dt=k(rt,2);dn(dt);var $=k(dt,2);{var V=ut=>{var At=sb(),I=_(At);Sd(I,{size:12});var j=k(I);v(At),Ve(()=>re(j,` ${E(p)??""}`)),W(ut,At)};Te($,ut=>{E(p)&&ut(V)})}var fe=k($,2),Pe=_(fe),lt=k(Pe,2);v(fe),v(Ne),un(rt,()=>E(a),ut=>N(a,ut)),un(dt,()=>E(l),ut=>N(l,ut)),ct("click",Pe,C),ct("click",lt,b),W(Fe,Ne)},Oe=Fe=>{var Ne=ab(),rt=it(Ne),dt=_(rt),$=_(dt,!0);v(dt);var V=k(dt,2),fe=_(V,!0);v(V),v(rt);var Pe=k(rt,2),lt=_(Pe),ut=_(lt);om(ut,{size:14}),v(lt);var At=k(lt,2),I=_(At);fm(I,{size:14}),v(At);var j=k(At,2),me=_(j);wc(me,{size:14}),v(j),v(Pe),Ve(()=>{re($,E(Xe).title),re(fe,E(Xe).url)}),ct("click",rt,()=>ee(E(Xe).url)),ct("click",lt,()=>ee(E(Xe).url)),ct("click",At,()=>M(E(Xe))),ct("click",j,()=>w(E(Xe).id)),W(Fe,Ne)};Te(at,Fe=>{E(o)===E(Xe).id?Fe(He):Fe(Oe,!1)})}v(ot),Ve(()=>Nt(ot,"draggable",E(o)!==E(Xe).id)),ct("dragstart",ot,()=>D(E(Ue))),ct("dragover",ot,Fe=>P(Fe,E(Ue))),ct("dragend",ot,L),W(Re,ot)}),v(xe),W(ne,xe)};Te(se,ne=>{t().length===0&&!E(c)?ne(te):ne(U,!1)})}var Se=k(se,2);{var nt=ne=>{var xe=ub(),Re=k(_(xe),2),Xe=_(Re);dn(Xe);var Ue=k(Xe,2);dn(Ue);var ot=k(Ue,2);{var ht=Oe=>{var Fe=db(),Ne=_(Fe);Sd(Ne,{size:12});var rt=k(Ne);v(Fe),Ve(()=>re(rt,` ${E(p)??""}`)),W(Oe,Fe)};Te(ot,Oe=>{E(p)&&Oe(ht)})}var oe=k(ot,2),at=_(oe),He=k(at,2);v(oe),v(Re),v(xe),un(Xe,()=>E(d),Oe=>N(d,Oe)),un(Ue,()=>E(u),Oe=>N(u,Oe)),ct("click",at,S),ct("click",He,y),W(ne,xe)};Te(Se,ne=>{E(c)&&ne(nt)})}v(_e);var Ge=k(_e,2),ge=_(Ge);{var qe=ne=>{var xe=fb(),Re=_(xe);hm(Re,{size:18}),Ms(),v(xe),ct("click",xe,m),W(ne,xe)},pt=ne=>{var xe=kt(),Re=it(xe);{var Xe=Ue=>{var ot=pb(),ht=_(ot);v(ot),Ve(()=>re(ht,`เต็มแล้ว (สูงสุด ${oi} ลิงก์)`)),W(Ue,ot)};Te(Re,Ue=>{t().length>=oi&&Ue(Xe)},!0)}W(ne,xe)};Te(ge,ne=>{t().length<oi&&!E(c)?ne(qe):ne(pt,!1)})}v(Ge),v(ye),v(de),Ve(()=>re(F,`${t().length??""} / ${oi} ลิงก์`)),ct("click",Z,()=>s("close")),ct("click",de,Ec(()=>s("close"))),W(n,de),cr(),i()}var mb=De('<!> <span class="hidden md:inline"> </span>',1),bb=De('<!> <span class="hidden md:inline"> </span>',1),yb=De('<div class="mx-3 sm:mx-4 md:mx-5 mt-3 p-3 bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg flex items-start gap-2.5"><!> <div class="flex-1 min-w-0"><p class="font-semibold text-sm text-blue-900 dark:text-blue-100"> </p> <p class="mt-1.5 text-xs text-blue-800 dark:text-blue-200 leading-relaxed"> <code class="bg-blue-100 dark:bg-blue-900/50 px-1 rounded font-mono">.env.example</code> <code class="bg-blue-100 dark:bg-blue-900/50 px-1 rounded font-mono">.env</code> <a href="https://tldraw.dev" target="_blank" rel="noopener noreferrer" class="underline hover:no-underline">tldraw.dev</a></p></div> <button class="shrink-0 p-1 rounded hover:bg-blue-100 dark:hover:bg-blue-900/50 text-blue-600 dark:text-blue-400"><!></button></div>'),vb=De('<div class="absolute inset-0 z-10 bg-white/80 dark:bg-gray-950/80 flex items-center justify-center"><div class="flex items-center gap-2 text-xs sm:text-sm text-gray-600 dark:text-gray-300"><!> <span> </span></div></div>'),_b=De('<div><div><div class="px-3 sm:px-4 md:px-5 py-2.5 sm:py-3 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between gap-2"><div class="min-w-0 flex-1"><h3 class="text-sm sm:text-base md:text-lg font-semibold text-gray-900 dark:text-white truncate"> </h3> <div class="text-[10px] sm:text-xs text-gray-500 dark:text-gray-400 mt-0.5 flex items-center gap-1 sm:gap-1.5"><!> <span class="truncate"> </span></div></div> <div class="flex items-center gap-1.5 sm:gap-2 shrink-0"><button class="px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded-md sm:rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors flex items-center gap-1 sm:gap-1.5"><!></button> <button class="px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded-md sm:rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors flex items-center gap-1 sm:gap-1.5"><!> <span class="hidden md:inline"> </span></button> <button class="px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm rounded-md sm:rounded-lg border border-red-300 dark:border-red-800 text-red-600 dark:text-red-300 hover:bg-red-50 dark:hover:bg-red-950/40 transition-colors flex items-center gap-1 sm:gap-1.5"><!> <span class="hidden md:inline"> </span></button> <button class="w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center rounded-md sm:rounded-lg border border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors shrink-0"><!></button></div></div> <div class="flex-1 min-h-0 bg-white dark:bg-gray-950 relative"><!> <!> <div class="w-full h-full"></div></div></div></div>');function xb(n,e){lr(e,!1);const t=()=>Sn(js,"$_",r),[r,i]=ts(),s="sync-room-code",o="whiteboard-snapshot-v1",a="whiteboard-sync-host",l="https://demo.tldraw.xyz",c=Gs();let d=Lt(e,"open",8,!1),u=we(null),f=null,p=null,h=we("offline"),g=we(t()("whiteboard__status_offline")),m=we(!1),y=we(!1),S=null,M=null,b="offline",C="",w=l,D=we(!0),P=we(!1),L=we(!1),ee=we(!0);_c(()=>{A()});function de(){if(typeof localStorage>"u")return null;const te=localStorage.getItem(o);if(!te)return null;M=te;try{return JSON.parse(te)}catch{return localStorage.removeItem(o),M=null,null}}function ye(te){try{const U=JSON.stringify(te);M=U,S&&clearTimeout(S),S=setTimeout(()=>{localStorage.setItem(o,U)},180)}catch(U){console.warn("Failed to persist whiteboard snapshot",U)}}function ie(te){ye(te)}function le(){const te=localStorage.getItem(s)?.trim().toUpperCase()??"",U=localStorage.getItem(a)?.trim();if(C=te,w=U&&U.length>0?U:l,C){b="sync",N(h,"connecting"),N(g,t()("whiteboard__status_connecting",{values:{room:C}}));return}b="offline",N(h,"offline"),N(g,t()("whiteboard__status_no_room"))}function ue(te,U){b==="sync"&&(N(h,te),N(g,U))}async function Me(){if(E(u)){if(!p){const te=await mm(()=>import("./BjnVOl61.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url);p=te,N(D,te.hasTldrawLicense()),N(P,!0)}f||(f=p.mountTldrawBridge({target:E(u),mode:b,initialSnapshot:de(),onUserSnapshot:ie,onSyncStatus:ue,...b==="sync"?{syncRoomId:C,syncHost:w}:{}}))}}async function R(){N(m,!0);try{le(),await jg(),await Me()}finally{N(m,!1)}}function A(){S&&(clearTimeout(S),S=null),f&&(f.unmount(),f=null),b="offline",N(h,"offline"),N(g,t()("whiteboard__status_offline")),C=""}async function F(){if(!f)return;const te=await f.exportPng();if(!te){c("notify",{message:t()("whiteboard__notify_export_error"),type:"error"});return}const U=document.createElement("a");U.href=te,U.download=`whiteboard-${new Date().toISOString().replace(/[:.]/g,"-")}.png`,U.click(),c("notify",{message:t()("whiteboard__notify_export_success"),type:"success"})}function Z(){confirm(t()("whiteboard__confirm_clear"))&&(f?.clearCurrentPage(),localStorage.removeItem(o),M=null,c("notify",{message:t()("whiteboard__notify_clear_success"),type:"success"}))}kr(()=>(Bl(d()),E(y)),()=>{d()&&!E(y)&&(N(y,!0),R())}),kr(()=>(Bl(d()),E(y)),()=>{!d()&&E(y)&&(N(y,!1),A())}),xc(),Ws();var ce=kt(),_e=it(ce);{var se=te=>{var U=_b();let Se;var nt=_(U);let Ge;var ge=_(nt),qe=_(ge),pt=_(qe),ne=_(pt,!0);v(pt);var xe=k(pt,2),Re=_(xe);{var Xe=J=>{zm(J,{size:12,class:"text-emerald-500 shrink-0"})},Ue=J=>{var Ce=kt(),ze=it(Ce);{var Ee=T=>{Md(T,{size:12,class:"animate-spin text-amber-500 shrink-0"})},x=T=>{var B=kt(),be=it(B);{var Ye=q=>{Ad(q,{size:12,class:"text-red-500 shrink-0"})},Be=q=>{Ad(q,{size:12,class:"text-gray-400 shrink-0"})};Te(be,q=>{E(h)==="error"?q(Ye):q(Be,!1)},!0)}W(T,B)};Te(ze,T=>{E(h)==="connecting"?T(Ee):T(x,!1)},!0)}W(J,Ce)};Te(Re,J=>{E(h)==="online"?J(Xe):J(Ue,!1)})}var ot=k(Re,2),ht=_(ot,!0);v(ot),v(xe),v(qe);var oe=k(qe,2),at=_(oe),He=_(at);{var Oe=J=>{var Ce=mb(),ze=it(Ce);Im(ze,{size:15});var Ee=k(ze,2),x=_(Ee,!0);v(Ee),Ve(T=>re(x,T),[()=>(t(),Q(()=>t()("whiteboard__mode_mini")))]),W(J,Ce)},Fe=J=>{var Ce=bb(),ze=it(Ce);Rm(ze,{size:15});var Ee=k(ze,2),x=_(Ee,!0);v(Ee),Ve(T=>re(x,T),[()=>(t(),Q(()=>t()("whiteboard__mode_fullscreen")))]),W(J,Ce)};Te(He,J=>{E(L)?J(Oe):J(Fe,!1)})}v(at);var Ne=k(at,2),rt=_(Ne);am(rt,{size:15});var dt=k(rt,2),$=_(dt,!0);v(dt),v(Ne);var V=k(Ne,2),fe=_(V);wc(fe,{size:15});var Pe=k(fe,2),lt=_(Pe,!0);v(Pe),v(V);var ut=k(V,2),At=_(ut);bi(At,{size:16}),v(ut),v(oe),v(ge);var I=k(ge,2),j=_(I);{var me=J=>{var Ce=yb(),ze=_(Ce);lm(ze,{size:18,class:"text-blue-600 dark:text-blue-400 shrink-0 mt-0.5"});var Ee=k(ze,2),x=_(Ee),T=_(x,!0);v(x);var B=k(x,2),be=_(B),Ye=k(be,2),Be=k(Ye,2);Ms(),v(B),v(Ee);var q=k(Ee,2),Y=_(q);bi(Y,{size:14}),v(q),v(Ce),Ve((ve,xt,_t,Kt,gn)=>{re(T,ve),re(be,`${xt??""} `),re(Ye,` ${_t??""} `),re(Be,` ${Kt??""} `),Nt(q,"title",gn)},[()=>(t(),Q(()=>t()("whiteboard__license_title"))),()=>(t(),Q(()=>t()("whiteboard__license_copy"))),()=>(t(),Q(()=>t()("whiteboard__license_to"))),()=>(t(),Q(()=>t()("whiteboard__license_then"))),()=>(t(),Q(()=>t()("whiteboard__btn_close")))]),ct("click",q,()=>N(ee,!1)),W(J,Ce)};Te(j,J=>{E(P)&&!E(D)&&E(ee)&&J(me)})}var je=k(j,2);{var $e=J=>{var Ce=vb(),ze=_(Ce),Ee=_(ze);Md(Ee,{size:14,class:"sm:w-4 sm:h-4 animate-spin"});var x=k(Ee,2),T=_(x,!0);v(x),v(ze),v(Ce),Ve(B=>re(T,B),[()=>(t(),Q(()=>t()("whiteboard__loading")))]),W(J,Ce)};Te(je,J=>{E(m)&&J($e)})}var G=k(je,2);Ao(G,J=>N(u,J),()=>E(u)),v(I),v(nt),v(U),Ve((J,Ce,ze,Ee,x,T,B)=>{Se=vt(U,1,"fixed inset-0 z-[9999] bg-black/60 backdrop-blur-sm flex items-center justify-center transition-all duration-300",null,Se,{"p-2":!E(L),"sm:p-4":!E(L),"md:p-6":!E(L),"pt-20":!E(L),"sm:pt-20":!E(L),"md:pt-6":!E(L)}),Ge=vt(nt,1,"bg-white dark:bg-gray-900 flex flex-col overflow-hidden transition-all duration-300 ease-in-out",null,Ge,{"w-full":E(L),"h-full":E(L),"max-w-7xl":!E(L),"rounded-lg":!E(L),"sm:rounded-xl":!E(L),"md:rounded-2xl":!E(L),"shadow-2xl":!E(L),border:!E(L),"border-gray-200":!E(L),"dark:border-gray-700":!E(L)}),Na(nt,E(L)?"":"width: 100%; height: calc(100vh - 5rem);"),re(ne,J),re(ht,E(g)),Nt(at,"title",Ce),Nt(Ne,"title",ze),re($,Ee),Nt(V,"title",x),re(lt,T),Nt(ut,"title",B)},[()=>(t(),Q(()=>t()("whiteboard__title"))),()=>(E(L),t(),Q(()=>E(L)?t()("whiteboard__mode_mini"):t()("whiteboard__mode_fullscreen"))),()=>(t(),Q(()=>t()("whiteboard__btn_export"))),()=>(t(),Q(()=>t()("whiteboard__btn_export"))),()=>(t(),Q(()=>t()("whiteboard__btn_clear"))),()=>(t(),Q(()=>t()("whiteboard__btn_clear"))),()=>(t(),Q(()=>t()("whiteboard__btn_close")))]),ct("click",at,()=>N(L,!E(L))),ct("click",Ne,F),ct("click",V,Z),ct("click",ut,()=>c("close")),ct("click",U,Ec(()=>c("close"))),W(te,U)};Te(_e,te=>{d()&&te(se)})}W(n,ce),cr(),i()}const Qa="khu-phaen-quick-notes-v1";function Eb(){const n=()=>{if(typeof window>"u")return"";try{return localStorage.getItem(Qa)||""}catch(i){console.error("Failed to load quick notes:",i)}return""},{subscribe:e,set:t,update:r}=Lf(n());return{subscribe:e,set:i=>{typeof window<"u"&&localStorage.setItem(Qa,i),t(i)},clear:()=>{typeof window<"u"&&localStorage.removeItem(Qa),t("")}}}const el=Eb();function nn(n){this.content=n}nn.prototype={constructor:nn,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new nn(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new nn(t)},addToStart:function(n,e){return new nn([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new nn(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new nn(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=nn.from(n),n.size?new nn(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=nn.from(n),n.size?new nn(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=nn.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};nn.from=function(n){if(n instanceof nn)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new nn(e)};function Hf(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=Hf(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function Kf(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){t-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:t,b:r};if(o.isText&&o.text!=a.text){let c=0,d=Math.min(o.text.length,a.text.length);for(;c<d&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(o.content.size||a.content.size){let c=Kf(o.content,a.content,t-1,r-1);if(c)return c}t-=l,r-=l}}class z{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,a=0;a<t;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,t-d),r,i+d)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new z(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),r.push(a),i+=a.nodeSize),o=l}return new z(r,i)}cutByIndex(e,t){return e==t?z.empty:e==0&&t==this.content.length?this:new z(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new z(i,s)}addToStart(e){return new z([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new z(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return Hf(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Kf(this,e,t,r)}findIndex(e){if(e==0)return to(0,e);if(e==this.size)return to(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let i=this.child(t),s=r+i.nodeSize;if(s>=e)return s==e?to(t+1,s):to(t,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return z.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new z(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return z.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new z(t||e,r)}static from(e){if(!e)return z.empty;if(e instanceof z)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new z([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}z.empty=new z([],0);const tl={index:0,offset:0};function to(n,e){return tl.index=n,tl.offset=e,tl}function Io(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Io(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Io(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Mt=class Ul{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Io(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ul.none;if(e instanceof Ul)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Mt.none=[];class Do extends Error{}class ae{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Wf(this.content,e+this.openStart,t);return r&&new ae(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ae(Vf(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ae.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ae(z.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new ae(e,r,i)}}ae.empty=new ae(z.empty,0,0);function Vf(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(t);if(i==e||s.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(Vf(s.content,e-i-1,t-i-1)))}function Wf(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let a=Wf(o.content,e-s-1,t,o);return a&&n.replaceChild(i,o.copy(a))}function kb(n,e,t){if(t.openStart>n.depth)throw new Do("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Do("Inconsistent open depths");return Gf(n,e,t,0)}function Gf(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=Gf(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,a=o.content;return ui(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=wb(t,n);return ui(s,jf(n,o,a,e,r))}else return ui(s,Lo(n,e,r))}function qf(n,e){if(!e.type.compatibleContent(n.type))throw new Do("Cannot join "+e.type.name+" onto "+n.type.name)}function Hl(n,e,t){let r=n.node(t);return qf(r,e.node(t)),r}function di(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function gs(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(di(n.nodeAfter,r),s++));for(let a=s;a<o;a++)di(i.child(a),r);e&&e.depth==t&&e.textOffset&&di(e.nodeBefore,r)}function ui(n,e){return n.type.checkContent(e),n.copy(e)}function jf(n,e,t,r,i){let s=n.depth>i&&Hl(n,e,i+1),o=r.depth>i&&Hl(t,r,i+1),a=[];return gs(null,n,i,a),s&&o&&e.index(i)==t.index(i)?(qf(s,o),di(ui(s,jf(n,e,t,r,i+1)),a)):(s&&di(ui(s,Lo(n,e,i+1)),a),gs(e,t,i,a),o&&di(ui(o,Lo(t,r,i+1)),a)),gs(r,null,i,a),new z(a)}function Lo(n,e,t){let r=[];if(gs(null,n,t,r),n.depth>t){let i=Hl(n,e,t+1);di(ui(i,Lo(n,e,t+1)),r)}return gs(e,null,t,r),new z(r)}function wb(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(z.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Os{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Mt.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Po(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Os(t,r,s)}static resolveCached(e,t){let r=Id.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else Id.set(e,r=new Sb);let i=r.elts[r.i]=Os.resolve(e,t);return r.i=(r.i+1)%Nb,i}}class Sb{constructor(){this.elts=[],this.i=0}}const Nb=12,Id=new WeakMap;class Po{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Tb=Object.create(null);let Kr=class Kl{constructor(e,t,r,i=Mt.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||z.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Io(this.attrs,t||e.defaultAttrs||Tb)&&Mt.sameSet(this.marks,r||Mt.none)}copy(e=null){return e==this.content?this:new Kl(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Kl(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ae.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new ae(c,i.depth-o,s.depth-o)}replace(e,t,r){return kb(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Os.resolveCached(this,e)}resolveNoCache(e){return Os.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Yf(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=z.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Mt.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Mt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=z.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Kr.prototype.text=void 0;class Bo extends Kr{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Yf(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Bo(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Bo(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Yf(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class yi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new Mb(e,t);if(r.next==null)return yi.empty;let i=Jf(r);r.next&&r.err("Unexpected trailing text");let s=Lb(Db(i));return Pb(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!t||l.validEnd))return z.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:u}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(u)==-1){i.push(u);let f=s(u,a.concat(d));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}yi.empty=new yi(!0);class Mb{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Jf(n){let e=[];do e.push(Ob(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Ob(n){let e=[];do e.push(Cb(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Cb(n){let e=Ib(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Ab(n,e);else break;return e}function Dd(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Ab(n,e){let t=Dd(n),r=t;return n.eat(",")&&(n.next!="}"?r=Dd(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Rb(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function Ib(n){if(n.eat("(")){let e=Jf(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Rb(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Db(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=t())}else if(o.type=="star"){let l=t();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=t();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let d=t();i(s(o.expr,l),d),l=d}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let d=t();r(l,d),i(s(o.expr,l),d),l=d}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function Zf(n,e){return e-n}function Ld(n,e){let t=[];return r(e),t.sort(Zf);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&t.indexOf(l)==-1&&r(l)}}}function Lb(n){let e=Object.create(null);return t(Ld(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<i.length;d++)i[d][0]==a&&(c=i[d][1]);Ld(n,l).forEach(d=>{c||i.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let s=e[r.join(",")]=new yi(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(Zf);s.next.push({type:i[o][0],next:e[a.join(",")]||t(a)})}return s}}function Pb(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Xf(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Qf(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function ep(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function tp(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new $b(n,r,e[r]);return t}let Pd=class np{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=tp(e,r.attrs),this.defaultAttrs=Xf(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Qf(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Kr(this,this.computeAttrs(e),z.from(t),Mt.setFrom(r))}createChecked(e=null,t,r){return t=z.from(t),this.checkContent(t),new Kr(this,this.computeAttrs(e),t,Mt.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=z.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(z.empty,!0);return s?new Kr(this,e,t.append(s),Mt.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ep(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Mt.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new np(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Bb(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class $b{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Bb(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ta{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=tp(e,i.attrs),this.excluded=null;let s=Xf(this.attrs);this.instance=s?new Mt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Mt(this,Qf(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Ta(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){ep(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class rp{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=nn.from(e.nodes),t.marks=nn.from(e.marks||{}),this.nodes=Pd.compile(this.spec.nodes,this),this.marks=Ta.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=yi.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Bd(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Bd(this,o.split(" "))}this.nodeFromJSON=i=>Kr.fromJSON(this,i),this.markFromJSON=i=>Mt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Pd){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Bo(r,r.defaultAttrs,e,Mt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Bd(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function zb(n){return n.tag!=null}function Fb(n){return n.style!=null}class Vr{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(zb(i))this.tags.push(i);else if(Fb(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new zd(this,t,!1);return r.addAll(e,Mt.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new zd(this,t,!0);return r.addAll(e,Mt.none,t.from,t.to),ae.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Kb(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Fd(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Fd(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Vr(e,Vr.schemaRules(e)))}}const ip={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ub={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},sp={ol:!0,ul:!0},Cs=1,Vl=2,ms=4;function $d(n,e,t){return e!=null?(e?Cs:0)|(e==="full"?Vl:0):n&&n.whitespace=="pre"?Cs|Vl:t&~ms}class no{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=Mt.none,this.match=s||(o&ms?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(z.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Cs)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=z.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(z.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ip.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class zd{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=$d(null,t.preserveWhitespace,0)|(r?ms:0);i?s=new no(i.type,i.attrs,Mt.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new no(null,null,Mt.none,!0,null,o):s=new no(e.schema.topNodeType,null,Mt.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&Vl?"full":this.localPreserveWS||(i.options&Cs)>0,{schema:o}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(o.linebreakReplacement.create(),t,!0),a[l]&&this.insertNode(o.text(a[l]),t,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(o.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;sp.hasOwnProperty(o)&&this.parser.normalizeLists&&Hb(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:Ub.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,d=this.needsBlock;if(ip.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let u=l&&l.skip?t:this.readStyles(e,t);u&&this.addAll(e,u),c&&this.sync(s),this.needsBlock=d}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,t.attrs||null,r,t.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[t.mark];r=r.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Mt.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):Ud(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=$d(e,s,o.options);o.options&ms&&o.content.length==0&&(a|=ms);let l=Mt.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):Ud(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new no(e,t,l,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Cs)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let d=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Hb(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&sp.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Kb(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function Fd(n){let e={};for(let t in n)e[t]=n[t];return e}function Ud(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:d}=a.edge(l);if(c==e||s.indexOf(d)<0&&o(d))return!0}};if(o(i.contentMatch))return!0}}class wi{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=nl(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],d=this.serializeMark(c,o.isInline,t);d&&(s.push([c,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=ko(nl(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&ko(nl(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return ko(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new wi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Hd(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Hd(e.marks)}}function Hd(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function nl(n){return n.document||window.document}const Kd=new WeakMap;function Vb(n){let e=Kd.get(n);return e===void 0&&Kd.set(n,e=Wb(n)),e}function Wb(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function ko(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Vb(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),c=e[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let u in c)if(c[u]!=null){let f=u.indexOf(" ");f>0?l.setAttributeNS(u.slice(0,f),u.slice(f+1),c[u]):u=="style"&&l.style?l.style.cssText=c[u]:l.setAttribute(u,c[u])}}for(let u=d;u<e.length;u++){let f=e[u];if(f===0){if(u<e.length-1||u>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=ko(n,f,t,r);if(l.appendChild(p),h){if(a)throw new RangeError("Multiple content holes");a=h}}}return{dom:l,contentDOM:a}}const op=65535,ap=Math.pow(2,16);function Gb(n,e){return n+e*ap}function Vd(n){return n&op}function qb(n){return(n-(n&op))/ap}const lp=1,cp=2,wo=4,dp=8;class Wl{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&dp)>0}get deletedBefore(){return(this.delInfo&(lp|wo))>0}get deletedAfter(){return(this.delInfo&(cp|wo))>0}get deletedAcross(){return(this.delInfo&wo)>0}}class An{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&An.empty)return An.empty}recover(e){let t=0,r=Vd(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+qb(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],d=this.ranges[a+o],u=l+c;if(e<=u){let f=c?e==l?-1:e==u?1:t:t,p=l+i+(f<0?0:d);if(r)return p;let h=e==(t<0?l:u)?null:Gb(a/3,e-l),g=e==l?cp:e==u?lp:wo;return(t<0?e!=l:e!=u)&&(g|=dp),new Wl(p,g,h)}i+=d-c}return r?e+i:new Wl(e+i,0,null)}touches(e,t){let r=0,i=Vd(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],d=l+c;if(e<=d&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+t],d=this.ranges[i+r];e(a,a+c,l,l+d),s+=d-c}}invert(){return new An(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?An.empty:new An(e<0?[0,-e,0]:[0,0,e])}}An.empty=new An([]);class As{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new As(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new As;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Wl(e,i,null)}}const rl=Object.create(null);class pn{getMap(){return An.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=rl[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in rl)throw new RangeError("Duplicate use of step JSON ID "+e);return rl[e]=t,t.prototype.jsonID=e,t}}class Ut{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Ut(e,null)}static fail(e){return new Ut(null,e)}static fromReplace(e,t,r,i){try{return Ut.ok(e.replace(t,r,i))}catch(s){if(s instanceof Do)return Ut.fail(s.message);throw s}}}function Sc(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Sc(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return z.fromArray(r)}class $r extends pn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ae(Sc(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return Ut.fromReplace(e,this.from,this.to,s)}invert(){return new nr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new $r(t.pos,r.pos,this.mark)}merge(e){return e instanceof $r&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new $r(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new $r(t.from,t.to,e.markFromJSON(t.mark))}}pn.jsonID("addMark",$r);class nr extends pn{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ae(Sc(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return Ut.fromReplace(e,this.from,this.to,r)}invert(){return new $r(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new nr(t.pos,r.pos,this.mark)}merge(e){return e instanceof nr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new nr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new nr(t.from,t.to,e.markFromJSON(t.mark))}}pn.jsonID("removeMark",nr);class zr extends pn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ut.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Ut.fromReplace(e,this.pos,this.pos+1,new ae(z.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new zr(this.pos,t.marks[i]);return new zr(this.pos,this.mark)}}return new vi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new zr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new zr(t.pos,e.markFromJSON(t.mark))}}pn.jsonID("addNodeMark",zr);class vi extends pn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ut.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Ut.fromReplace(e,this.pos,this.pos+1,new ae(z.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new zr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new vi(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new vi(t.pos,e.markFromJSON(t.mark))}}pn.jsonID("removeNodeMark",vi);class Xt extends pn{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Gl(e,this.from,this.to)?Ut.fail("Structure replace would overwrite content"):Ut.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new An([this.from,this.to-this.from,this.slice.size])}invert(e){return new Xt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Xt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Xt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ae.empty:new ae(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Xt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ae.empty:new ae(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Xt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Xt(t.from,t.to,ae.fromJSON(e,t.slice),!!t.structure)}}pn.jsonID("replace",Xt);class Qt extends pn{constructor(e,t,r,i,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Gl(e,this.from,this.gapFrom)||Gl(e,this.gapTo,this.to)))return Ut.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Ut.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?Ut.fromReplace(e,this.from,this.to,r):Ut.fail("Content does not fit in gap")}getMap(){return new An([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Qt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new Qt(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Qt(t.from,t.to,t.gapFrom,t.gapTo,ae.fromJSON(e,t.slice),t.insert,!!t.structure)}}pn.jsonID("replaceAround",Qt);function Gl(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function jb(n,e,t,r){let i=[],s=[],o,a;n.doc.nodesBetween(e,t,(l,c,d)=>{if(!l.isInline)return;let u=l.marks;if(!r.isInSet(u)&&d.type.allowsMarkType(r.type)){let f=Math.max(c,e),p=Math.min(c+l.nodeSize,t),h=r.addToSet(u);for(let g=0;g<u.length;g++)u[g].isInSet(h)||(o&&o.to==f&&o.mark.eq(u[g])?o.to=p:i.push(o=new nr(f,p,u[g])));a&&a.to==f?a.to=p:s.push(a=new $r(f,p,r))}}),i.forEach(l=>n.step(l)),s.forEach(l=>n.step(l))}function Yb(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Ta){let c=o.marks,d;for(;d=r.isInSet(c);)(l||(l=[])).push(d),c=d.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,t);for(let d=0;d<l.length;d++){let u=l[d],f;for(let p=0;p<i.length;p++){let h=i[p];h.step==s-1&&u.eq(i[p].style)&&(f=h)}f?(f.to=c,f.step=s):i.push({style:u,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>n.step(new nr(o.from,o.to,o.style)))}function Nc(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),d=a+c.nodeSize,u=r.matchType(c.type);if(!u)o.push(new Xt(a,d,ae.empty));else{r=u;for(let f=0;f<c.marks.length;f++)t.allowsMarkType(c.marks[f].type)||n.step(new nr(a,d,c.marks[f]));if(i&&c.isText&&t.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(c.text);)h||(h=new ae(z.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),o.push(new Xt(a+f.index,a+f.index+f[0].length,h))}}a=d}if(!r.validEnd){let l=r.fillBefore(z.empty,!0);n.replace(a,a,new ae(l,0,0))}for(let l=o.length-1;l>=0;l--)n.step(o[l])}function Jb(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function ns(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,i=0,s=0;;--r){let o=n.$from.node(r),a=n.$from.index(r)+i,l=n.$to.indexAfter(r)-s;if(r<n.depth&&o.canReplace(a,l,t))return r;if(r==0||o.type.spec.isolating||!Jb(o,a,l))break;a&&(i=1),l<o.childCount&&(s=1)}return null}function Zb(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,d=z.empty,u=0;for(let h=s,g=!1;h>t;h--)g||r.index(h)>0?(g=!0,d=z.from(r.node(h).copy(d)),u++):l--;let f=z.empty,p=0;for(let h=s,g=!1;h>t;h--)g||i.after(h+1)<i.end(h)?(g=!0,f=z.from(i.node(h).copy(f)),p++):c++;n.step(new Qt(l,c,o,a,new ae(d.append(f),u,p),d.size-u,!0))}function Tc(n,e,t=null,r=n){let i=Xb(n,e),s=i&&Qb(r,e);return s?i.map(Wd).concat({type:e,attrs:t}).concat(s.map(Wd)):null}function Wd(n){return{type:n,attrs:null}}function Xb(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function Qb(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:o}function e0(n,e,t){let r=z.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let a=t[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=z.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new Qt(i,s,i,s,new ae(r,0,0),t.length,!0))}function t0(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&n0(n.doc,n.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!h?c=!1:!p&&h&&(c=!0)}c===!1&&fp(n,o,a,s),Nc(n,n.mapping.slice(s).map(a,1),r,void 0,c===null);let d=n.mapping.slice(s),u=d.map(a,1),f=d.map(a+o.nodeSize,1);return n.step(new Qt(u,f,u+1,f-1,new ae(z.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&up(n,o,a,s),!1}})}function up(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function fp(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function n0(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function r0(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Qt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ae(z.from(o),0,0),1,!0))}function Nr(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,d=t-2;c>s;c--,d--){let u=i.node(c),f=i.index(c);if(u.type.spec.isolating)return!1;let p=u.content.cutByIndex(f,u.childCount),h=r&&r[d+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let g=r&&r[d]||u;if(!u.canReplace(f+1,u.childCount)||!g.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function i0(n,e,t=1,r){let i=n.doc.resolve(e),s=z.empty,o=z.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){s=z.from(i.node(a).copy(s));let d=r&&r[c];o=z.from(d?d.type.create(d.attrs,o):i.node(a).copy(o))}n.step(new Xt(e,e,new ae(s.append(o),t,t),!0))}function Yr(n,e){let t=n.resolve(e),r=t.index();return pp(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function s0(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function pp(n,e){return!!(n&&e&&!n.isLeaf&&s0(n,e))}function Ma(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&pp(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function o0(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let d=o.whitespace=="pre",u=!!o.contentMatch.matchType(i);d&&!u?r=!1:!d&&u&&(r=!0)}let a=n.steps.length;if(r===!1){let d=n.doc.resolve(e+t);fp(n,d.node(),d.before(),a)}o.inlineContent&&Nc(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new Xt(c,l.map(e+t,-1),ae.empty,!0)),r===!0){let d=n.doc.resolve(c);up(n,d.node(),d.before(),n.steps.length)}return n}function a0(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function hp(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),d=!1;if(s==1)d=c.canReplace(l,l,i);else{let u=c.contentMatchAt(l).findWrapping(i.firstChild.type);d=u&&c.canReplaceWith(l,l,u[0])}if(d)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Oa(n,e,t=e,r=ae.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return gp(i,s,r)?new Xt(e,t,r):new l0(i,s,r).fit()}function gp(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class l0{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=z.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=z.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new ae(s,o,a);return e>-1?new Qt(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Xt(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=il(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],d,u=null;if(t==1&&(o?c.matchType(o.type)||(u=c.fillBefore(z.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:u};if(t==2&&o&&(d=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:d};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=il(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ae(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=il(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new ae(us(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new ae(us(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,d=[],{match:u,type:f}=this.frontier[t];if(i){for(let g=0;g<i.childCount;g++)d.push(i.child(g));u=u.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),m=u.matchType(g.type);if(!m)break;c++,(c>1||l==0||g.content.size)&&(u=m,d.push(mp(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?p:-1)))}let h=c==a.childCount;h||(p=-1),this.placed=fs(this.placed,t,z.from(d)),this.frontier[t].match=u,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=a;g<p;g++){let y=m.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),m=y.content}this.unplaced=h?e==0?ae.empty:new ae(us(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new ae(us(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!sl(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=sl(e,t,i,r,s);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],d=sl(e,a,c,l,!0);if(!d||d.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=fs(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=fs(this.placed,this.depth,z.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(z.empty,!0);t.childCount&&(this.placed=fs(this.placed,this.frontier.length,t))}}function us(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(us(n.firstChild.content,e-1,t)))}function fs(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(fs(n.lastChild.content,e-1,t)))}function il(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function mp(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,mp(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(z.empty,!0)))),n.copy(r)}function sl(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!c0(t,s.content,o)?a:null}function c0(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function d0(n){return n.spec.defining||n.spec.definingForContent}function u0(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(gp(i,s,r))return n.step(new Xt(e,t,r));let o=yp(i,s);o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let h=i.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==p&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],d=r.openStart;for(let f=r.content,p=0;;p++){let h=f.firstChild;if(c.push(h),p==r.openStart)break;f=h.content}for(let f=d-1;f>=0;f--){let p=c[f],h=d0(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(a)-1)))d=f;else if(h||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+d+1)%(r.openStart+1),h=c[p];if(h)for(let g=0;g<o.length;g++){let m=o[(g+l)%o.length],y=!0;m<0&&(y=!1,m=-m);let S=i.node(m-1),M=i.index(m-1);if(S.canReplaceWith(M,M,h.type,h.marks))return n.replace(i.before(m),y?s.after(m):t,new ae(bp(r.content,0,r.openStart,p),p,r.openEnd))}}let u=n.steps.length;for(let f=o.length-1;f>=0&&(n.replace(e,t,r),!(n.steps.length>u));f--){let p=o[f];p<0||(e=i.before(p),t=s.after(p))}}function bp(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(bp(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(z.empty,!0))}return n}function f0(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=a0(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new ae(z.from(r),0,0))}function p0(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=yp(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function yp(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class Hi extends pn{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return Ut.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return Ut.fromReplace(e,this.pos,this.pos+1,new ae(z.from(i),0,t.isLeaf?0:1))}getMap(){return An.empty}invert(e){return new Hi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Hi(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Hi(t.pos,t.attr,t.value)}}pn.jsonID("attr",Hi);class Rs extends pn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return Ut.ok(r)}getMap(){return An.empty}invert(e){return new Rs(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Rs(t.attr,t.value)}}pn.jsonID("docAttr",Rs);let Vi=class extends Error{};Vi=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Vi.prototype=Object.create(Error.prototype);Vi.prototype.constructor=Vi;Vi.prototype.name="TransformError";class vp{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new As}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Vi(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,t=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let i=this.mapping.maps[r];r&&(e=i.map(e,1),t=i.map(t,-1)),i.forEach((s,o,a,l)=>{e=Math.min(e,a),t=Math.max(t,l)})}return e==1e9?null:{from:e,to:t}}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ae.empty){let i=Oa(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new ae(z.from(r),0,0))}delete(e,t){return this.replace(e,t,ae.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return u0(this,e,t,r),this}replaceRangeWith(e,t,r){return f0(this,e,t,r),this}deleteRange(e,t){return p0(this,e,t),this}lift(e,t){return Zb(this,e,t),this}join(e,t=1){return o0(this,e,t),this}wrap(e,t){return e0(this,e,t),this}setBlockType(e,t=e,r,i=null){return t0(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return r0(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Hi(e,t,r)),this}setDocAttribute(e,t){return this.step(new Rs(e,t)),this}addNodeMark(e,t){return this.step(new zr(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Mt)t.isInSet(r.marks)&&this.step(new vi(e,t));else{let i=r.marks,s,o=[];for(;s=t.isInSet(i);)o.push(new vi(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,t=1,r){return i0(this,e,t,r),this}addMark(e,t,r){return jb(this,e,t,r),this}removeMark(e,t,r){return Yb(this,e,t,r),this}clearIncompatible(e,t,r){return Nc(this,e,t,r),this}}const ol=Object.create(null);class et{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new h0(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ae.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],d=e.mapping.slice(s);e.replaceRange(d.map(l.pos),d.map(c.pos),a?ae.empty:t),a==0&&jd(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),d=l.map(a.pos);s?e.deleteRange(c,d):(e.replaceRangeWith(c,d,t),jd(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new We(e):Di(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?Di(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Di(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Rn(e.node(0))}static atStart(e){return Di(e,e,0,0,1)||new Rn(e)}static atEnd(e){return Di(e,e,e.content.size,e.childCount,-1)||new Rn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ol[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in ol)throw new RangeError("Duplicate use of selection JSON ID "+e);return ol[e]=t,t.prototype.jsonID=e,t}getBookmark(){return We.between(this.$anchor,this.$head).getBookmark()}}et.prototype.visible=!0;class h0{constructor(e,t){this.$from=e,this.$to=t}}let Gd=!1;function qd(n){!Gd&&!n.parent.inlineContent&&(Gd=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class We extends et{constructor(e,t=e){qd(e),qd(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return et.near(r);let i=e.resolve(t.map(this.anchor));return new We(i.parent.inlineContent?i:r,r)}replace(e,t=ae.empty){if(super.replace(e,t),t==ae.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof We&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ca(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new We(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=et.findFrom(t,r,!0)||et.findFrom(t,-r,!0);if(s)t=s.$head;else return et.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(et.findFrom(e,-r,!0)||et.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new We(e,t)}}et.jsonID("text",We);class Ca{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ca(e.map(this.anchor),e.map(this.head))}resolve(e){return We.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ae extends et{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?et.near(s):new Ae(s)}content(){return new ae(z.from(this.node),0,0)}eq(e){return e instanceof Ae&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Mc(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ae(e.resolve(t.anchor))}static create(e,t){return new Ae(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ae.prototype.visible=!1;et.jsonID("node",Ae);class Mc{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Ca(r,r):new Mc(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Ae.isSelectable(r)?new Ae(t):et.near(t)}}class Rn extends et{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ae.empty){if(t==ae.empty){e.delete(0,e.doc.content.size);let r=et.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Rn(e)}map(e){return new Rn(e)}eq(e){return e instanceof Rn}getBookmark(){return g0}}et.jsonID("all",Rn);const g0={map(){return this},resolve(n){return new Rn(n)}};function Di(n,e,t,r,i,s=!1){if(e.inlineContent)return We.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Ae.isSelectable(a))return Ae.create(n,t-(i<0?a.nodeSize:0))}else{let l=Di(n,a,t+i,i<0?a.childCount:0,i,s);if(l)return l}t+=a.nodeSize*i}return null}function jd(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Xt||i instanceof Qt))return;let s=n.mapping.maps[r],o;s.forEach((a,l,c,d)=>{o==null&&(o=d)}),n.setSelection(et.near(n.doc.resolve(o),t))}const Yd=1,ro=2,Jd=4;class m0 extends vp{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Yd)&~ro,this.storedMarks=null,this}get selectionSet(){return(this.updated&Yd)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ro,this}ensureMarks(e){return Mt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ro)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~ro,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Mt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(et.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Jd,this}get scrolledIntoView(){return(this.updated&Jd)>0}}function Zd(n,e){return!e||!n?n:n.bind(e)}class ps{constructor(e,t,r){this.name=e,this.init=Zd(t.init,r),this.apply=Zd(t.apply,r)}}const b0=[new ps("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ps("selection",{init(n,e){return n.selection||et.atStart(e.doc)},apply(n){return n.selection}}),new ps("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new ps("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class al{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=b0.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ps(r.key,r.spec.state,r))})}}class Fi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,d=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,r);if(d&&r.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let u=0;u<this.config.plugins.length;u++)i.push(u<o?{state:r,n:t.length}:{state:this,n:0})}t.push(d),r=r.applyInner(d),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Fi(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new m0(this)}static create(e){let t=new al(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Fi(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new al(this.schema,e.plugins),r=t.fields,i=new Fi(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new al(e.schema,e.plugins),s=new Fi(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Kr.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=et.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=c.fromJSON.call(l,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function _p(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=_p(i,e,{})),t[r]=i}return t}class Ht{constructor(e){this.spec=e,this.props={},e.props&&_p(e.props,this,this.props),this.key=e.key?e.key.key:xp("plugin")}getState(e){return e[this.key]}}const ll=Object.create(null);function xp(n){return n in ll?n+"$"+ ++ll[n]:(ll[n]=0,n+"$")}class hn{constructor(e="key"){this.key=xp(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const rn=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Wi=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let ql=null;const Er=function(n,e,t){let r=ql||(ql=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},y0=function(){ql=null},_i=function(n,e,t,r){return t&&(Xd(n,e,t,r,-1)||Xd(n,e,t,r,1))},v0=/^(img|br|input|textarea|hr)$/i;function Xd(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:zn(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Ys(n)||v0.test(n.nodeName)||n.contentEditable=="false")return!1;e=rn(n)+(i<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=o,e=i<0?zn(n):0}else return!1}}function zn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function _0(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=zn(n)}else if(n.parentNode&&!Ys(n))e=rn(n),n=n.parentNode;else return null}}function x0(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Ys(n))e=rn(n)+1,n=n.parentNode;else return null}}function E0(n,e,t){for(let r=e==0,i=e==zn(n);r||i;){if(n==t)return!0;let s=rn(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==zn(n)}}function Ys(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Aa=function(n){return n.focusNode&&_i(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function ii(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function k0(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function w0(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(zn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(zn(r.startContainer),r.startOffset)}}}const ir=typeof navigator<"u"?navigator:null,Qd=typeof document<"u"?document:null,Jr=ir&&ir.userAgent||"",jl=/Edge\/(\d+)/.exec(Jr),Ep=/MSIE \d/.exec(Jr),Yl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jr),Mn=!!(Ep||Yl||jl),Wr=Ep?document.documentMode:Yl?+Yl[1]:jl?+jl[1]:0,Fn=!Mn&&/gecko\/(\d+)/i.test(Jr);Fn&&+(/Firefox\/(\d+)/.exec(Jr)||[0,0])[1];const Jl=!Mn&&/Chrome\/(\d+)/.exec(Jr),on=!!Jl,kp=Jl?+Jl[1]:0,fn=!Mn&&!!ir&&/Apple Computer/.test(ir.vendor),Gi=fn&&(/Mobile\/\w+/.test(Jr)||!!ir&&ir.maxTouchPoints>2),$n=Gi||(ir?/Mac/.test(ir.platform):!1),wp=ir?/Win/.test(ir.platform):!1,wr=/Android \d/.test(Jr),Js=!!Qd&&"webkitFontSmoothing"in Qd.documentElement.style,S0=Js?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function N0(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function br(n,e){return typeof n=="number"?n:n[e]}function T0(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function eu(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=Wi(o);continue}let a=o,l=a==s.body,c=l?N0(s):T0(a),d=0,u=0;if(e.top<c.top+br(r,"top")?u=-(c.top-e.top+br(i,"top")):e.bottom>c.bottom-br(r,"bottom")&&(u=e.bottom-e.top>c.bottom-c.top?e.top+br(i,"top")-c.top:e.bottom-c.bottom+br(i,"bottom")),e.left<c.left+br(r,"left")?d=-(c.left-e.left+br(i,"left")):e.right>c.right-br(r,"right")&&(d=e.right-c.right+br(i,"right")),d||u)if(l)s.defaultView.scrollBy(d,u);else{let p=a.scrollLeft,h=a.scrollTop;u&&(a.scrollTop+=u),d&&(a.scrollLeft+=d);let g=a.scrollLeft-p,m=a.scrollTop-h;e={left:e.left-g,top:e.top-m,right:e.right-g,bottom:e.bottom-m}}let f=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(f))break;o=f=="absolute"?o.offsetParent:Wi(o)}}function M0(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:Sp(n.dom)}}function Sp(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Wi(r));return e}function O0({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Np(t,r==0?0:r-e)}function Np(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Ci=null;function C0(n){if(n.setActive)return n.setActive();if(Ci)return n.focus(Ci);let e=Sp(n);n.focus(Ci==null?{get preventScroll(){return Ci={preventScroll:!0},!0}}:void 0),Ci||(Ci=!1,Np(e,0))}function Tp(n,e){let t,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let d=n.firstChild,u=0;d;d=d.nextSibling,u++){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=Er(d).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=o&&h.bottom>=a){o=Math.max(h.bottom,o),a=Math.min(h.top,a);let g=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(g<r){t=d,r=g,i=g&&t.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,d.nodeType==1&&g&&(s=u+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=d,c={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!t&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=u+1)}}return!t&&l&&(t=l,i=c,r=0),t&&t.nodeType==3?A0(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:Tp(t,i)}function A0(n,e){let t=n.nodeValue.length,r=document.createRange(),i;for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let o=Rr(r,1);if(o.top!=o.bottom&&Oc(e,o)){i={node:n,offset:s+(e.left>=(o.left+o.right)/2?1:0)};break}}return r.detach(),i||{node:n,offset:0}}function Oc(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function R0(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function I0(n,e,t){let{node:r,offset:i}=Tp(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function D0(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let a=n.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function Mp(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Oc(e,c))return Mp(o,e,c)}}if((s=(s+1)%r)==i)break}return n}function L0(n,e){let t=n.dom.ownerDocument,r,i=0,s=w0(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=n.dom.getBoundingClientRect();if(!Oc(e,c)||(o=Mp(n.dom,e,c),!o))return null}if(fn)for(let c=o;r&&c;c=Wi(c))c.draggable&&(r=void 0);if(o=R0(o,e),r){if(Fn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],u;d.nodeName=="IMG"&&(u=d.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}let c;Js&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=D0(n,r,i,e))}a==null&&(a=I0(n,o,e));let l=n.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function tu(n){return n.top<n.bottom||n.left<n.right}function Rr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(tu(r))return r}return Array.prototype.find.call(t,tu)||n.getBoundingClientRect()}const P0=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Op(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=Js||Fn;if(r.nodeType==3)if(o&&(P0.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=Rr(Er(r,i,i),t);if(Fn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Rr(Er(r,i-1,i-1),-1);if(c.top==l.top){let d=Rr(Er(r,i,i+1),-1);if(d.top!=l.top)return as(d,d.left<c.left)}}return l}else{let l=i,c=i,d=t<0?1:-1;return t<0&&!i?(c++,d=-1):t>=0&&i==r.nodeValue.length?(l--,d=1):t<0?l--:c++,as(Rr(Er(r,l,c),d),d<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==zn(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return cl(l.getBoundingClientRect(),!1)}if(s==null&&i<zn(r)){let l=r.childNodes[i];if(l.nodeType==1)return cl(l.getBoundingClientRect(),!0)}return cl(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==zn(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Er(l,zn(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return as(Rr(c,1),!1)}if(s==null&&i<zn(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Er(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return as(Rr(c,-1),!0)}return as(Rr(r.nodeType==3?Er(r):r,-t),t>=0)}function as(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function cl(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Cp(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function B0(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return Cp(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=Op(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Er(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let d=l[c];if(d.bottom>d.top+1&&(t=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const $0=/[\u0590-\u08ac]/;function z0(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return a?!$0.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:Cp(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:d,anchorOffset:u}=n.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",t,"character");let p=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:h,focusOffset:g}=n.domSelectionRange(),m=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&c==g;try{a.collapse(d,u),l&&(l!=d||c!=u)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),m}):r.pos==r.start()||r.pos==r.end()}let nu=null,ru=null,iu=!1;function F0(n,e,t){return nu==e&&ru==t?iu:(nu=e,ru=t,iu=t=="up"||t=="down"?B0(n,e,t):z0(n,e,t))}const Un=0,su=1,ai=2,sr=3;class Zs{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Un,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>rn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof Rp){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Ap&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?rn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?rn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let d=o+l.border;if(e>=d&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,d);e=o;for(let u=a;u>0;u--){let f=this.children[u-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=rn(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(let d=a+1;d<this.children.length;d++){let u=this.children[d];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){s=rn(u.dom);break}t+=u.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let p=0,h=0;p<this.children.length;p++){let g=this.children[p],m=h+g.size;if(s>h&&o<m)return g.setSelection(e-h-g.border,t-h-g.border,r,i);h=m}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=r.root.getSelection(),d=r.domSelectionRange(),u=!1;if((Fn||fn)&&e==t){let{node:p,offset:h}=a;if(p.nodeType==3){if(u=!!(h&&p.nodeValue[h-1]==`
`),u&&h==p.nodeValue.length)for(let g=p,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:rn(m)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=p.childNodes[h-1];u=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Fn&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let p=d.focusNode.childNodes[d.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||u&&fn)&&_i(a.node,a.offset,d.anchorNode,d.anchorOffset)&&_i(l.node,l.offset,d.focusNode,d.focusOffset))return;let f=!1;if((c.extend||e==t)&&!(u&&Fn)){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>t){let h=a;a=l,l=h}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let a=r+s.border,l=o-s.border;if(e>=a&&t<=l){this.dirty=e==r||t==o?ai:su,e==a&&t==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=sr:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ai:sr}r=o}this.dirty=ai}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?ai:su;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Ap extends Zs{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Un&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class U0 extends Zs{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class xi extends Zs{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=wi.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new xi(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&sr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=sr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Un){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Un}}slice(e,t,r){let i=xi.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=Xl(s,t,o,r)),e>0&&(s=Xl(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Gr extends Zs{constructor(e,t,r,i,s,o,a,l,c){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,s,o){let a=s.nodeViews[t.type.name],l,c=a&&a(t,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),d=c&&c.dom,u=c&&c.contentDOM;if(t.isText){if(!d)d=document.createTextNode(t.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:u}=wi.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!u&&!t.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),t.type.spec.draggable&&(d.draggable=!0));let f=d;return d=Lp(d,r,t),c?l=new H0(e,t,r,i,d,u||null,f,c,s,o+1):t.isText?new Ra(e,t,r,i,d,f,s):new Gr(e,t,r,i,d,u||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>z.empty)}return e}matchesNode(e,t,r){return this.dirty==Un&&e.eq(this.node)&&$o(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new V0(this,o&&o.node,e);q0(this.node,this.innerDeco,(c,d,u)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e,d):c.type.side>=0&&!u&&l.syncToMarks(d==this.node.childCount?Mt.none:this.node.child(d).marks,r,e,d),l.placeWidget(c,e,i)},(c,d,u,f)=>{l.syncToMarks(c.marks,r,e,f);let p;l.findNodeMatch(c,d,u,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,d,u,p,e)||l.updateNextNode(c,d,u,e,f,i)||l.addNode(c,d,u,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ai)&&(o&&this.protectLocalComposition(e,o),Ip(this.contentDOM,this.children,e),Gi&&j0(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof We)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Y0(this.node.content,o,r-t,i-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new U0(this,s,t,i);e.input.compositionNodes.push(o),this.children=Xl(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==sr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Un}updateOuterDeco(e){if($o(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Dp(this.dom,this.nodeDOM,Zl(this.outerDeco,this.node,t),Zl(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ou(n,e,t,r,i){Lp(r,e,n);let s=new Gr(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Ra extends Gr{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==sr||this.dirty!=Un&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Un||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Un,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new Ra(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=sr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Rp extends Zs{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Un&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class H0 extends Gr{constructor(e,t,r,i,s,o,a,l,c,d){super(e,t,r,i,s,o,a,c,d),this.spec=l}update(e,t,r,i){if(this.dirty==sr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Ip(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=au(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof xi){let l=r?r.previousSibling:n.lastChild;Ip(o.contentDOM,o.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=au(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const bs=function(n){n&&(this.nodeName=n)};bs.prototype=Object.create(null);const li=[new bs];function Zl(n,e,t){if(n.length==0)return li;let r=t?li[0]:new bs,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new bs(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&i.length==1&&i.push(r=new bs(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function Dp(n,e,t,r){if(t==li&&r==li)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=li[0]),i=l}K0(i,a||li[0],o)}return i}function K0(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function Lp(n,e,t){return Dp(n,n,li,Zl(e,t,n.nodeType!=1))}function $o(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function au(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class V0{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=W0(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r,i){let s=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;s<a&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=Un,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1,c=this.top.children.length;i<this.preMatch.index&&(c=Math.min(this.index+3,c));for(let d=this.index;d<c;d++){let u=this.top.children[d];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=d;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let d=xi.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==sr&&o.dom==o.contentDOM&&(o.dirty=ai),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Gr){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let d=l.dom,u,f=this.isLocked(d)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=sr&&$o(t,l.outerDeco));if(!f&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!f&&(u=this.recreateWrapper(l,e,t,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=ai,u.updateChildren(i,o+1),u.dirty=Un),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!$o(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Gr.create(this.top,t,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,s){let o=Gr.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Ap(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof xi;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Ra)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fn||on)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Rp(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function W0(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=t.children[r-1];if(c instanceof xi)t=c,r=c.children.length;else{a=c,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function G0(n,e){return n.type.side-e.type.side}function q0(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let c=0;c<n.childCount;c++){let d=n.child(c);r(d,i,e.forChild(s,d),c),s+=d.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let d,u;for(;o<i.length&&i[o].to==s;){let m=i[o++];m.widget&&(d?(u||(u=[d])).push(m):d=m)}if(d)if(u){u.sort(G0);for(let m=0;m<u.length;m++)t(u[m],c,!!l)}else t(d,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<n.childCount)p=c,f=n.child(c++);else break;for(let m=0;m<a.length;m++)a[m].to<=s&&a.splice(m--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let h=s+f.nodeSize;if(f.isText){let m=h;o<i.length&&i[o].from<m&&(m=i[o].from);for(let y=0;y<a.length;y++)a[y].to<m&&(m=a[y].to);m<h&&(l=f.cut(m-s),f=f.cut(0,m-s),h=m,p=-1)}else for(;o<i.length&&i[o].to<h;)o++;let g=f.isInline&&!f.isLeaf?a.filter(m=>!m.inline):a.slice();r(f,g,e.forChild(s,f),p),s=h}}function j0(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function Y0(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<n.childCount;){let c=n.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=t){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Xl(n,e,t,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],c=a,d=a+=l.size;c>=t||d<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),d>t&&s.push(l.slice(t-c,l.size,r)))}return s}function Cc(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Aa(t)){for(l=o;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&Ae.isSelectable(u)&&i.parent&&!(u.isInline&&E0(t.focusNode,t.focusOffset,i.dom))){let f=i.posBefore;c=new Ae(o==f?a:r.resolve(f))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let u=o,f=o;for(let p=0;p<t.rangeCount;p++){let h=t.getRangeAt(p);u=Math.min(u,n.docView.posFromDOM(h.startContainer,h.startOffset,1)),f=Math.max(f,n.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(u<0)return null;[l,o]=f==n.state.selection.anchor?[f,u]:[u,f],a=r.resolve(o)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!c){let u=e=="pointer"||n.state.selection.head<a.pos&&!s?1:-1;c=Ac(n,d,a,u)}return c}function Pp(n){return n.editable?n.hasFocus():$p(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Tr(n,e=!1){let t=n.state.selection;if(Bp(n,t),!!Pp(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&on){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&_i(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Z0(n);else{let{anchor:r,head:i}=t,s,o;lu&&!(t instanceof We)&&(t.$from.parent.inlineContent||(s=cu(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=cu(n,t.to))),n.docView.setSelection(r,i,n,e),lu&&(s&&du(s),o&&du(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&J0(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const lu=fn||on&&kp<63;function cu(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(fn&&i&&i.contentEditable=="false")return dl(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return dl(i);if(s)return dl(s)}}function dl(n){return n.contentEditable="true",fn&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function du(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function J0(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Pp(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Z0(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,rn(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&Mn&&Wr<=11&&(t.disabled=!0,t.disabled=!1)}function Bp(n,e){if(e instanceof Ae){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(uu(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else uu(n)}function uu(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Ac(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||We.between(e,t,r)}function fu(n){return n.editable&&!n.hasFocus()?!1:$p(n)}function $p(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function X0(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return _i(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Ql(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&et.findFrom(s,e)}function Ir(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function pu(n,e,t){let r=n.state.selection;if(r instanceof We)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Ir(n,new We(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=Ql(n.state,e);return i&&i instanceof Ae?Ir(n,i):!1}else if(!($n&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?Ae.isSelectable(s)?Ir(n,new Ae(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):Js?Ir(n,new We(n.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ae&&r.node.isInline)return Ir(n,new We(e>0?r.$to:r.$from));{let i=Ql(n.state,e);return i?Ir(n,i):!1}}}function zo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ys(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Ai(n,e){return e<0?Q0(n):ey(n)}function Q0(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(Fn&&t.nodeType==1&&r<zo(t)&&ys(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(ys(a,-1))i=t,s=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(zp(t))break;{let a=t.previousSibling;for(;a&&ys(a,-1);)i=t.parentNode,s=rn(a),a=a.previousSibling;if(a)t=a,r=zo(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?ec(n,t,r):i&&ec(n,i,s)}function ey(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=zo(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(ys(a,1))s=t,o=++r;else break}else{if(zp(t))break;{let a=t.nextSibling;for(;a&&ys(a,1);)s=a.parentNode,o=rn(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=zo(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&ec(n,s,o)}function zp(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function ty(n,e){for(;n&&e==n.childNodes.length&&!Ys(n);)e=rn(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function ny(n,e){for(;n&&!e&&!Ys(n);)e=rn(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function ec(n,e,t){if(e.nodeType!=3){let s,o;(o=ty(e,t))?(e=o,t=0):(s=ny(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Aa(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Tr(n)},50)}function hu(n,e){let t=n.state.doc.resolve(e);if(!(on||wp)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function gu(n,e,t){let r=n.state.selection;if(r instanceof We&&!r.empty||t.indexOf("s")>-1||$n&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=Ql(n.state,e);if(o&&o instanceof Ae)return Ir(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Rn?et.near(o,e):et.findFrom(o,e);return a?Ir(n,a):!1}return!1}function mu(n,e){if(!(n.state.selection instanceof We))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function bu(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function ry(n){if(!fn||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;bu(n,r,"true"),setTimeout(()=>bu(n,r,"false"),20)}return!1}function iy(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function sy(n,e){let t=e.keyCode,r=iy(e);if(t==8||$n&&t==72&&r=="c")return mu(n,-1)||Ai(n,-1);if(t==46&&!e.shiftKey||$n&&t==68&&r=="c")return mu(n,1)||Ai(n,1);if(t==13||t==27)return!0;if(t==37||$n&&t==66&&r=="c"){let i=t==37?hu(n,n.state.selection.from)=="ltr"?-1:1:-1;return pu(n,i,r)||Ai(n,i)}else if(t==39||$n&&t==70&&r=="c"){let i=t==39?hu(n,n.state.selection.from)=="ltr"?1:-1:1;return pu(n,i,r)||Ai(n,i)}else{if(t==38||$n&&t==80&&r=="c")return gu(n,-1,r)||Ai(n,-1);if(t==40||$n&&t==78&&r=="c")return ry(n)||gu(n,1,r)||Ai(n,1);if(r==($n?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Rc(n,e){n.someProp("transformCopied",p=>{e=p(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=n.someProp("clipboardSerializer")||wi.fromSchema(n.state.schema),a=Wp(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,d,u=0;for(;c&&c.nodeType==1&&(d=Vp[c.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let h=a.createElement(d[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),u++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${u?` -${u}`:""} ${JSON.stringify(t)}`);let f=n.someProp("clipboardTextSerializer",p=>p(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function Fp(n,e,t,r,i){let s=i.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=!!e&&(r||s||!t);if(l){if(n.someProp("transformPastedText",f=>{e=f(e,s||r,n)}),s)return a=new ae(z.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",f=>{a=f(a,n,!0)}),a;let u=n.someProp("clipboardTextParser",f=>f(e,i,r,n));if(u)a=u;else{let f=i.marks(),{schema:p}=n.state,h=wi.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=o.appendChild(document.createElement("p"));g&&m.appendChild(h.serializeNode(p.text(g,f)))})}}else n.someProp("transformPastedHTML",u=>{t=u(t,n)}),o=cy(t),Js&&dy(o);let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let u=+d[3];u>0;u--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||Vr.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||d),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!oy.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)a=uy(yu(a,+d[1],+d[2]),d[4]);else if(a=ae.maxOpen(ay(a.content,i),!0),a.openStart||a.openEnd){let u=0,f=0;for(let p=a.content.firstChild;u<a.openStart&&!p.type.spec.isolating;u++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=yu(a,u,f)}return n.someProp("transformPasted",u=>{a=u(a,n,l)}),a}const oy=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ay(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&Hp(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=Kp(o[o.length-1],s.length));let d=Up(a,l);o.push(d),i=i.matchType(d.type),s=l}}),o)return z.from(o)}return n}function Up(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,z.from(n));return n}function Hp(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=Hp(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(z.from(Up(t,n,i+1))))}}function Kp(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Kp(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(z.empty,!0);return n.copy(t.append(r))}function tc(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(s=0),i<r-1&&(a=tc(a,e,t,r,i+1,s)),i>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(z.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function yu(n,e,t){return e<n.openStart&&(n=new ae(tc(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ae(tc(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Vp={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let vu=null;function Wp(){return vu||(vu=document.implementation.createHTMLDocument("title"))}let ul=null;function ly(n){let e=window.trustedTypes;return e?(ul||(ul=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),ul.createHTML(n)):n}function cy(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Wp().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&Vp[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=ly(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function dy(n){let e=n.querySelectorAll(on?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function uy(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=z.from(l.create(r[a+1],i)),s++,o++}return new ae(i,s,o)}const yn={},vn={},fy={touchstart:!0,touchmove:!0};class py{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function hy(n){for(let e in yn){let t=yn[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{my(n,r)&&!Ic(n,r)&&(n.editable||!(r.type in vn))&&t(n,r)},fy[e]?{passive:!0}:void 0)}fn&&n.dom.addEventListener("input",()=>null),nc(n)}function Fr(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function gy(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function nc(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Ic(n,r))})}function Ic(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function my(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function by(n,e){!Ic(n,e)&&yn[e.type]&&(n.editable||!(e.type in vn))&&yn[e.type](n,e)}vn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!qp(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(wr&&on&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Gi&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,ii(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||sy(n,t)?t.preventDefault():Fr(n,"key")};vn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};vn.keypress=(n,e)=>{let t=e;if(qp(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||$n&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof We)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function Ia(n){return{left:n.clientX,top:n.clientY}}function yy(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Dc(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,a=>o>s.depth?a(n,t,s.nodeAfter,s.before(o),i,!0):a(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function Ki(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function vy(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Ae.isSelectable(r)?(Ki(n,new Ae(t)),!0):!1}function _y(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Ae&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Ae.isSelectable(a)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(Ki(n,Ae.create(n.state.doc,i)),!0):!1}function xy(n,e,t,r,i){return Dc(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?_y(n,t):vy(n,t))}function Ey(n,e,t,r){return Dc(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function ky(n,e,t,r){return Dc(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||wy(n,t,r)}function wy(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ki(n,We.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Ki(n,We.create(r,a+1,a+1+o.content.size));else if(Ae.isSelectable(o))Ki(n,Ae.create(r,a));else continue;return!0}}function Lc(n){return Fo(n)}const Gp=$n?"metaKey":"ctrlKey";yn.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Lc(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&yy(t,n.input.lastClick)&&!t[Gp]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(Ia(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Sy(n,o,t,!!r)):(s=="doubleClick"?Ey:ky)(n,o.pos,o.inside,t)?t.preventDefault():Fr(n,"pointer"))};class Sy{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Gp],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let d=e.state.doc.resolve(t.pos);s=d.parent,o=d.depth?d.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Ae&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Fn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Tr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ia(e))),this.updateAllowDefault(e),this.allowDefault||!t?Fr(this.view,"pointer"):xy(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fn&&this.mightDrag&&!this.mightDrag.node.isAtom||on&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ki(this.view,et.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Fr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Fr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}yn.touchstart=n=>{n.input.lastTouch=Date.now(),Lc(n),Fr(n,"pointer")};yn.touchmove=n=>{n.input.lastTouch=Date.now(),Fr(n,"pointer")};yn.contextmenu=n=>Lc(n);function qp(n,e){return n.composing?!0:fn&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Ny=wr?5e3:-1;vn.compositionstart=vn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof We&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||on&&wp&&Ty(n)))n.markCursor=n.state.storedMarks||t.marks(),Fo(n,!0),n.markCursor=null;else if(Fo(n,!e.selection.empty),Fn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}jp(n,Ny)};function Ty(n){let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let r=e.childNodes[t];return r.nodeType==1&&r.contentEditable=="false"}vn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.badSafariComposition?n.domObserver.forceFlush():n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,jp(n,20))};function jp(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Fo(n),e))}function Yp(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Oy());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function My(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=_0(e.focusNode,e.focusOffset),r=x0(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function Oy(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Fo(n,e=!1){if(!(wr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Yp(n),e||n.docView&&n.docView.dirty){let t=Cc(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Cy(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Is=Mn&&Wr<15||Gi&&S0<604;yn.copy=vn.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=Is?null:t.clipboardData,o=r.content(),{dom:a,text:l}=Rc(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Cy(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Ay(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Ry(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Ds(n,r.value,null,i,e):Ds(n,r.textContent,r.innerHTML,i,e)},50)}function Ds(n,e,t,r,i){let s=Fp(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,s||ae.empty)))return!0;if(!s)return!1;let o=Ay(s),a=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Jp(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}vn.paste=(n,e)=>{let t=e;if(n.composing&&!wr)return;let r=Is?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Ds(n,Jp(r),r.getData("text/html"),i,t)?t.preventDefault():Ry(n,t)};class Zp{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Iy=$n?"altKey":"ctrlKey";function Xp(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Iy]}yn.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(Ia(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ae?i.to-1:i.to))){if(r&&r.mightDrag)o=Ae.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let u=n.docView.nearestDesc(t.target,!0);u&&u.node.type.spec.draggable&&u!=n.docView&&(o=Ae.create(n.state.doc,u.posBefore))}}let a=(o||n.state.selection).content(),{dom:l,text:c,slice:d}=Rc(n,a);(!t.dataTransfer.files.length||!on||kp>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Is?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Is||t.dataTransfer.setData("text/plain",c),n.dragging=new Zp(d,Xp(n,t),o)};yn.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};vn.dragover=vn.dragenter=(n,e)=>e.preventDefault();vn.drop=(n,e)=>{try{Dy(n,e,n.dragging)}finally{n.dragging=null}};function Dy(n,e,t){if(!e.dataTransfer)return;let r=n.posAtCoords(Ia(e));if(!r)return;let i=n.state.doc.resolve(r.pos),s=t&&t.slice;s?n.someProp("transformPasted",p=>{s=p(s,n,!1)}):s=Fp(n,Jp(e.dataTransfer),Is?null:e.dataTransfer.getData("text/html"),!1,i);let o=!!(t&&Xp(n,e));if(n.someProp("handleDrop",p=>p(n,e,s||ae.empty,o))){e.preventDefault();return}if(!s)return;e.preventDefault();let a=s?hp(n.state.doc,i.pos,s):i.pos;a==null&&(a=i.pos);let l=n.state.tr;if(o){let{node:p}=t;p?p.replace(l):l.deleteSelection()}let c=l.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,u=l.doc;if(d?l.replaceRangeWith(c,c,s.content.firstChild):l.replaceRange(c,c,s),l.doc.eq(u))return;let f=l.doc.resolve(c);if(d&&Ae.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new Ae(f));else{let p=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((h,g,m,y)=>p=y),l.setSelection(Ac(n,f,l.doc.resolve(p)))}n.focus(),n.dispatch(l.setMeta("uiEvent","drop"))}yn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Tr(n)},20))};yn.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};yn.beforeinput=(n,e)=>{if(on&&wr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,ii(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in vn)yn[n]=vn[n];function Ls(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Uo{constructor(e,t){this.toDOM=e,this.spec=t||fi,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new Tn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Uo&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ls(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class qr{constructor(e,t){this.attrs=e,this.spec=t||fi}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Tn(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof qr&&Ls(this.attrs,e.attrs)&&Ls(this.spec,e.spec)}static is(e){return e.type instanceof qr}destroy(){}}class Pc{constructor(e,t){this.attrs=e,this.spec=t||fi}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Tn(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof Pc&&Ls(this.attrs,e.attrs)&&Ls(this.spec,e.spec)}destroy(){}}class Tn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Tn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Tn(e,e,new Uo(t,r))}static inline(e,t,r,i){return new Tn(e,t,new qr(r,i))}static node(e,t,r,i){return new Tn(e,t,new Pc(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof qr}get widget(){return this.type instanceof Uo}}const Li=[],fi={};class Bt{constructor(e,t){this.local=e.length?e:Li,this.children=t.length?t:Li}static create(e,t){return t.length?Ho(t,e,0,fi):cn}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,r,i+a,s)}}map(e,t,r){return this==cn||e.maps.length==0?this:this.mapInner(e,t,0,0,r||fi)}mapInner(e,t,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Ly(this.children,o||[],e,t,r,i,s):o?new Bt(o.sort(pi),Li):cn}add(e,t){return t.length?this==cn?Bt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,d;if(d=eh(t,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,d,c+1):i.splice(s,0,l,l+a.nodeSize,Ho(d,a,c+1,fi)),s+=3}});let o=Qp(s?th(t):t,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Bt(o.length?this.local.concat(o).sort(pi):this.local,i||this.children)}remove(e){return e.length==0||this==cn?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+t,l=r[s+1]+t;for(let d=0,u;d<e.length;d++)(u=e[d])&&u.from>a&&u.to<l&&(e[d]=null,(o||(o=[])).push(u));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=cn?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Bt(i,r):cn}forChild(e,t){if(this==cn)return this;if(t.isLeaf)return Bt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof qr){let c=Math.max(s,l.from)-s,d=Math.min(o,l.to)-s;c<d&&(i||(i=[])).push(l.copy(c,d))}}if(i){let a=new Bt(i.sort(pi),Li);return r?new Pr([a,r]):a}return r||cn}eq(e){if(this==e)return!0;if(!(e instanceof Bt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Bc(this.localsInner(e))}localsInner(e){if(this==cn)return Li;if(e.inlineContent||!this.local.some(qr.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof qr||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Bt.empty=new Bt([],[]);Bt.removeOverlap=Bc;const cn=Bt.empty;class Pr{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,fi));return Pr.from(r)}forChild(e,t){if(t.isLeaf)return Bt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=cn&&(s instanceof Pr?r=r.concat(s.members):r.push(s))}return Pr.from(r)}eq(e){if(!(e instanceof Pr)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?Bc(r?t:t.sort(pi)):Li}static from(e){switch(e.length){case 0:return cn;case 1:return e[0];default:return new Pr(e.every(t=>t instanceof Bt)?e:e.reduce((t,r)=>t.concat(r instanceof Bt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Ly(n,e,t,r,i,s,o){let a=n.slice();for(let c=0,d=s;c<t.maps.length;c++){let u=0;t.maps[c].forEach((f,p,h,g)=>{let m=g-h-(p-f);for(let y=0;y<a.length;y+=3){let S=a[y+1];if(S<0||f>S+d-u)continue;let M=a[y]+d-u;p>=M?a[y+1]=f<=M?-2:-1:f>=d&&m&&(a[y]+=m,a[y+1]+=m)}u+=m}),d=t.maps[c].map(d,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let d=t.map(n[c]+s),u=d-i;if(u<0||u>=r.content.size){l=!0;continue}let f=t.map(n[c+1]+s,-1),p=f-i,{index:h,offset:g}=r.content.findIndex(u),m=r.maybeChild(h);if(m&&g==u&&g+m.nodeSize==p){let y=a[c+2].mapInner(t,m,d+1,n[c]+s+1,o);y!=cn?(a[c]=u,a[c+1]=p,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Py(a,n,e,t,i,s,o),d=Ho(c,r,0,o);e=d.local;for(let u=0;u<a.length;u+=3)a[u+1]<0&&(a.splice(u,3),u-=3);for(let u=0,f=0;u<d.children.length;u+=3){let p=d.children[u];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,d.children[u],d.children[u+1],d.children[u+2])}}return new Bt(e.sort(pi),a)}function Qp(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Tn(i.from+e,i.to+e,i.type))}return t}function Py(n,e,t,r,i,s,o){function a(l,c){for(let d=0;d<l.local.length;d++){let u=l.local[d].map(r,i,c);u?t.push(u):o.onRemove&&o.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+s+1);return t}function eh(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function th(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Ho(n,e,t,r){let i=[],s=!1;e.forEach((a,l)=>{let c=eh(n,a,l+t);if(c){s=!0;let d=Ho(c,a,t+l+1,r);d!=cn&&i.push(l,l+a.nodeSize,d)}});let o=Qp(s?th(n):n,-t).sort(pi);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Bt(o,i):cn}function pi(n,e){return n.from-e.from||n.to-e.to}function Bc(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),_u(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),_u(e,i,r.copy(s.from,r.to)));break}}}return e}function _u(n,e,t){for(;e<n.length&&pi(t,n[e])>0;)e++;n.splice(e,0,t)}function fl(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=cn&&e.push(r)}),n.cursorWrapper&&e.push(Bt.create(n.state.doc,[n.cursorWrapper.deco])),Pr.from(e)}const By={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},$y=Mn&&Wr<=11;class zy{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Fy{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zy,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Mn&&Wr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():fn&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),$y&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,By)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(fu(this.view)){if(this.suppressingSelectionUpdates)return Tr(this.view);if(Mn&&Wr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&_i(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Wi(s))t.add(s);for(let s=e.anchorNode;s;s=Wi(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&fu(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let d=0;d<t.length;d++){let u=this.registerMutation(t[d],l);u&&(s=s<0?u.from:Math.min(u.from,s),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(a=!0))}if(l.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of l)if(d.nodeName=="BR"&&d.parentNode){let u=d.nextSibling;u&&u.nodeType==1&&u.contentEditable=="false"&&d.parentNode.removeChild(d)}}else if(Fn&&l.length){let d=l.filter(u=>u.nodeName=="BR");if(d.length==2){let[u,f]=d;u.parentNode&&u.parentNode.parentNode==f.parentNode?f.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let f of d){let p=f.parentNode;p&&p.nodeName=="LI"&&(!u||Ky(e,u)!=p)&&f.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Aa(r)&&(c=Cc(e))&&c.eq(et.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Tr(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),Uy(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,Vy(e,l)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Tr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let u=e.addedNodes[d];t.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Mn&&Wr<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:u,nextSibling:f}=e.addedNodes[d];(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(i=u),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==e.target?rn(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?rn(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let xu=new WeakMap,Eu=!1;function Uy(n){if(!xu.has(n)&&(xu.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Fn,Eu)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Eu=!0}}function ku(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return _i(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function Hy(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return ku(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?ku(n,t):null}function Ky(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function Vy(n,e){var t;let{focusNode:r,focusOffset:i}=n.domSelectionRange();for(let s of e)if(((t=s.parentNode)===null||t===void 0?void 0:t.nodeName)=="TR"){let o=s.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let a=o;for(;;){let l=a.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;a=l}a.insertBefore(s,a.firstChild),r==s&&n.domSelection().collapse(s,i)}else s.parentNode.removeChild(s)}}function Wy(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,d=l.anchorNode;if(d&&n.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:l.anchorOffset}],Aa(l)||c.push({node:l.focusNode,offset:l.focusOffset})),on&&n.input.lastKeyCode===8)for(let m=s;m>i;m--){let y=r.childNodes[m-1],S=y.pmViewDesc;if(y.nodeName=="BR"&&!S){s=m;break}if(!S||S.size)break}let u=n.state.doc,f=n.someProp("domParser")||Vr.fromSchema(n.state.schema),p=u.resolve(o),h=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Gy,context:p});if(c&&c[0].pos!=null){let m=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=m),h={anchor:m+o,head:y+o}}return{doc:g,sel:h,from:o,to:a}}function Gy(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(fn&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||fn&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const qy=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function jy(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let D=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,P=Cc(n,D);if(P&&!n.state.selection.eq(P)){if(on&&wr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",ee=>ee(n,ii(13,"Enter"))))return;let L=n.state.tr.setSelection(P);D=="pointer"?L.setMeta("pointer",!0):D=="key"&&L.scrollIntoView(),s&&L.setMeta("composition",s),n.dispatch(L)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=Wy(n,e,t),d=n.state.doc,u=d.slice(c.from,c.to),f,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(f=n.state.selection.to,p="end"):(f=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let h=Zy(u.content,c.doc.content,c.from,f,p);if(h&&n.input.domChangeCount++,(Gi&&n.input.lastIOSEnter>Date.now()-225||wr)&&i.some(D=>D.nodeType==1&&!qy.test(D.nodeName))&&(!h||h.endA>=h.endB)&&n.someProp("handleKeyDown",D=>D(n,ii(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!h)if(r&&l instanceof We&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let D=wu(n,n.state.doc,c.sel);if(D&&!D.eq(n.state.selection)){let P=n.state.tr.setSelection(D);s&&P.setMeta("composition",s),n.dispatch(P)}}return}n.state.selection.from<n.state.selection.to&&h.start==h.endB&&n.state.selection instanceof We&&(h.start>n.state.selection.from&&h.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?h.start=n.state.selection.from:h.endA<n.state.selection.to&&h.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(h.endB+=n.state.selection.to-h.endA,h.endA=n.state.selection.to)),Mn&&Wr<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>c.from&&c.doc.textBetween(h.start-c.from-1,h.start-c.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let g=c.doc.resolveNoCache(h.start-c.from),m=c.doc.resolveNoCache(h.endB-c.from),y=d.resolve(h.start),S=g.sameParent(m)&&g.parent.inlineContent&&y.end()>=h.endA;if((Gi&&n.input.lastIOSEnter>Date.now()-225&&(!S||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!S&&g.pos<c.doc.content.size&&(!g.sameParent(m)||!g.parent.inlineContent)&&g.pos<m.pos&&!/\S/.test(c.doc.textBetween(g.pos,m.pos,"","")))&&n.someProp("handleKeyDown",D=>D(n,ii(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>h.start&&Jy(d,h.start,h.endA,g,m)&&n.someProp("handleKeyDown",D=>D(n,ii(8,"Backspace")))){wr&&on&&n.domObserver.suppressSelectionUpdates();return}on&&h.endB==h.start&&(n.input.lastChromeDelete=Date.now()),wr&&!S&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==h.endA&&(h.endB-=2,m=c.doc.resolveNoCache(h.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(D){return D(n,ii(13,"Enter"))})},20));let M=h.start,b=h.endA,C=D=>{let P=D||n.state.tr.replace(M,b,c.doc.slice(h.start-c.from,h.endB-c.from));if(c.sel){let L=wu(n,P.doc,c.sel);L&&!(on&&n.composing&&L.empty&&(h.start!=h.endB||n.input.lastChromeDelete<Date.now()-100)&&(L.head==M||L.head==P.mapping.map(b)-1)||Mn&&L.empty&&L.head==M)&&P.setSelection(L)}return s&&P.setMeta("composition",s),P.scrollIntoView()},w;if(S)if(g.pos==m.pos){Mn&&Wr<=11&&g.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Tr(n),20));let D=C(n.state.tr.delete(M,b)),P=d.resolve(h.start).marksAcross(d.resolve(h.endA));P&&D.ensureMarks(P),n.dispatch(D)}else if(h.endA==h.endB&&(w=Yy(g.parent.content.cut(g.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start())))){let D=C(n.state.tr);w.type=="add"?D.addMark(M,b,w.mark):D.removeMark(M,b,w.mark),n.dispatch(D)}else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let D=g.parent.textBetween(g.parentOffset,m.parentOffset),P=()=>C(n.state.tr.insertText(D,M,b));n.someProp("handleTextInput",L=>L(n,M,b,D,P))||n.dispatch(P())}else n.dispatch(C());else n.dispatch(C())}function wu(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Ac(n,e.resolve(t.anchor),e.resolve(t.head))}function Yy(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,a,l;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<t.length;d++)s=t[d].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(l(e.child(d)));if(z.from(c).eq(n))return{mark:a,type:o}}function Jy(n,e,t,r,i){if(t-e<=i.pos-r.pos||pl(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(pl(s,!0,!0));return!o.parent.isTextblock||o.pos>t||pl(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function pl(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Zy(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&n.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&Su(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<n.size&&Su(n.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function Su(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class nh{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new py,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Cu),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Mu(this),Tu(this),this.nodeViews=Ou(this),this.docView=ou(this.state.doc,Nu(this),fl(this),this.dom,this),this.domObserver=new Fy(this,(r,i,s,o)=>jy(this,r,i,s,o)),this.domObserver.start(),hy(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nc(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Cu),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(Yp(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=Ou(this);Qy(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&nc(this),this.editable=Mu(this),Tu(this);let l=fl(this),c=Nu(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",u=s||!this.docView.matchesNode(e.doc,c,l);(u||!e.selection.eq(i.selection))&&(o=!0);let f=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&M0(this);if(o){this.domObserver.stop();let p=u&&(Mn||on)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Xy(i.selection,e.selection);if(u){let h=on?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=My(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=ou(e.doc,c,l,this.dom,this)),h&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&X0(this))?Tr(this,p):(Bp(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():f&&O0(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Ae){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&eu(this,t.getBoundingClientRect(),e)}else eu(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Zp(e.slice,e.move,i<0?void 0:Ae.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=t?t(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(Mn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&C0(this.dom),Tr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return L0(this,e)}coordsAtPos(e,t=1){return Op(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return F0(this,t||this.state,e)}pasteHTML(e,t){return Ds(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ds(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Rc(this,e)}destroy(){this.docView&&(gy(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],fl(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,y0())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return by(this,e)}domSelectionRange(){let e=this.domSelection();return e?fn&&this.root.nodeType===11&&k0(this.dom.ownerDocument)==this.dom&&Hy(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}nh.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function Nu(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Tn.node(0,n.state.doc.content.size,e)]}function Tu(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Tn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Mu(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Xy(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function Ou(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Qy(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function Cu(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var jr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ko={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ev=typeof navigator<"u"&&/Mac/.test(navigator.platform),tv=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var sn=0;sn<10;sn++)jr[48+sn]=jr[96+sn]=String(sn);for(var sn=1;sn<=24;sn++)jr[sn+111]="F"+sn;for(var sn=65;sn<=90;sn++)jr[sn]=String.fromCharCode(sn+32),Ko[sn]=String.fromCharCode(sn);for(var hl in jr)Ko.hasOwnProperty(hl)||(Ko[hl]=jr[hl]);function nv(n){var e=ev&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||tv&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Ko:jr)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const rv=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),iv=typeof navigator<"u"&&/Win/.test(navigator.platform);function sv(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))rv?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function ov(n){let e=Object.create(null);for(let t in n)e[sv(t)]=n[t];return e}function gl(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function av(n){return new Ht({props:{handleKeyDown:rh(n)}})}function rh(n){let e=ov(n);return function(t,r){let i=nv(r),s,o=e[gl(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[gl(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(iv&&r.ctrlKey&&r.altKey)&&(s=jr[r.keyCode])&&s!=i){let a=e[gl(s,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const $c=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function ih(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const sh=(n,e,t)=>{let r=ih(n,t);if(!r)return!1;let i=zc(r);if(!i){let o=r.blockRange(),a=o&&ns(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(hh(n,i,e,-1))return!0;if(r.parent.content.size==0&&(qi(s,"end")||Ae.isSelectable(s)))for(let o=r.depth;;o--){let a=Oa(n.doc,r.before(o),r.after(o),ae.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(qi(s,"end")?et.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Ae.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},lv=(n,e,t)=>{let r=ih(n,t);if(!r)return!1;let i=zc(r);return i?oh(n,i,e):!1},cv=(n,e,t)=>{let r=lh(n,t);if(!r)return!1;let i=Fc(r);return i?oh(n,i,e):!1};function oh(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let c=Oa(n.doc,s,l,ae.empty);if(!c||c.from!=s||c instanceof Xt&&c.slice.size>=l-s)return!1;if(t){let d=n.tr.step(c);d.setSelection(We.create(d.doc,s)),t(d.scrollIntoView())}return!0}function qi(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const ah=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=zc(r)}let o=s&&s.nodeBefore;return!o||!Ae.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ae.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function zc(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function lh(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const ch=(n,e,t)=>{let r=lh(n,t);if(!r)return!1;let i=Fc(r);if(!i)return!1;let s=i.nodeAfter;if(hh(n,i,e,1))return!0;if(r.parent.content.size==0&&(qi(s,"start")||Ae.isSelectable(s))){let o=Oa(n.doc,r.before(),r.after(),ae.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(qi(s,"start")?et.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Ae.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},dh=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Fc(r)}let o=s&&s.nodeAfter;return!o||!Ae.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Ae.create(n.doc,s.pos)).scrollIntoView()),!0)};function Fc(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const dv=(n,e)=>{let t=n.selection,r=t instanceof Ae,i;if(r){if(t.node.isTextblock||!Yr(n.doc,t.from))return!1;i=t.from}else if(i=Ma(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Ae.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},uv=(n,e)=>{let t=n.selection,r;if(t instanceof Ae){if(t.node.isTextblock||!Yr(n.doc,t.to))return!1;r=t.to}else if(r=Ma(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},fv=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&ns(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},uh=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Uc(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const pv=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=Uc(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(et.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},fh=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Rn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Uc(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(We.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},ph=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(Nr(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&ns(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function hv(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Ae&&e.selection.node.isBlock)return!r.parentOffset||!Nr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),a=Uc(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof We||e.selection instanceof Rn)&&d.deleteSelection();let u=d.mapping.map(r.pos),f=Nr(d.doc,u,s.length,s);if(f||(s[0]=a?{type:a}:null,f=Nr(d.doc,u,s.length,s)),!f)return!1;if(d.split(u,s.length,s),!l&&c&&r.node(o).type!=a){let p=d.mapping.map(r.before(o)),h=d.doc.resolve(p);a&&r.node(o-1).canReplaceWith(h.index(),h.index()+1,a)&&d.setNodeMarkup(d.mapping.map(r.before(o)),a)}return t&&t(d.scrollIntoView()),!0}}const gv=hv(),mv=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Ae.create(n.doc,i))),!0)};function bv(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Yr(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function hh(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&bv(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let p=e.pos+s.nodeSize,h=z.empty;for(let y=o.length-1;y>=0;y--)h=z.from(o[y].create(null,h));h=z.from(i.copy(h));let g=n.tr.step(new Qt(e.pos-1,p,e.pos,p,new ae(h,1,0),o.length,!0)),m=g.doc.resolve(p+2*o.length);m.nodeAfter&&m.nodeAfter.type==i.type&&Yr(g.doc,m.pos)&&g.join(m.pos),t(g.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&l?null:et.findFrom(e,1),u=d&&d.$from.blockRange(d.$to),f=u&&ns(u);if(f!=null&&f>=e.depth)return t&&t(n.tr.lift(u,f).scrollIntoView()),!0;if(c&&qi(s,"start",!0)&&qi(i,"end")){let p=i,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let g=s,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(t){let y=z.empty;for(let M=h.length-1;M>=0;M--)y=z.from(h[M].copy(y));let S=n.tr.step(new Qt(e.pos-h.length,e.pos+s.nodeSize,e.pos+m,e.pos+s.nodeSize-m,new ae(y,h.length,0),0,!0));t(S.scrollIntoView())}return!0}}return!1}function gh(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(We.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const yv=gh(-1),vv=gh(1);function _v(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),a=o&&Tc(o,n,e);return a?(r&&r(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Au(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let d=t.doc.resolve(c),u=d.index();i=d.parent.canReplaceWith(u,u+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];s.setBlockType(a,l,n,e)}r(s.scrollIntoView())}return!0}}function Hc(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}Hc($c,sh,ah);Hc($c,ch,dh);Hc(uh,fh,ph,gv);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function xv(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s);if(!o)return!1;let a=r?t.tr:null;return Ev(a,o,n,e)?(r&&r(a.scrollIntoView()),!0):!1}}function Ev(n,e,t,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Po(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Po(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=Tc(s,t,r,e);return a?(n&&kv(n,e,a,i,t),!0):!1}function kv(n,e,t,r,i){let s=z.empty;for(let d=t.length-1;d>=0;d--)s=z.from(t[d].type.create(t[d].attrs,s));n.step(new Qt(e.start-(r?2:0),e.end,e.start,e.end,new ae(s,0,0),t.length,!0));let o=0;for(let d=0;d<t.length;d++)t[d].type==i&&(o=d+1);let a=t.length-o,l=e.start+t.length-(r?2:0),c=e.parent;for(let d=e.startIndex,u=e.endIndex,f=!0;d<u;d++,f=!1)!f&&Nr(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(d).nodeSize;return n}function wv(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?Sv(e,t,n,s):Nv(e,t,s):!0:!1}}function Sv(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new Qt(s-1,o,s,o,new ae(z.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Po(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=ns(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return Yr(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function Nv(n,e,t){let r=n.tr,i=t.parent;for(let p=t.end,h=t.endIndex-1,g=t.startIndex;h>g;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,c=s.node(-1),d=s.index(-1);if(!c.canReplace(d+(a?0:1),d+1,o.content.append(l?z.empty:z.from(i))))return!1;let u=s.pos,f=u+o.nodeSize;return r.step(new Qt(u-(a?1:0),f+(l?1:0),u+1,f-1,new ae((a?z.empty:z.from(i.copy(z.empty))).append(l?z.empty:z.from(i.copy(z.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Tv(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,d=z.from(c?n.create():null),u=new ae(z.from(n.create(null,z.from(a.type.create(null,d)))),c?3:1,0),f=s.start,p=s.end;t(e.tr.step(new Qt(f-(c?3:1),p,f,p,u,1,!0)).scrollIntoView())}return!0}}function Da(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class La{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...d)=>{const u=l(...d)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,d=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(f=>f===!0)),u={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...g)=>{const m=this.buildProps(c,t),y=p(...g)(m);return a.push(y),u}])),run:d};return u}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...d)=>c(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:Da({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...d)=>c(...d)(a)]))}};return a}}class Mv{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function he(n,e,t){return n.config[e]===void 0&&n.parent?he(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?he(n.parent,e,t):null}):n.config[e]}function Pa(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function mh(n){const e=[],{nodeExtensions:t,markExtensions:r}=Pa(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=he(o,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(u=>{Object.entries(d.attributes).forEach(([f,p])=>{e.push({type:u,name:f,attribute:{...s,...p}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=he(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([d,u])=>{const f={...s,...u};typeof f?.default=="function"&&(f.default=f.default()),f?.isRequired&&f?.default===void 0&&delete f.default,e.push({type:o.name,name:d,attribute:f})})}),e}function tn(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function zt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(d=>!l.includes(d));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;l.forEach(d=>{const[u,f]=d.split(":").map(p=>p.trim());c.set(u,f)}),a.forEach(d=>{const[u,f]=d.split(":").map(p=>p.trim());c.set(u,f)}),r[i]=Array.from(c.entries()).map(([d,u])=>`${d}: ${u}`).join("; ")}else r[i]=s}),r},{})}function rc(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>zt(t,r),{})}function bh(n){return typeof n=="function"}function tt(n,e=void 0,...t){return bh(n)?e?n.bind(e)(...t):n(...t):n}function Ov(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Cv(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Ru(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):Cv(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function Iu(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&Ov(t)?!1:t!=null))}function Av(n,e){var t;const r=mh(n),{nodeExtensions:i,markExtensions:s}=Pa(n),o=(t=i.find(c=>he(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(c=>{const d=r.filter(y=>y.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:e},f=n.reduce((y,S)=>{const M=he(S,"extendNodeSchema",u);return{...y,...M?M(c):{}}},{}),p=Iu({...f,content:tt(he(c,"content",u)),marks:tt(he(c,"marks",u)),group:tt(he(c,"group",u)),inline:tt(he(c,"inline",u)),atom:tt(he(c,"atom",u)),selectable:tt(he(c,"selectable",u)),draggable:tt(he(c,"draggable",u)),code:tt(he(c,"code",u)),whitespace:tt(he(c,"whitespace",u)),linebreakReplacement:tt(he(c,"linebreakReplacement",u)),defining:tt(he(c,"defining",u)),isolating:tt(he(c,"isolating",u)),attrs:Object.fromEntries(d.map(y=>{var S;return[y.name,{default:(S=y?.attribute)===null||S===void 0?void 0:S.default}]}))}),h=tt(he(c,"parseHTML",u));h&&(p.parseDOM=h.map(y=>Ru(y,d)));const g=he(c,"renderHTML",u);g&&(p.toDOM=y=>g({node:y,HTMLAttributes:rc(y,d)}));const m=he(c,"renderText",u);return m&&(p.toText=m),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const d=r.filter(m=>m.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:e},f=n.reduce((m,y)=>{const S=he(y,"extendMarkSchema",u);return{...m,...S?S(c):{}}},{}),p=Iu({...f,inclusive:tt(he(c,"inclusive",u)),excludes:tt(he(c,"excludes",u)),group:tt(he(c,"group",u)),spanning:tt(he(c,"spanning",u)),code:tt(he(c,"code",u)),attrs:Object.fromEntries(d.map(m=>{var y;return[m.name,{default:(y=m?.attribute)===null||y===void 0?void 0:y.default}]}))}),h=tt(he(c,"parseHTML",u));h&&(p.parseDOM=h.map(m=>Ru(m,d)));const g=he(c,"renderHTML",u);return g&&(p.toDOM=m=>g({mark:m,HTMLAttributes:rc(m,d)})),[c.name,p]}));return new rp({topNode:o,nodes:a,marks:l})}function ml(n,e){return e.nodes[n]||e.marks[n]||null}function Du(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Kc(n,e){const t=wi.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const Rv=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const d=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),t};function Vc(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Ba{constructor(e){this.find=e.find,this.handler=e.handler}}const Iv=(n,e)=>{if(Vc(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function io(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let d=!1;const u=Rv(c)+s;return o.forEach(f=>{if(d)return;const p=Iv(u,f.find);if(!p)return;const h=l.state.tr,g=Da({state:l.state,transaction:h}),m={from:r-(p[0].length-s.length),to:i},{commands:y,chain:S,can:M}=new La({editor:t,state:g});f.handler({state:g,range:m,match:p,commands:y,chain:S,can:M})===null||!h.steps.length||(h.setMeta(a,{transform:h,from:r,to:i,text:s}),l.dispatch(h),d=!0)}),d}function Dv(n){const{editor:e,rules:t}=n,r=new Ht({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=Kc(z.from(d),o.schema);const{from:u}=l,f=u+d.length;io({editor:e,from:u,to:f,text:d,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return io({editor:e,from:s,to:o,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&io({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?io({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function Lv(n){return Object.prototype.toString.call(n).slice(8,-1)}function so(n){return Lv(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function $a(n,e){const t={...n};return so(n)&&so(e)&&Object.keys(e).forEach(r=>{so(e[r])&&so(n[r])?t[r]=$a(n[r],e[r]):t[r]=e[r]}),t}class or{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=tt(he(this,"addOptions",{name:this.name}))),this.storage=tt(he(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new or(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>$a(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new or(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=tt(he(t,"addOptions",{name:t.name})),t.storage=tt(he(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>c?.type.name===t.name))return!1;const l=o.find(c=>c?.type.name===t.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function Pv(n){return typeof n=="number"}class Bv{constructor(e){this.find=e.find,this.handler=e.handler}}const $v=(n,e,t)=>{if(Vc(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function zv(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=n,{commands:l,chain:c,can:d}=new La({editor:e,state:t}),u=[];return t.doc.nodesBetween(r,i,(p,h)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(r,h),m=Math.min(i,h+p.content.size),y=p.textBetween(g-h,m-h,void 0,"￼");$v(y,s.find,o).forEach(M=>{if(M.index===void 0)return;const b=g+M.index+1,C=b+M[0].length,w={from:t.tr.mapping.map(b),to:t.tr.mapping.map(C)},D=s.handler({state:t,range:w,match:M,commands:l,chain:c,can:d,pasteEvent:o,dropEvent:a});u.push(D)})}),u.every(p=>p!==null)}let oo=null;const Fv=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function Uv(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:d,from:u,to:f,rule:p,pasteEvt:h})=>{const g=d.tr,m=Da({state:d,transaction:g});if(!(!zv({editor:e,state:m,from:Math.max(u-1,0),to:f.b-1,rule:p,pasteEvent:h,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return t.map(d=>new Ht({view(u){const f=h=>{var g;r=!((g=u.dom.parentElement)===null||g===void 0)&&g.contains(h.target)?u.dom.parentElement:null,r&&(oo=e)},p=()=>{oo&&(oo=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(u,f)=>{if(s=r===u.dom.parentElement,a=f,!s){const p=oo;p?.isEditable&&setTimeout(()=>{const h=p.state.selection;h&&p.commands.deleteRange({from:h.from,to:h.to})},10)}return!1},paste:(u,f)=>{var p;const h=(p=f.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=f,i=!!h?.includes("data-pm-slice"),!1}}},appendTransaction:(u,f,p)=>{const h=u[0],g=h.getMeta("uiEvent")==="paste"&&!i,m=h.getMeta("uiEvent")==="drop"&&!s,y=h.getMeta("applyPasteRules"),S=!!y;if(!g&&!m&&!S)return;if(S){let{text:C}=y;typeof C=="string"?C=C:C=Kc(z.from(C),p.schema);const{from:w}=y,D=w+C.length,P=Fv(C);return l({rule:d,state:p,from:w,to:{b:D},pasteEvt:P})}const M=f.doc.content.findDiffStart(p.doc.content),b=f.doc.content.findDiffEnd(p.doc.content);if(!(!Pv(M)||!b||M===b.b))return l({rule:d,state:p,from:M,to:b,pasteEvt:o})}}))}function Hv(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Ui{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Ui.resolve(e),this.schema=Av(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Ui.sort(Ui.flatten(e)),r=Hv(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=he(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=he(r,"priority")||100,o=he(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:ml(t.name,this.schema)},i=he(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Ui.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:ml(o.name,this.schema)},l=[],c=he(o,"addKeyboardShortcuts",a);let d={};if(o.type==="mark"&&he(o,"exitable",a)&&(d.ArrowRight=()=>or.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([m,y])=>[m,()=>y({editor:e})]));d={...d,...g}}const u=av(d);l.push(u);const f=he(o,"addInputRules",a);Du(o,e.options.enableInputRules)&&f&&r.push(...f());const p=he(o,"addPasteRules",a);Du(o,e.options.enablePasteRules)&&p&&i.push(...p());const h=he(o,"addProseMirrorPlugins",a);if(h){const g=h();l.push(...g)}return l}).flat();return[Dv({editor:e,rules:r}),...Uv({editor:e,rules:i}),...s]}get attributes(){return mh(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Pa(this.extensions);return Object.fromEntries(t.filter(r=>!!he(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:tn(r.name,this.schema)},o=he(r,"addNodeView",s);if(!o)return[];const a=(l,c,d,u,f)=>{const p=rc(l,i);return o()({node:l,view:c,getPos:d,decorations:u,innerDecorations:f,editor:e,extension:r,HTMLAttributes:p})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:ml(e.name,this.schema)};e.type==="mark"&&(!((t=tt(he(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=he(e,"onBeforeCreate",r),s=he(e,"onCreate",r),o=he(e,"onUpdate",r),a=he(e,"onSelectionUpdate",r),l=he(e,"onTransaction",r),c=he(e,"onFocus",r),d=he(e,"onBlur",r),u=he(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),u&&this.editor.on("destroy",u)})}}class an{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=tt(he(this,"addOptions",{name:this.name}))),this.storage=tt(he(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new an(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>$a(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new an({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=tt(he(t,"addOptions",{name:t.name})),t.storage=tt(he(t,"addStorage",{name:t.name,options:t.options})),t}}function yh(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let a="";return n.nodesBetween(r,i,(l,c,d,u)=>{var f;l.isBlock&&c>r&&(a+=s);const p=o?.[l.type.name];if(p)return d&&(a+=p({node:l,pos:c,parent:d,index:u,range:e})),!1;l.isText&&(a+=(f=l?.text)===null||f===void 0?void 0:f.slice(Math.max(r,c)-c,i-c))}),a}function Wc(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const Kv=an.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ht({key:new hn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(d=>d.$from.pos)),a=Math.max(...s.map(d=>d.$to.pos)),l=Wc(t);return yh(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Vv=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),Wv=(n=!1)=>({commands:e})=>e.setContent("",n),Gv=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:d}=e,u=c.resolve(d.map(l)),f=c.resolve(d.map(l+a.nodeSize)),p=u.blockRange(f);if(!p)return;const h=ns(p);if(a.type.isTextblock){const{defaultType:g}=u.parent.contentMatchAt(u.index());e.setNodeMarkup(p.start,g)}(h||h===0)&&e.lift(p,h)})}),!0},qv=n=>e=>n(e),jv=()=>({state:n,dispatch:e})=>fh(n,e),Yv=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new We(r.doc.resolve(Math.max(o-1,0)))),!0},Jv=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);n.delete(a,l).scrollIntoView()}return!0}return!1},Zv=n=>({tr:e,state:t,dispatch:r})=>{const i=tn(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},Xv=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},Qv=()=>({state:n,dispatch:e})=>$c(n,e),e_=()=>({commands:n})=>n.keyboardShortcut("Enter"),t_=()=>({state:n,dispatch:e})=>pv(n,e);function Vo(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:Vc(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function vh(n,e,t={}){return n.find(r=>r.type===e&&Vo(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function Lu(n,e,t={}){return!!vh(n,e,t)}function Gc(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!vh([...i.node.marks],e,t)))return;let o=i.index,a=n.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&Lu([...n.parent.child(o-1).marks],e,t);)o-=1,a-=n.parent.child(o).nodeSize;for(;l<n.parent.childCount&&Lu([...n.parent.child(l).marks],e,t);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Zr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const n_=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=Zr(n,r.schema),{doc:o,selection:a}=t,{$from:l,from:c,to:d}=a;if(i){const u=Gc(l,s,e);if(u&&u.from<=c&&u.to>=d){const f=We.create(o,u.from,u.to);t.setSelection(f)}}return!0},r_=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function _h(n){return n instanceof We}function Sr(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function xh(n,e=null){if(!e)return null;const t=et.atStart(n),r=et.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?We.create(n,Sr(0,i,s),Sr(n.content.size,i,s)):We.create(n,Sr(e,i,s),Sr(e,i,s))}function Pu(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Wo(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function i_(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}const s_=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Wo()||Pu())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),i_()&&!Wo()&&!Pu()&&r.dom.focus({preventScroll:!0}))})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!_h(t.state.selection))return o(),!0;const a=xh(i.doc,n)||t.state.selection,l=t.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},o_=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),a_=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),Eh=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&Eh(r)}return n};function ao(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Eh(t)}function Ps(n,e,t){if(n instanceof Kr||n instanceof z)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return z.fromArray(n.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),Ps("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,a="";const l=new rp({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?Vr.fromSchema(l).parseSlice(ao(n),t.parseOptions):Vr.fromSchema(l).parse(ao(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Vr.fromSchema(e);return t.slice?s.parseSlice(ao(n),t.parseOptions).content:s.parse(ao(n),t.parseOptions)}return Ps("",e,t)}function l_(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Xt||i instanceof Qt))return;const s=n.mapping.maps[r];let o=0;s.forEach((a,l,c,d)=>{o===0&&(o=d)}),n.setSelection(et.near(n.doc.resolve(o),t))}const c_=n=>!("type"in n),d_=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;const l=m=>{s.emit("contentError",{editor:s,error:m,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Ps(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(m){l(m)}try{a=Ps(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(m){return l(m),!1}let{from:d,to:u}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},f=!0,p=!0;if((c_(a)?a:[a]).forEach(m=>{m.check(),f=f?m.isText&&m.marks.length===0:!1,p=p?m.isBlock:!1}),d===u&&p){const{parent:m}=r.doc.resolve(d);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(d-=1,u+=1)}let g;if(f){if(Array.isArray(e))g=e.map(m=>m.text||"").join("");else if(e instanceof z){let m="";e.forEach(y=>{y.text&&(m+=y.text)}),g=m}else typeof e=="object"&&e&&e.text?g=e.text:g=e;r.insertText(g,d,u)}else g=a,r.replaceWith(d,u,g);t.updateSelection&&l_(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:g}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:g})}return!0},u_=()=>({state:n,dispatch:e})=>dv(n,e),f_=()=>({state:n,dispatch:e})=>uv(n,e),p_=()=>({state:n,dispatch:e})=>sh(n,e),h_=()=>({state:n,dispatch:e})=>ch(n,e),g_=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ma(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},m_=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ma(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},b_=()=>({state:n,dispatch:e})=>lv(n,e),y_=()=>({state:n,dispatch:e})=>cv(n,e);function kh(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function v_(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Wo()||kh()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const __=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=v_(n).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l?.steps.forEach(c=>{const d=c.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Bs(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?tn(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(u,f)=>{if(u.isText)return;const p=Math.max(r,f),h=Math.min(i,f+u.nodeSize);a.push({node:u,from:p,to:h})});const l=i-r,c=a.filter(u=>o?o.name===u.node.type.name:!0).filter(u=>Vo(u.node.attrs,t,{strict:!1}));return s?!!c.length:c.reduce((u,f)=>u+f.to-f.from,0)>=l}const x_=(n,e={})=>({state:t,dispatch:r})=>{const i=tn(n,t.schema);return Bs(t,i,e)?fv(t,r):!1},E_=()=>({state:n,dispatch:e})=>ph(n,e),k_=n=>({state:e,dispatch:t})=>{const r=tn(n,e.schema);return wv(r)(e,t)},w_=()=>({state:n,dispatch:e})=>uh(n,e);function za(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function Bu(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const S_=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=za(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=tn(n,r.schema)),a==="mark"&&(o=Zr(n,r.schema)),i&&t.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,d)=>{s&&s===c.type&&t.setNodeMarkup(d,void 0,Bu(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(u=>{o===u.type&&t.addMark(d,d+c.nodeSize,o.create(Bu(u.attrs,e)))})})}),!0):!1},N_=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),T_=()=>({tr:n,dispatch:e})=>{if(e){const t=new Rn(n.doc);n.setSelection(t)}return!0},M_=()=>({state:n,dispatch:e})=>ah(n,e),O_=()=>({state:n,dispatch:e})=>dh(n,e),C_=()=>({state:n,dispatch:e})=>mv(n,e),A_=()=>({state:n,dispatch:e})=>vv(n,e),R_=()=>({state:n,dispatch:e})=>yv(n,e);function ic(n,e,t={},r={}){return Ps(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const I_=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:d}=s;if(t.preserveWhitespace!=="full"){const u=ic(n,i.schema,t,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,d.content.size,u).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:d.content.size},n,{parseOptions:t,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function wh(n,e){const t=Zr(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function D_(n,e){const t=new vp(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function L_(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function sc(n,e){const t=[];return n.descendants((r,i)=>{e(r)&&t.push({node:r,pos:i})}),t}function P_(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,s)=>{t(i)&&r.push({node:i,pos:s})}),r}function B_(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function qc(n){return e=>B_(e.$from,n)}function Sh(n,e){const t={from:0,to:n.content.size};return yh(n,t,e)}function $_(n,e){const t=tn(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function Nh(n,e){const t=za(typeof e=="string"?e:e.name,n.schema);return t==="node"?$_(n,e):t==="mark"?wh(n,e):{}}function z_(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function F_(n){const e=z_(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,o)=>o!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function U_(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=t[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),d=e.slice(s).map(l),u=e.invert().map(c,-1),f=e.invert().map(d);r.push({oldRange:{from:u,to:f},newRange:{from:c,to:d}})})}),F_(r)}function jc(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),o=Gc(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function So(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function oc(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?Zr(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(u=>s?s.name===u.type.name:!0).find(u=>Vo(u.attrs,t,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:u,$to:f})=>{const p=u.pos,h=f.pos;n.doc.nodesBetween(p,h,(g,m)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(p,m),S=Math.min(h,m+g.nodeSize),M=S-y;o+=M,a.push(...g.marks.map(b=>({mark:b,from:y,to:S})))})}),o===0)return!1;const l=a.filter(u=>s?s.name===u.mark.type.name:!0).filter(u=>Vo(u.mark.attrs,t,{strict:!1})).reduce((u,f)=>u+f.to-f.from,0),c=a.filter(u=>s?u.mark.type!==s&&u.mark.type.excludes(s):!0).reduce((u,f)=>u+f.to-f.from,0);return(l>0?l+c:l)>=o}function H_(n,e,t={}){if(!e)return Bs(n,null,t)||oc(n,null,t);const r=za(e,n.schema);return r==="node"?Bs(n,e,t):r==="mark"?oc(n,e,t):!1}function $u(n,e){const{nodeExtensions:t}=Pa(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=tt(he(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Fa(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(Fa(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function K_(n){return n instanceof Ae}function V_(n,e,t){const i=n.state.doc.content.size,s=Sr(e,0,i),o=Sr(t,0,i),a=n.coordsAtPos(s),l=n.coordsAtPos(o,-1),c=Math.min(a.top,l.top),d=Math.max(a.bottom,l.bottom),u=Math.min(a.left,l.left),f=Math.max(a.right,l.right),p=f-u,h=d-c,y={top:c,bottom:d,left:u,right:f,width:p,height:h,x:u,y:c};return{...y,toJSON:()=>y}}function W_(n,e,t){var r;const{selection:i}=e;let s=null;if(_h(i)&&(s=i.$cursor),s){const a=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(d,u,f)=>{if(c)return!1;if(d.isInline){const p=!f||f.type.allowsMarkType(t),h=!!t.isInSet(d.marks)||!d.marks.some(g=>g.type.excludes(t));c=p&&h}return!c}),c})}const G_=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:a}=s,l=Zr(n,r.schema);if(i)if(o){const c=wh(r,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const d=c.$from.pos,u=c.$to.pos;r.doc.nodesBetween(d,u,(f,p)=>{const h=Math.max(p,d),g=Math.min(p+f.nodeSize,u);f.marks.find(y=>y.type===l)?f.marks.forEach(y=>{l===y.type&&t.addMark(h,g,l.create({...y.attrs,...e}))}):t.addMark(h,g,l.create(e))})});return W_(r,t,l)},q_=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),j_=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=tn(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>Au(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>Au(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Y_=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Sr(n,0,r.content.size),s=Ae.create(r,i);e.setSelection(s)}return!0},J_=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=We.atStart(r).from,a=We.atEnd(r).to,l=Sr(i,o,a),c=Sr(s,o,a),d=We.create(r,l,c);e.setSelection(d)}return!0},Z_=n=>({state:e,dispatch:t})=>{const r=tn(n,e.schema);return Tv(r)(e,t)};function zu(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e?.includes(i.type.name));n.tr.ensureMarks(r)}}const X_=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,d=So(c,a.node().type.name,a.node().attrs);if(s instanceof Ae&&s.node.isBlock)return!a.parentOffset||!Nr(o,a.pos)?!1:(r&&(n&&zu(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const u=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:L_(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=u&&f?[{type:f,attrs:d}]:void 0,h=Nr(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!h&&Nr(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(h=!0,p=f?[{type:f,attrs:d}]:void 0),r){if(h&&(s instanceof We&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),f&&!u&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),m=e.doc.resolve(g);a.node(-1).canReplaceWith(m.index(),m.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}n&&zu(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return h},Q_=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var o;const a=tn(n,r.schema),{$from:l,$to:c}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(c))return!1;const u=l.node(-1);if(u.type!==a)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=z.empty;const S=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-S;P>=l.depth-3;P-=1)y=z.from(l.node(P).copy(y));const M=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,b={...So(f,l.node().type.name,l.node().attrs),...e},C=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(b))||void 0;y=y.append(z.from(a.createAndFill(null,C)||void 0));const w=l.before(l.depth-(S-1));t.replace(w,l.after(-M),new ae(y,4-S,0));let D=-1;t.doc.nodesBetween(w,t.doc.content.size,(P,L)=>{if(D>-1)return!1;P.isTextblock&&P.content.size===0&&(D=L+1)}),D>-1&&t.setSelection(We.near(t.doc.resolve(D))),t.scrollIntoView()}return!0}const p=c.pos===l.end()?u.contentMatchAt(0).defaultType:null,h={...So(f,u.type.name,u.attrs),...e},g={...So(f,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const m=p?[{type:a,attrs:h},{type:p,attrs:g}]:[{type:a,attrs:h}];if(!Nr(t.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:S}=r,{splittableMarks:M}=s.extensionManager,b=S||y.$to.parentOffset&&y.$from.marks();if(t.split(l.pos,2,m).scrollIntoView(),!b||!i)return!0;const C=b.filter(w=>M.includes(w.type.name));t.ensureMarks(C)}return!0},bl=(n,e)=>{const t=qc(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&Yr(n.doc,t.pos)&&n.join(t.pos),!0},yl=(n,e)=>{const t=qc(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&Yr(n.doc,r)&&n.join(r),!0},e1=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:d})=>{const{extensions:u,splittableMarks:f}=i.extensionManager,p=tn(n,o.schema),h=tn(e,o.schema),{selection:g,storedMarks:m}=o,{$from:y,$to:S}=g,M=y.blockRange(S),b=m||g.$to.parentOffset&&g.$from.marks();if(!M)return!1;const C=qc(w=>$u(w.type.name,u))(g);if(M.depth>=1&&C&&M.depth-C.depth<=1){if(C.node.type===p)return c.liftListItem(h);if($u(C.node.type.name,u)&&p.validContent(C.node.content)&&a)return l().command(()=>(s.setNodeMarkup(C.pos,p),!0)).command(()=>bl(s,p)).command(()=>yl(s,p)).run()}return!t||!b||!a?l().command(()=>d().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>bl(s,p)).command(()=>yl(s,p)).run():l().command(()=>{const w=d().wrapInList(p,r),D=b.filter(P=>f.includes(P.type.name));return s.ensureMarks(D),w?!0:c.clearNodes()}).wrapInList(p,r).command(()=>bl(s,p)).command(()=>yl(s,p)).run()},t1=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=Zr(n,r.schema);return oc(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},n1=(n,e,t={})=>({state:r,commands:i})=>{const s=tn(n,r.schema),o=tn(e,r.schema),a=Bs(r,s,t);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...t})},r1=(n,e={})=>({state:t,commands:r})=>{const i=tn(n,t.schema);return Bs(t,i,e)?r.lift(i):r.wrapIn(i,e)},i1=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},s1=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},o1=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=Zr(n,r.schema),{$from:c,empty:d,ranges:u}=a;if(!i)return!0;if(d&&o){let{from:f,to:p}=a;const h=(s=c.marks().find(m=>m.type===l))===null||s===void 0?void 0:s.attrs,g=Gc(c,l,h);g&&(f=g.from,p=g.to),t.removeMark(f,p,l)}else u.forEach(f=>{t.removeMark(f.$from.pos,f.$to.pos,l)});return t.removeStoredMark(l),!0},a1=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=za(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=tn(n,r.schema)),a==="mark"&&(o=Zr(n,r.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,d=l.$to.pos;let u,f,p,h;t.selection.empty?r.doc.nodesBetween(c,d,(g,m)=>{s&&s===g.type&&(p=Math.max(m,c),h=Math.min(m+g.nodeSize,d),u=m,f=g)}):r.doc.nodesBetween(c,d,(g,m)=>{m<c&&s&&s===g.type&&(p=Math.max(m,c),h=Math.min(m+g.nodeSize,d),u=m,f=g),m>=c&&m<=d&&(s&&s===g.type&&t.setNodeMarkup(m,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(y=>{if(o===y.type){const S=Math.max(m,c),M=Math.min(m+g.nodeSize,d);t.addMark(S,M,o.create({...y.attrs,...e}))}}))}),f&&(u!==void 0&&t.setNodeMarkup(u,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&t.addMark(p,h,o.create({...g.attrs,...e}))}))}),!0):!1},l1=(n,e={})=>({state:t,dispatch:r})=>{const i=tn(n,t.schema);return _v(i,e)(t,r)},c1=(n,e={})=>({state:t,dispatch:r})=>{const i=tn(n,t.schema);return xv(i,e)(t,r)};var d1=Object.freeze({__proto__:null,blur:Vv,clearContent:Wv,clearNodes:Gv,command:qv,createParagraphNear:jv,cut:Yv,deleteCurrentNode:Jv,deleteNode:Zv,deleteRange:Xv,deleteSelection:Qv,enter:e_,exitCode:t_,extendMarkRange:n_,first:r_,focus:s_,forEach:o_,insertContent:a_,insertContentAt:d_,joinBackward:p_,joinDown:f_,joinForward:h_,joinItemBackward:g_,joinItemForward:m_,joinTextblockBackward:b_,joinTextblockForward:y_,joinUp:u_,keyboardShortcut:__,lift:x_,liftEmptyBlock:E_,liftListItem:k_,newlineInCode:w_,resetAttributes:S_,scrollIntoView:N_,selectAll:T_,selectNodeBackward:M_,selectNodeForward:O_,selectParentNode:C_,selectTextblockEnd:A_,selectTextblockStart:R_,setContent:I_,setMark:G_,setMeta:q_,setNode:j_,setNodeSelection:Y_,setTextSelection:J_,sinkListItem:Z_,splitBlock:X_,splitListItem:Q_,toggleList:e1,toggleMark:t1,toggleNode:n1,toggleWrap:r1,undoInputRule:i1,unsetAllMarks:s1,unsetMark:o1,updateAttributes:a1,wrapIn:l1,wrapInList:c1});const u1=an.create({name:"commands",addCommands(){return{...d1}}}),f1=an.create({name:"drop",addProseMirrorPlugins(){return[new Ht({key:new hn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),p1=an.create({name:"editable",addProseMirrorPlugins(){return[new Ht({key:new hn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),h1=new hn("focusEvents"),g1=an.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Ht({key:h1,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),m1=an.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:d,$anchor:u}=l,{pos:f,parent:p}=u,h=u.parent.isTextblock&&f>0?a.doc.resolve(f-1):u,g=h.parent.type.spec.isolating,m=u.pos-u.parentOffset,y=g&&h.parent.childCount===1?m===u.pos:et.atStart(c).from===f;return!d||!p.type.isTextblock||p.textContent.length||!y||y&&u.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Wo()||kh()?s:i},addProseMirrorPlugins(){return[new Ht({key:new hn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(g=>g.getMeta("composition")))return;const r=n.some(g=>g.docChanged)&&!e.doc.eq(t.doc),i=n.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=et.atStart(e.doc).from,c=et.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Fa(t.doc))return;const f=t.tr,p=Da({state:t,transaction:f}),{commands:h}=new La({editor:this.editor,state:p});if(h.clearNodes(),!!f.steps.length)return f}})]}}),b1=an.create({name:"paste",addProseMirrorPlugins(){return[new Ht({key:new hn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),y1=an.create({name:"tabindex",addProseMirrorPlugins(){return[new Ht({key:new hn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class si{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new si(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new si(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new si(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+r+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new si(a,this.editor,i,i?t:null);i&&(l.actualDepth=this.depth+1),e.push(new si(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==t[l])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>t[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const v1=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function _1(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class No extends Mv{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=_1(v1,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=bh(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(o))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[p1,Kv.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),u1,g1,m1,y1,f1,b1].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Ui(i,this)}createCommandManager(){this.commandManager=new La({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=ic(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=ic(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=xh(t,this.options.autofocus);this.view=new nh(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Fi.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Nh(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return H_(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Kc(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Sh(this.state.doc,{blockSeparator:t,textSerializers:{...Wc(this.schema),...r}})}get isEmpty(){return Fa(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new si(t,this)}get $doc(){return this.$pos(0)}}function ji(n){return new Ba({find:n.find,handler:({state:e,range:t,match:r})=>{const i=tt(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=t.from+a.indexOf(o),d=c+o.length;if(jc(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===n.type&&g!==p.mark.type)).filter(p=>p.to>c).length)return null;d<t.to&&s.delete(d,t.to),c>t.from&&s.delete(t.from+l,c);const f=t.from+l+o.length;s.addMark(t.from+l,f,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function Th(n){return new Ba({find:n.find,handler:({state:e,range:t,match:r})=>{const i=tt(n.getAttributes,void 0,r)||{},{tr:s}=e,o=t.from;let a=t.to;const l=n.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let d=o+c;d>a?d=a:a=d+r[1].length;const u=r[0][r[0].length-1];s.insertText(u,o+r[0].length-1),s.replaceWith(d,a,l)}else if(r[0]){const c=n.type.isInline?o:o-1;s.insert(c,n.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function ac(n){return new Ba({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=tt(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function Yi(n){return new Ba({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=tt(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),c=l&&Tc(l,n.type,s);if(!c)return null;if(o.wrap(l,c),n.keepMarks&&n.editor){const{selection:u,storedMarks:f}=e,{splittableMarks:p}=n.editor.extensionManager,h=f||u.$to.parentOffset&&u.$from.marks();if(h){const g=h.filter(m=>p.includes(m.type.name));o.ensureMarks(g)}}if(n.keepAttributes){const u=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(u,s).run()}const d=o.doc.resolve(t.from-1).nodeBefore;d&&d.type===n.type&&Yr(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,d))&&o.join(t.from-1)}})}class ln{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=tt(he(this,"addOptions",{name:this.name}))),this.storage=tt(he(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ln(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>$a(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new ln(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=tt(he(t,"addOptions",{name:t.name})),t.storage=tt(he(t,"addStorage",{name:t.name,options:t.options})),t}}function Ei(n){return new Bv({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=tt(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=t.to;if(a){const d=l.search(/\S/),u=t.from+l.indexOf(a),f=u+a.length;if(jc(t.from,t.to,e.doc).filter(h=>h.mark.type.excluded.find(m=>m===n.type&&m!==h.mark.type)).filter(h=>h.to>u).length)return null;f<t.to&&o.delete(f,t.to),u>t.from&&o.delete(t.from+d,u),c=t.from+d+a.length,o.addMark(t.from+d,c,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function x1(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof Ae){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}const E1="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",k1="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",lc="numeric",cc="ascii",dc="alpha",vs="asciinumeric",hs="alphanumeric",uc="domain",Mh="emoji",w1="scheme",S1="slashscheme",vl="whitespace";function N1(n,e){return n in e||(e[n]=[]),e[n]}function ci(n,e,t){e[lc]&&(e[vs]=!0,e[hs]=!0),e[cc]&&(e[vs]=!0,e[dc]=!0),e[vs]&&(e[hs]=!0),e[dc]&&(e[hs]=!0),e[hs]&&(e[uc]=!0),e[Mh]&&(e[uc]=!0);for(const r in e){const i=N1(r,t);i.indexOf(n)<0&&i.push(n)}}function T1(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Nn(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Nn.groups={};Nn.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(n))return s}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||Nn.groups;let i;return e&&e.j?i=e:(i=new Nn(e),t&&r&&ci(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const s=n.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(n[o]);return i.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||Nn.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const s=e;let o,a=i.go(n);if(a?(o=new Nn,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Nn,s){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(T1(o.t,r),t);ci(s,l,r)}else t&&ci(s,t,r);o.t=s}return i.j[n]=o,o}};const Qe=(n,e,t,r,i)=>n.ta(e,t,r,i),Dt=(n,e,t,r,i)=>n.tr(e,t,r,i),Fu=(n,e,t,r,i)=>n.ts(e,t,r,i),K=(n,e,t,r,i)=>n.tt(e,t,r,i),_r="WORD",fc="UWORD",Oh="ASCIINUMERICAL",Ch="ALPHANUMERICAL",$s="LOCALHOST",pc="TLD",hc="UTLD",To="SCHEME",Pi="SLASH_SCHEME",Yc="NUM",gc="WS",Jc="NL",_s="OPENBRACE",xs="CLOSEBRACE",Go="OPENBRACKET",qo="CLOSEBRACKET",jo="OPENPAREN",Yo="CLOSEPAREN",Jo="OPENANGLEBRACKET",Zo="CLOSEANGLEBRACKET",Xo="FULLWIDTHLEFTPAREN",Qo="FULLWIDTHRIGHTPAREN",ea="LEFTCORNERBRACKET",ta="RIGHTCORNERBRACKET",na="LEFTWHITECORNERBRACKET",ra="RIGHTWHITECORNERBRACKET",ia="FULLWIDTHLESSTHAN",sa="FULLWIDTHGREATERTHAN",oa="AMPERSAND",aa="APOSTROPHE",la="ASTERISK",Dr="AT",ca="BACKSLASH",da="BACKTICK",ua="CARET",Br="COLON",Zc="COMMA",fa="DOLLAR",Xn="DOT",pa="EQUALS",Xc="EXCLAMATION",Bn="HYPHEN",Es="PERCENT",ha="PIPE",ga="PLUS",ma="POUND",ks="QUERY",Qc="QUOTE",Ah="FULLWIDTHMIDDLEDOT",ed="SEMI",Qn="SLASH",ws="TILDE",ba="UNDERSCORE",Rh="EMOJI",ya="SYM";var Ih=Object.freeze({__proto__:null,ALPHANUMERICAL:Ch,AMPERSAND:oa,APOSTROPHE:aa,ASCIINUMERICAL:Oh,ASTERISK:la,AT:Dr,BACKSLASH:ca,BACKTICK:da,CARET:ua,CLOSEANGLEBRACKET:Zo,CLOSEBRACE:xs,CLOSEBRACKET:qo,CLOSEPAREN:Yo,COLON:Br,COMMA:Zc,DOLLAR:fa,DOT:Xn,EMOJI:Rh,EQUALS:pa,EXCLAMATION:Xc,FULLWIDTHGREATERTHAN:sa,FULLWIDTHLEFTPAREN:Xo,FULLWIDTHLESSTHAN:ia,FULLWIDTHMIDDLEDOT:Ah,FULLWIDTHRIGHTPAREN:Qo,HYPHEN:Bn,LEFTCORNERBRACKET:ea,LEFTWHITECORNERBRACKET:na,LOCALHOST:$s,NL:Jc,NUM:Yc,OPENANGLEBRACKET:Jo,OPENBRACE:_s,OPENBRACKET:Go,OPENPAREN:jo,PERCENT:Es,PIPE:ha,PLUS:ga,POUND:ma,QUERY:ks,QUOTE:Qc,RIGHTCORNERBRACKET:ta,RIGHTWHITECORNERBRACKET:ra,SCHEME:To,SEMI:ed,SLASH:Qn,SLASH_SCHEME:Pi,SYM:ya,TILDE:ws,TLD:pc,UNDERSCORE:ba,UTLD:hc,UWORD:fc,WORD:_r,WS:gc});const yr=/[a-z]/,ls=/\p{L}/u,_l=/\p{Emoji}/u,vr=/\d/,xl=/\s/,Uu="\r",El=`
`,M1="️",O1="‍",kl="￼";let lo=null,co=null;function C1(n=[]){const e={};Nn.groups=e;const t=new Nn;lo==null&&(lo=Hu(E1)),co==null&&(co=Hu(k1)),K(t,"'",aa),K(t,"{",_s),K(t,"}",xs),K(t,"[",Go),K(t,"]",qo),K(t,"(",jo),K(t,")",Yo),K(t,"<",Jo),K(t,">",Zo),K(t,"（",Xo),K(t,"）",Qo),K(t,"「",ea),K(t,"」",ta),K(t,"『",na),K(t,"』",ra),K(t,"＜",ia),K(t,"＞",sa),K(t,"&",oa),K(t,"*",la),K(t,"@",Dr),K(t,"`",da),K(t,"^",ua),K(t,":",Br),K(t,",",Zc),K(t,"$",fa),K(t,".",Xn),K(t,"=",pa),K(t,"!",Xc),K(t,"-",Bn),K(t,"%",Es),K(t,"|",ha),K(t,"+",ga),K(t,"#",ma),K(t,"?",ks),K(t,'"',Qc),K(t,"/",Qn),K(t,";",ed),K(t,"~",ws),K(t,"_",ba),K(t,"\\",ca),K(t,"・",Ah);const r=Dt(t,vr,Yc,{[lc]:!0});Dt(r,vr,r);const i=Dt(r,yr,Oh,{[vs]:!0}),s=Dt(r,ls,Ch,{[hs]:!0}),o=Dt(t,yr,_r,{[cc]:!0});Dt(o,vr,i),Dt(o,yr,o),Dt(i,vr,i),Dt(i,yr,i);const a=Dt(t,ls,fc,{[dc]:!0});Dt(a,yr),Dt(a,vr,s),Dt(a,ls,a),Dt(s,vr,s),Dt(s,yr),Dt(s,ls,s);const l=K(t,El,Jc,{[vl]:!0}),c=K(t,Uu,gc,{[vl]:!0}),d=Dt(t,xl,gc,{[vl]:!0});K(t,kl,d),K(c,El,l),K(c,kl,d),Dt(c,xl,d),K(d,Uu),K(d,El),Dt(d,xl,d),K(d,kl,d);const u=Dt(t,_l,Rh,{[Mh]:!0});K(u,"#"),Dt(u,_l,u),K(u,M1,u);const f=K(u,O1);K(f,"#"),Dt(f,_l,u);const p=[[yr,o],[vr,i]],h=[[yr,null],[ls,a],[vr,s]];for(let g=0;g<lo.length;g++)Ar(t,lo[g],pc,_r,p);for(let g=0;g<co.length;g++)Ar(t,co[g],hc,fc,h);ci(pc,{tld:!0,ascii:!0},e),ci(hc,{utld:!0,alpha:!0},e),Ar(t,"file",To,_r,p),Ar(t,"mailto",To,_r,p),Ar(t,"http",Pi,_r,p),Ar(t,"https",Pi,_r,p),Ar(t,"ftp",Pi,_r,p),Ar(t,"ftps",Pi,_r,p),ci(To,{scheme:!0,ascii:!0},e),ci(Pi,{slashscheme:!0,ascii:!0},e),n=n.sort((g,m)=>g[0]>m[0]?1:-1);for(let g=0;g<n.length;g++){const m=n[g][0],S=n[g][1]?{[w1]:!0}:{[S1]:!0};m.indexOf("-")>=0?S[uc]=!0:yr.test(m)?vr.test(m)?S[vs]=!0:S[cc]=!0:S[lc]=!0,Fu(t,m,m,S)}return Fu(t,"localhost",$s,{ascii:!0}),t.jd=new Nn(ya),{start:t,tokens:Object.assign({groups:e},Ih)}}function Dh(n,e){const t=A1(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=t.length,i=[];let s=0,o=0;for(;o<r;){let a=n,l=null,c=0,d=null,u=-1,f=-1;for(;o<r&&(l=a.go(t[o]));)a=l,a.accepts()?(u=0,f=0,d=a):u>=0&&(u+=t[o].length,f++),c+=t[o].length,s+=t[o].length,o++;s-=u,o-=f,c-=u,i.push({t:d.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function A1(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),s,o=i<55296||i>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(o),r+=o.length}return e}function Ar(n,e,t,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];n.j[l]?s=n.j[l]:(s=new Nn(r),s.jr=i.slice(),n.j[l]=s),n=s}return s=new Nn(t),s.jr=i.slice(),n.j[e[o-1]]=s,s}function Hu(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let s=0;for(;i.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let o=parseInt(n.substring(r,r+s),10);o>0;o--)t.pop();r+=s}else t.push(n[r]),r++}return e}const zs={defaultProtocol:"http",events:null,format:Ku,formatHref:Ku,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function td(n,e=null){let t=Object.assign({},zs);n&&(t=Object.assign(t,n instanceof td?n.o:n));const r=t.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}td.prototype={o:zs,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:zs[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function Ku(n){return n}function Lh(n,e){this.t="token",this.v=n,this.tk=e}Lh.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=zs.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),s=this.toFormattedString(n),o={},a=n.get("className",t,e),l=n.get("target",t,e),c=n.get("rel",t,e),d=n.getObj("attributes",t,e),u=n.getObj("events",t,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),d&&Object.assign(o,d),{tagName:i,attributes:o,content:s,eventListeners:u}}};function Ua(n,e){class t extends Lh{constructor(i,s){super(i,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const Vu=Ua("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Wu=Ua("text"),R1=Ua("nl"),uo=Ua("url",{isLink:!0,toHref(n=zs.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==$s&&n[1].t===Br}}),Pn=n=>new Nn(n);function I1({groups:n}){const e=n.domain.concat([oa,la,Dr,ca,da,ua,fa,pa,Bn,Yc,Es,ha,ga,ma,Qn,ya,ws,ba]),t=[aa,Br,Zc,Xn,Xc,Es,ks,Qc,ed,Jo,Zo,_s,xs,qo,Go,jo,Yo,Xo,Qo,ea,ta,na,ra,ia,sa],r=[oa,aa,la,ca,da,ua,fa,pa,Bn,_s,xs,Es,ha,ga,ma,ks,Qn,ya,ws,ba],i=Pn(),s=K(i,ws);Qe(s,r,s),Qe(s,n.domain,s);const o=Pn(),a=Pn(),l=Pn();Qe(i,n.domain,o),Qe(i,n.scheme,a),Qe(i,n.slashscheme,l),Qe(o,r,s),Qe(o,n.domain,o);const c=K(o,Dr);K(s,Dr,c),K(a,Dr,c),K(l,Dr,c);const d=K(s,Xn);Qe(d,r,s),Qe(d,n.domain,s);const u=Pn();Qe(c,n.domain,u),Qe(u,n.domain,u);const f=K(u,Xn);Qe(f,n.domain,u);const p=Pn(Vu);Qe(f,n.tld,p),Qe(f,n.utld,p),K(c,$s,p);const h=K(u,Bn);K(h,Bn,h),Qe(h,n.domain,u),Qe(p,n.domain,u),K(p,Xn,f),K(p,Bn,h);const g=K(p,Br);Qe(g,n.numeric,Vu);const m=K(o,Bn),y=K(o,Xn);K(m,Bn,m),Qe(m,n.domain,o),Qe(y,r,s),Qe(y,n.domain,o);const S=Pn(uo);Qe(y,n.tld,S),Qe(y,n.utld,S),Qe(S,n.domain,o),Qe(S,r,s),K(S,Xn,y),K(S,Bn,m),K(S,Dr,c);const M=K(S,Br),b=Pn(uo);Qe(M,n.numeric,b);const C=Pn(uo),w=Pn();Qe(C,e,C),Qe(C,t,w),Qe(w,e,C),Qe(w,t,w),K(S,Qn,C),K(b,Qn,C);const D=K(a,Br),P=K(l,Br),L=K(P,Qn),ee=K(L,Qn);Qe(a,n.domain,o),K(a,Xn,y),K(a,Bn,m),Qe(l,n.domain,o),K(l,Xn,y),K(l,Bn,m),Qe(D,n.domain,C),K(D,Qn,C),K(D,ks,C),Qe(ee,n.domain,C),Qe(ee,e,C),K(ee,Qn,C);const de=[[_s,xs],[Go,qo],[jo,Yo],[Jo,Zo],[Xo,Qo],[ea,ta],[na,ra],[ia,sa]];for(let ye=0;ye<de.length;ye++){const[ie,le]=de[ye],ue=K(C,ie);K(w,ie,ue),K(ue,le,C);const Me=Pn(uo);Qe(ue,e,Me);const R=Pn();Qe(ue,t),Qe(Me,e,Me),Qe(Me,t,R),Qe(R,e,Me),Qe(R,t,R),K(Me,le,C),K(R,le,C)}return K(i,$s,S),K(i,Jc,R1),{start:i,tokens:Ih}}function D1(n,e,t){let r=t.length,i=0,s=[],o=[];for(;i<r;){let a=n,l=null,c=null,d=0,u=null,f=-1;for(;i<r&&!(l=a.go(t[i].t));)o.push(t[i++]);for(;i<r&&(c=l||a.go(t[i].t));)l=null,a=c,a.accepts()?(f=0,u=a):f>=0&&f++,i++,d++;if(f<0)i-=d,i<r&&(o.push(t[i]),i++);else{o.length>0&&(s.push(wl(Wu,e,o)),o=[]),i-=f,d-=f;const p=u.t,h=t.slice(i-d,i);s.push(wl(p,e,h))}}return o.length>0&&s.push(wl(Wu,e,o)),s}function wl(n,e,t){const r=t[0].s,i=t[t.length-1].e,s=e.slice(r,i);return new n(s,t)}const L1=typeof console<"u"&&console&&console.warn||(()=>{}),P1="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ct={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function B1(){return Nn.groups={},Ct.scanner=null,Ct.parser=null,Ct.tokenQueue=[],Ct.pluginQueue=[],Ct.customSchemes=[],Ct.initialized=!1,Ct}function Gu(n,e=!1){if(Ct.initialized&&L1(`linkifyjs: already initialized - will not register custom scheme "${n}" ${P1}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ct.customSchemes.push([n,e])}function $1(){Ct.scanner=C1(Ct.customSchemes);for(let n=0;n<Ct.tokenQueue.length;n++)Ct.tokenQueue[n][1]({scanner:Ct.scanner});Ct.parser=I1(Ct.scanner.tokens);for(let n=0;n<Ct.pluginQueue.length;n++)Ct.pluginQueue[n][1]({scanner:Ct.scanner,parser:Ct.parser});return Ct.initialized=!0,Ct}function nd(n){return Ct.initialized||$1(),D1(Ct.parser.start,n,Dh(Ct.scanner.start,n))}nd.scan=Dh;function Ph(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new td(t),i=nd(n),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}const rd="[\0-   ᠎ -\u2029 　]",z1=new RegExp(rd),F1=new RegExp(`${rd}$`),U1=new RegExp(rd,"g");function H1(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function K1(n){return new Ht({key:new hn("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(c=>c.docChanged)&&!t.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=D_(t.doc,[...e]);if(U_(a).forEach(({newRange:c})=>{const d=P_(r.doc,c,p=>p.isTextblock);let u,f;if(d.length>1)u=d[0],f=r.doc.textBetween(u.pos,u.pos+u.node.nodeSize,void 0," ");else if(d.length){const p=r.doc.textBetween(c.from,c.to," "," ");if(!F1.test(p))return;u=d[0],f=r.doc.textBetween(u.pos,c.to,void 0," ")}if(u&&f){const p=f.split(z1).filter(Boolean);if(p.length<=0)return!1;const h=p[p.length-1],g=u.pos+f.lastIndexOf(h);if(!h)return!1;const m=nd(h).map(y=>y.toObject(n.defaultProtocol));if(!H1(m))return!1;m.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>r.schema.marks.code?!r.doc.rangeHasMark(y.from,y.to,r.schema.marks.code):!0).filter(y=>n.validate(y.value)).filter(y=>n.shouldAutoLink(y.value)).forEach(y=>{jc(y.from,y.to,r.doc).some(S=>S.mark.type===n.type)||o.addMark(y.from,y.to,n.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function V1(n){return new Ht({key:new hn("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(f=>f.nodeName==="A"))return!1;const l=Nh(e.state,n.type.name),c=r.target,d=(i=c?.href)!==null&&i!==void 0?i:l.href,u=(s=c?.target)!==null&&s!==void 0?s:l.target;return c&&d?(window.open(d,u),!0):!1}}})}function W1(n){return new Ht({key:new hn("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=Ph(a,{defaultProtocol:n.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:n.editor.commands.setMark(n.type,{href:l.href})}}})}function ti(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(U1,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const G1=or.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){Gu(n);return}Gu(n.scheme,n.optionalSlashes)})},onDestroy(){B1()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!ti(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!ti(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!ti(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",zt(this.options.HTMLAttributes,n),0]:["a",zt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!ti(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!ti(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ei({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=Ph(n).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!ti(o,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(K1({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!ti(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(V1({type:this.type})),this.options.linkOnPaste&&n.push(W1({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),q1=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,j1=ln.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",zt(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[Th({find:q1,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}}),Y1=an.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ht({key:new hn("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&Fa(o);if((l||!this.options.showOnlyCurrent)&&c){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const u=Tn.node(a,a+o.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(u)}return this.options.includeChildren}),Bt.create(n,i)}}})]}}),J1=/^```([a-z]+)?[\s\n]$/,Z1=/^~~~([a-z]+)?[\s\n]$/,Bh=ln.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",zt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:c})=>(c.setSelection(et.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[ac({find:J1,type:this.type,getAttributes:n=>({language:n[1]})}),ac({find:Z1,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Ht({key:new hn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!t||!s)return!1;const{tr:o,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(We.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}});function X1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function $h(n){return n instanceof Map?n.clear=n.delete=n.set=function(){throw new Error("map is read-only")}:n instanceof Set&&(n.add=n.clear=n.delete=function(){throw new Error("set is read-only")}),Object.freeze(n),Object.getOwnPropertyNames(n).forEach(e=>{const t=n[e],r=typeof t;(r==="object"||r==="function")&&!Object.isFrozen(t)&&$h(t)}),n}class qu{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function zh(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Ur(n,...e){const t=Object.create(null);for(const r in n)t[r]=n[r];return e.forEach(function(r){for(const i in r)t[i]=r[i]}),t}const Q1="</span>",ju=n=>!!n.scope,ex=(n,{prefix:e})=>{if(n.startsWith("language:"))return n.replace("language:","language-");if(n.includes(".")){const t=n.split(".");return[`${e}${t.shift()}`,...t.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${e}${n}`};class tx{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=zh(e)}openNode(e){if(!ju(e))return;const t=ex(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){ju(e)&&(this.buffer+=Q1)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const Yu=(n={})=>{const e={children:[]};return Object.assign(e,n),e};class id{constructor(){this.rootNode=Yu(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=Yu({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return typeof t=="string"?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(r=>this._walk(e,r)),e.closeNode(t)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(t=>typeof t=="string")?e.children=[e.children.join("")]:e.children.forEach(t=>{id._collapse(t)}))}}class nx extends id{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const r=e.root;t&&(r.scope=`language:${t}`),this.add(r)}toHTML(){return new tx(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Fs(n){return n?typeof n=="string"?n:n.source:null}function Fh(n){return Si("(?=",n,")")}function rx(n){return Si("(?:",n,")*")}function ix(n){return Si("(?:",n,")?")}function Si(...n){return n.map(t=>Fs(t)).join("")}function sx(n){const e=n[n.length-1];return typeof e=="object"&&e.constructor===Object?(n.splice(n.length-1,1),e):{}}function sd(...n){return"("+(sx(n).capture?"":"?:")+n.map(r=>Fs(r)).join("|")+")"}function Uh(n){return new RegExp(n.toString()+"|").exec("").length-1}function ox(n,e){const t=n&&n.exec(e);return t&&t.index===0}const ax=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function od(n,{joinWith:e}){let t=0;return n.map(r=>{t+=1;const i=t;let s=Fs(r),o="";for(;s.length>0;){const a=ax.exec(s);if(!a){o+=s;break}o+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+i):(o+=a[0],a[0]==="("&&t++)}return o}).map(r=>`(${r})`).join(e)}const lx=/\b\B/,Hh="[a-zA-Z]\\w*",ad="[a-zA-Z_]\\w*",Kh="\\b\\d+(\\.\\d+)?",Vh="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Wh="\\b(0b[01]+)",cx="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",dx=(n={})=>{const e=/^#![ ]*\//;return n.binary&&(n.begin=Si(e,/.*\b/,n.binary,/\b.*/)),Ur({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,r)=>{t.index!==0&&r.ignoreMatch()}},n)},Us={begin:"\\\\[\\s\\S]",relevance:0},ux={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Us]},fx={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Us]},px={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Ha=function(n,e,t={}){const r=Ur({scope:"comment",begin:n,end:e,contains:[]},t);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=sd("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Si(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},hx=Ha("//","$"),gx=Ha("/\\*","\\*/"),mx=Ha("#","$"),bx={scope:"number",begin:Kh,relevance:0},yx={scope:"number",begin:Vh,relevance:0},vx={scope:"number",begin:Wh,relevance:0},_x={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Us,{begin:/\[/,end:/\]/,relevance:0,contains:[Us]}]},xx={scope:"title",begin:Hh,relevance:0},Ex={scope:"title",begin:ad,relevance:0},kx={begin:"\\.\\s*"+ad,relevance:0},wx=function(n){return Object.assign(n,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var fo=Object.freeze({__proto__:null,APOS_STRING_MODE:ux,BACKSLASH_ESCAPE:Us,BINARY_NUMBER_MODE:vx,BINARY_NUMBER_RE:Wh,COMMENT:Ha,C_BLOCK_COMMENT_MODE:gx,C_LINE_COMMENT_MODE:hx,C_NUMBER_MODE:yx,C_NUMBER_RE:Vh,END_SAME_AS_BEGIN:wx,HASH_COMMENT_MODE:mx,IDENT_RE:Hh,MATCH_NOTHING_RE:lx,METHOD_GUARD:kx,NUMBER_MODE:bx,NUMBER_RE:Kh,PHRASAL_WORDS_MODE:px,QUOTE_STRING_MODE:fx,REGEXP_MODE:_x,RE_STARTERS_RE:cx,SHEBANG:dx,TITLE_MODE:xx,UNDERSCORE_IDENT_RE:ad,UNDERSCORE_TITLE_MODE:Ex});function Sx(n,e){n.input[n.index-1]==="."&&e.ignoreMatch()}function Nx(n,e){n.className!==void 0&&(n.scope=n.className,delete n.className)}function Tx(n,e){e&&n.beginKeywords&&(n.begin="\\b("+n.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",n.__beforeBegin=Sx,n.keywords=n.keywords||n.beginKeywords,delete n.beginKeywords,n.relevance===void 0&&(n.relevance=0))}function Mx(n,e){Array.isArray(n.illegal)&&(n.illegal=sd(...n.illegal))}function Ox(n,e){if(n.match){if(n.begin||n.end)throw new Error("begin & end are not supported with match");n.begin=n.match,delete n.match}}function Cx(n,e){n.relevance===void 0&&(n.relevance=1)}const Ax=(n,e)=>{if(!n.beforeMatch)return;if(n.starts)throw new Error("beforeMatch cannot be used with starts");const t=Object.assign({},n);Object.keys(n).forEach(r=>{delete n[r]}),n.keywords=t.keywords,n.begin=Si(t.beforeMatch,Fh(t.begin)),n.starts={relevance:0,contains:[Object.assign(t,{endsParent:!0})]},n.relevance=0,delete t.beforeMatch},Rx=["of","and","for","in","not","or","if","then","parent","list","value"],Ix="keyword";function Gh(n,e,t=Ix){const r=Object.create(null);return typeof n=="string"?i(t,n.split(" ")):Array.isArray(n)?i(t,n):Object.keys(n).forEach(function(s){Object.assign(r,Gh(n[s],e,s))}),r;function i(s,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const l=a.split("|");r[l[0]]=[s,Dx(l[0],l[1])]})}}function Dx(n,e){return e?Number(e):Lx(n)?0:1}function Lx(n){return Rx.includes(n.toLowerCase())}const Ju={},hi=n=>{console.error(n)},Zu=(n,...e)=>{console.log(`WARN: ${n}`,...e)},Ri=(n,e)=>{Ju[`${n}/${e}`]||(console.log(`Deprecated as of ${n}. ${e}`),Ju[`${n}/${e}`]=!0)},va=new Error;function qh(n,e,{key:t}){let r=0;const i=n[t],s={},o={};for(let a=1;a<=e.length;a++)o[a+r]=i[a],s[a+r]=!0,r+=Uh(e[a-1]);n[t]=o,n[t]._emit=s,n[t]._multi=!0}function Px(n){if(Array.isArray(n.begin)){if(n.skip||n.excludeBegin||n.returnBegin)throw hi("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),va;if(typeof n.beginScope!="object"||n.beginScope===null)throw hi("beginScope must be object"),va;qh(n,n.begin,{key:"beginScope"}),n.begin=od(n.begin,{joinWith:""})}}function Bx(n){if(Array.isArray(n.end)){if(n.skip||n.excludeEnd||n.returnEnd)throw hi("skip, excludeEnd, returnEnd not compatible with endScope: {}"),va;if(typeof n.endScope!="object"||n.endScope===null)throw hi("endScope must be object"),va;qh(n,n.end,{key:"endScope"}),n.end=od(n.end,{joinWith:""})}}function $x(n){n.scope&&typeof n.scope=="object"&&n.scope!==null&&(n.beginScope=n.scope,delete n.scope)}function zx(n){$x(n),typeof n.beginScope=="string"&&(n.beginScope={_wrap:n.beginScope}),typeof n.endScope=="string"&&(n.endScope={_wrap:n.endScope}),Px(n),Bx(n)}function Fx(n){function e(o,a){return new RegExp(Fs(o),"m"+(n.case_insensitive?"i":"")+(n.unicodeRegex?"u":"")+(a?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=Uh(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(l=>l[1]);this.matcherRe=e(od(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(a);if(!l)return null;const c=l.findIndex((u,f)=>f>0&&u!==void 0),d=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const l=new t;return this.rules.slice(a).forEach(([c,d])=>l.addRule(c,d)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(a);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,c=d.exec(a)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(o){const a=new r;return o.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function s(o,a){const l=o;if(o.isCompiled)return l;[Nx,Ox,zx,Ax].forEach(d=>d(o,a)),n.compilerExtensions.forEach(d=>d(o,a)),o.__beforeBegin=null,[Tx,Mx,Cx].forEach(d=>d(o,a)),o.isCompiled=!0;let c=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),c=o.keywords.$pattern,delete o.keywords.$pattern),c=c||/\w+/,o.keywords&&(o.keywords=Gh(o.keywords,n.case_insensitive)),l.keywordPatternRe=e(c,!0),a&&(o.begin||(o.begin=/\B|\b/),l.beginRe=e(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=e(l.end)),l.terminatorEnd=Fs(l.end)||"",o.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(l.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(d){return Ux(d==="self"?o:d)})),o.contains.forEach(function(d){s(d,l)}),o.starts&&s(o.starts,a),l.matcher=i(l),l}if(n.compilerExtensions||(n.compilerExtensions=[]),n.contains&&n.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return n.classNameAliases=Ur(n.classNameAliases||{}),s(n)}function jh(n){return n?n.endsWithParent||jh(n.starts):!1}function Ux(n){return n.variants&&!n.cachedVariants&&(n.cachedVariants=n.variants.map(function(e){return Ur(n,{variants:null},e)})),n.cachedVariants?n.cachedVariants:jh(n)?Ur(n,{starts:n.starts?Ur(n.starts):null}):Object.isFrozen(n)?Ur(n):n}var Hx="11.10.0";class Kx extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const Sl=zh,Xu=Ur,Qu=Symbol("nomatch"),Vx=7,Yh=function(n){const e=Object.create(null),t=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:nx};function l(R){return a.noHighlightRe.test(R)}function c(R){let A=R.className+" ";A+=R.parentNode?R.parentNode.className:"";const F=a.languageDetectRe.exec(A);if(F){const Z=L(F[1]);return Z||(Zu(s.replace("{}",F[1])),Zu("Falling back to no-highlight mode for this block.",R)),Z?F[1]:"no-highlight"}return A.split(/\s+/).find(Z=>l(Z)||L(Z))}function d(R,A,F){let Z="",ce="";typeof A=="object"?(Z=R,F=A.ignoreIllegals,ce=A.language):(Ri("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ri("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ce=R,Z=A),F===void 0&&(F=!0);const _e={code:Z,language:ce};ue("before:highlight",_e);const se=_e.result?_e.result:u(_e.language,_e.code,F);return se.code=_e.code,ue("after:highlight",se),se}function u(R,A,F,Z){const ce=Object.create(null);function _e($,V){return $.keywords[V]}function se(){if(!oe.keywords){He.addText(Oe);return}let $=0;oe.keywordPatternRe.lastIndex=0;let V=oe.keywordPatternRe.exec(Oe),fe="";for(;V;){fe+=Oe.substring($,V.index);const Pe=Ue.case_insensitive?V[0].toLowerCase():V[0],lt=_e(oe,Pe);if(lt){const[ut,At]=lt;if(He.addText(fe),fe="",ce[Pe]=(ce[Pe]||0)+1,ce[Pe]<=Vx&&(Fe+=At),ut.startsWith("_"))fe+=V[0];else{const I=Ue.classNameAliases[ut]||ut;Se(V[0],I)}}else fe+=V[0];$=oe.keywordPatternRe.lastIndex,V=oe.keywordPatternRe.exec(Oe)}fe+=Oe.substring($),He.addText(fe)}function te(){if(Oe==="")return;let $=null;if(typeof oe.subLanguage=="string"){if(!e[oe.subLanguage]){He.addText(Oe);return}$=u(oe.subLanguage,Oe,!0,at[oe.subLanguage]),at[oe.subLanguage]=$._top}else $=p(Oe,oe.subLanguage.length?oe.subLanguage:null);oe.relevance>0&&(Fe+=$.relevance),He.__addSublanguage($._emitter,$.language)}function U(){oe.subLanguage!=null?te():se(),Oe=""}function Se($,V){$!==""&&(He.startScope(V),He.addText($),He.endScope())}function nt($,V){let fe=1;const Pe=V.length-1;for(;fe<=Pe;){if(!$._emit[fe]){fe++;continue}const lt=Ue.classNameAliases[$[fe]]||$[fe],ut=V[fe];lt?Se(ut,lt):(Oe=ut,se(),Oe=""),fe++}}function Ge($,V){return $.scope&&typeof $.scope=="string"&&He.openNode(Ue.classNameAliases[$.scope]||$.scope),$.beginScope&&($.beginScope._wrap?(Se(Oe,Ue.classNameAliases[$.beginScope._wrap]||$.beginScope._wrap),Oe=""):$.beginScope._multi&&(nt($.beginScope,V),Oe="")),oe=Object.create($,{parent:{value:oe}}),oe}function ge($,V,fe){let Pe=ox($.endRe,fe);if(Pe){if($["on:end"]){const lt=new qu($);$["on:end"](V,lt),lt.isMatchIgnored&&(Pe=!1)}if(Pe){for(;$.endsParent&&$.parent;)$=$.parent;return $}}if($.endsWithParent)return ge($.parent,V,fe)}function qe($){return oe.matcher.regexIndex===0?(Oe+=$[0],1):(dt=!0,0)}function pt($){const V=$[0],fe=$.rule,Pe=new qu(fe),lt=[fe.__beforeBegin,fe["on:begin"]];for(const ut of lt)if(ut&&(ut($,Pe),Pe.isMatchIgnored))return qe(V);return fe.skip?Oe+=V:(fe.excludeBegin&&(Oe+=V),U(),!fe.returnBegin&&!fe.excludeBegin&&(Oe=V)),Ge(fe,$),fe.returnBegin?0:V.length}function ne($){const V=$[0],fe=A.substring($.index),Pe=ge(oe,$,fe);if(!Pe)return Qu;const lt=oe;oe.endScope&&oe.endScope._wrap?(U(),Se(V,oe.endScope._wrap)):oe.endScope&&oe.endScope._multi?(U(),nt(oe.endScope,$)):lt.skip?Oe+=V:(lt.returnEnd||lt.excludeEnd||(Oe+=V),U(),lt.excludeEnd&&(Oe=V));do oe.scope&&He.closeNode(),!oe.skip&&!oe.subLanguage&&(Fe+=oe.relevance),oe=oe.parent;while(oe!==Pe.parent);return Pe.starts&&Ge(Pe.starts,$),lt.returnEnd?0:V.length}function xe(){const $=[];for(let V=oe;V!==Ue;V=V.parent)V.scope&&$.unshift(V.scope);$.forEach(V=>He.openNode(V))}let Re={};function Xe($,V){const fe=V&&V[0];if(Oe+=$,fe==null)return U(),0;if(Re.type==="begin"&&V.type==="end"&&Re.index===V.index&&fe===""){if(Oe+=A.slice(V.index,V.index+1),!i){const Pe=new Error(`0 width match regex (${R})`);throw Pe.languageName=R,Pe.badRule=Re.rule,Pe}return 1}if(Re=V,V.type==="begin")return pt(V);if(V.type==="illegal"&&!F){const Pe=new Error('Illegal lexeme "'+fe+'" for mode "'+(oe.scope||"<unnamed>")+'"');throw Pe.mode=oe,Pe}else if(V.type==="end"){const Pe=ne(V);if(Pe!==Qu)return Pe}if(V.type==="illegal"&&fe==="")return 1;if(rt>1e5&&rt>V.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Oe+=fe,fe.length}const Ue=L(R);if(!Ue)throw hi(s.replace("{}",R)),new Error('Unknown language: "'+R+'"');const ot=Fx(Ue);let ht="",oe=Z||ot;const at={},He=new a.__emitter(a);xe();let Oe="",Fe=0,Ne=0,rt=0,dt=!1;try{if(Ue.__emitTokens)Ue.__emitTokens(A,He);else{for(oe.matcher.considerAll();;){rt++,dt?dt=!1:oe.matcher.considerAll(),oe.matcher.lastIndex=Ne;const $=oe.matcher.exec(A);if(!$)break;const V=A.substring(Ne,$.index),fe=Xe(V,$);Ne=$.index+fe}Xe(A.substring(Ne))}return He.finalize(),ht=He.toHTML(),{language:R,value:ht,relevance:Fe,illegal:!1,_emitter:He,_top:oe}}catch($){if($.message&&$.message.includes("Illegal"))return{language:R,value:Sl(A),illegal:!0,relevance:0,_illegalBy:{message:$.message,index:Ne,context:A.slice(Ne-100,Ne+100),mode:$.mode,resultSoFar:ht},_emitter:He};if(i)return{language:R,value:Sl(A),illegal:!1,relevance:0,errorRaised:$,_emitter:He,_top:oe};throw $}}function f(R){const A={value:Sl(R),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return A._emitter.addText(R),A}function p(R,A){A=A||a.languages||Object.keys(e);const F=f(R),Z=A.filter(L).filter(de).map(U=>u(U,R,!1));Z.unshift(F);const ce=Z.sort((U,Se)=>{if(U.relevance!==Se.relevance)return Se.relevance-U.relevance;if(U.language&&Se.language){if(L(U.language).supersetOf===Se.language)return 1;if(L(Se.language).supersetOf===U.language)return-1}return 0}),[_e,se]=ce,te=_e;return te.secondBest=se,te}function h(R,A,F){const Z=A&&t[A]||F;R.classList.add("hljs"),R.classList.add(`language-${Z}`)}function g(R){let A=null;const F=c(R);if(l(F))return;if(ue("before:highlightElement",{el:R,language:F}),R.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",R);return}if(R.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(R)),a.throwUnescapedHTML))throw new Kx("One of your code blocks includes unescaped HTML.",R.innerHTML);A=R;const Z=A.textContent,ce=F?d(Z,{language:F,ignoreIllegals:!0}):p(Z);R.innerHTML=ce.value,R.dataset.highlighted="yes",h(R,F,ce.language),R.result={language:ce.language,re:ce.relevance,relevance:ce.relevance},ce.secondBest&&(R.secondBest={language:ce.secondBest.language,relevance:ce.secondBest.relevance}),ue("after:highlightElement",{el:R,result:ce,text:Z})}function m(R){a=Xu(a,R)}const y=()=>{b(),Ri("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function S(){b(),Ri("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let M=!1;function b(){if(document.readyState==="loading"){M=!0;return}document.querySelectorAll(a.cssSelector).forEach(g)}function C(){M&&b()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",C,!1);function w(R,A){let F=null;try{F=A(n)}catch(Z){if(hi("Language definition for '{}' could not be registered.".replace("{}",R)),i)hi(Z);else throw Z;F=o}F.name||(F.name=R),e[R]=F,F.rawDefinition=A.bind(null,n),F.aliases&&ee(F.aliases,{languageName:R})}function D(R){delete e[R];for(const A of Object.keys(t))t[A]===R&&delete t[A]}function P(){return Object.keys(e)}function L(R){return R=(R||"").toLowerCase(),e[R]||e[t[R]]}function ee(R,{languageName:A}){typeof R=="string"&&(R=[R]),R.forEach(F=>{t[F.toLowerCase()]=A})}function de(R){const A=L(R);return A&&!A.disableAutodetect}function ye(R){R["before:highlightBlock"]&&!R["before:highlightElement"]&&(R["before:highlightElement"]=A=>{R["before:highlightBlock"](Object.assign({block:A.el},A))}),R["after:highlightBlock"]&&!R["after:highlightElement"]&&(R["after:highlightElement"]=A=>{R["after:highlightBlock"](Object.assign({block:A.el},A))})}function ie(R){ye(R),r.push(R)}function le(R){const A=r.indexOf(R);A!==-1&&r.splice(A,1)}function ue(R,A){const F=R;r.forEach(function(Z){Z[F]&&Z[F](A)})}function Me(R){return Ri("10.7.0","highlightBlock will be removed entirely in v12.0"),Ri("10.7.0","Please use highlightElement now."),g(R)}Object.assign(n,{highlight:d,highlightAuto:p,highlightAll:b,highlightElement:g,highlightBlock:Me,configure:m,initHighlighting:y,initHighlightingOnLoad:S,registerLanguage:w,unregisterLanguage:D,listLanguages:P,getLanguage:L,registerAliases:ee,autoDetection:de,inherit:Xu,addPlugin:ie,removePlugin:le}),n.debugMode=function(){i=!1},n.safeMode=function(){i=!0},n.versionString=Hx,n.regex={concat:Si,lookahead:Fh,either:sd,optional:ix,anyNumberOfTimes:rx};for(const R in fo)typeof fo[R]=="object"&&$h(fo[R]);return Object.assign(n,fo),n},Ji=Yh({});Ji.newInstance=()=>Yh({});var Wx=Ji;Ji.HighlightJS=Ji;Ji.default=Ji;var Gx=X1(Wx);function Jh(n,e=[]){return n.map(t=>{const r=[...e,...t.properties?t.properties.className:[]];return t.children?Jh(t.children,r):{text:t.value,classes:r}}).flat()}function ef(n){return n.value||n.children||[]}function qx(n){return!!Gx.getLanguage(n)}function tf({doc:n,name:e,lowlight:t,defaultLanguage:r}){const i=[];return sc(n,s=>s.type.name===e).forEach(s=>{var o;let a=s.pos+1;const l=s.node.attrs.language||r,c=t.listLanguages(),d=l&&(c.includes(l)||qx(l)||!((o=t.registered)===null||o===void 0)&&o.call(t,l))?ef(t.highlight(l,s.node.textContent)):ef(t.highlightAuto(s.node.textContent));Jh(d).forEach(u=>{const f=a+u.text.length;if(u.classes.length){const p=Tn.inline(a,f,{class:u.classes.join(" ")});i.push(p)}a=f})}),Bt.create(n,i)}function jx(n){return typeof n=="function"}function Yx({name:n,lowlight:e,defaultLanguage:t}){if(!["highlight","highlightAuto","listLanguages"].every(i=>jx(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Ht({key:new hn("lowlight"),state:{init:(i,{doc:s})=>tf({doc:s,name:n,lowlight:e,defaultLanguage:t}),apply:(i,s,o,a)=>{const l=o.selection.$head.parent.type.name,c=a.selection.$head.parent.type.name,d=sc(o.doc,f=>f.type.name===n),u=sc(a.doc,f=>f.type.name===n);return i.docChanged&&([l,c].includes(n)||u.length!==d.length||i.steps.some(f=>f.from!==void 0&&f.to!==void 0&&d.some(p=>p.pos>=f.from&&p.pos+p.node.nodeSize<=f.to)))?tf({doc:i.doc,name:n,lowlight:e,defaultLanguage:t}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}const Jx=Bh.extend({addOptions(){var n;return{...(n=this.parent)===null||n===void 0?void 0:n.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},addProseMirrorPlugins(){var n;return[...((n=this.parent)===null||n===void 0?void 0:n.call(this))||[],Yx({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),Zx=or.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",zt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Xx=ln.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",zt(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Qx=/^\s*(\[([( |x])?\])\s$/,eE=ln.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",zt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=()=>{var d,u;a.ariaLabel=((u=(d=this.options.a11y)===null||d===void 0?void 0:d.checkboxLabel)===null||u===void 0?void 0:u.call(d,n,a.checked))||`Task item checkbox for ${n.textContent||"empty task item"}`};return c(),s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",d=>d.preventDefault()),a.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:u}=d.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const p=t();if(typeof p!="number")return!1;const h=f.doc.nodeAt(p);return f.setNodeMarkup(p,void 0,{...h?.attrs,checked:u}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,u)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,u])=>{i.setAttribute(d,u)}),i.dataset.checked=n.attrs.checked,a.checked=n.attrs.checked,s.append(a,o),i.append(s,l),Object.entries(e).forEach(([d,u])=>{i.setAttribute(d,u)}),{dom:i,contentDOM:l,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,a.checked=d.attrs.checked,c(),!0)}}},addInputRules(){return[Yi({find:Qx,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}});function tE(n){const e=n.regex,t=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},t,n.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+n.IDENT_RE,relevance:0},p=e.optional(i)+n.IDENT_RE+"\\s*\\(",h=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],b={type:g,keyword:h,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},C={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,n.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},w=[C,u,a,t,n.C_BLOCK_COMMENT_MODE,d,c],D={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:b,contains:w.concat([{begin:/\(/,end:/\)/,keywords:b,contains:w.concat(["self"]),relevance:0}]),relevance:0},P={className:"function",begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:b,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:b,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[t,n.C_BLOCK_COMMENT_MODE,c,d,a,{begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:["self",t,n.C_BLOCK_COMMENT_MODE,c,d,a]}]},a,t,n.C_BLOCK_COMMENT_MODE,u]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:b,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(D,P,C,w,[u,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:b,contains:["self",a]},{begin:n.IDENT_RE+"::",keywords:b},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function nE(n){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},t=tE(n),r=t.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,t.name="Arduino",t.aliases=["ino"],t.supersetOf="cpp",t}function rE(n){const e=n.regex,t={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[t]}]};Object.assign(t,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[n.BACKSLASH_ESCAPE]},s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[n.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,t,i]};i.contains.push(o);const a={className:"",begin:/\\"/},l={className:"string",begin:/'/,end:/'/},c={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},n.NUMBER_MODE,t]},d=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],u=n.SHEBANG({binary:`(${d.join("|")})`,relevance:10}),f={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[n.inherit(n.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},p=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],h=["true","false"],g={match:/(\/[a-z._-]+)+/},m=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],y=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],S=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],M=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:p,literal:h,built_in:[...m,...y,"set","shopt",...S,...M]},contains:[u,n.SHEBANG(),f,c,n.HASH_COMMENT_MODE,s,g,o,a,l,t]}}function iE(n){const e=n.regex,t=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},t,n.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+n.IDENT_RE,relevance:0},p=e.optional(i)+n.IDENT_RE+"\\s*\\(",m={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[u,a,t,n.C_BLOCK_COMMENT_MODE,d,c],S={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:m,contains:y.concat([{begin:/\(/,end:/\)/,keywords:m,contains:y.concat(["self"]),relevance:0}]),relevance:0},M={begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:m,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:m,relevance:0},{begin:p,returnBegin:!0,contains:[n.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:[t,n.C_BLOCK_COMMENT_MODE,c,d,a,{begin:/\(/,end:/\)/,keywords:m,relevance:0,contains:["self",t,n.C_BLOCK_COMMENT_MODE,c,d,a]}]},a,t,n.C_BLOCK_COMMENT_MODE,u]};return{name:"C",aliases:["h"],keywords:m,disableAutodetect:!0,illegal:"</",contains:[].concat(S,M,y,[u,{begin:n.IDENT_RE+"::",keywords:m},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},n.TITLE_MODE]}]),exports:{preprocessor:u,strings:c,keywords:m}}}function sE(n){const e=n.regex,t=n.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},n.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},t,n.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+n.IDENT_RE,relevance:0},p=e.optional(i)+n.IDENT_RE+"\\s*\\(",h=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],g=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],m=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],b={type:g,keyword:h,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:m},C={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,n.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},w=[C,u,a,t,n.C_BLOCK_COMMENT_MODE,d,c],D={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:b,contains:w.concat([{begin:/\(/,end:/\)/,keywords:b,contains:w.concat(["self"]),relevance:0}]),relevance:0},P={className:"function",begin:"("+o+"[\\*&\\s]+)+"+p,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:b,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:b,relevance:0},{begin:p,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:[t,n.C_BLOCK_COMMENT_MODE,c,d,a,{begin:/\(/,end:/\)/,keywords:b,relevance:0,contains:["self",t,n.C_BLOCK_COMMENT_MODE,c,d,a]}]},a,t,n.C_BLOCK_COMMENT_MODE,u]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:b,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(D,P,C,w,[u,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:b,contains:["self",a]},{begin:n.IDENT_RE+"::",keywords:b},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function oE(n){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],t=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:e,literal:r},a=n.inherit(n.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},d=n.inherit(c,{illegal:/\n/}),u={className:"subst",begin:/\{/,end:/\}/,keywords:o},f=n.inherit(u,{illegal:/\n/}),p={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},n.BACKSLASH_ESCAPE,f]},h={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},u]},g=n.inherit(h,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]});u.contains=[h,p,c,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,l,n.C_BLOCK_COMMENT_MODE],f.contains=[g,p,d,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,l,n.inherit(n.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const m={variants:[h,p,c,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},y={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},S=n.IDENT_RE+"(<"+n.IDENT_RE+"(\\s*,\\s*"+n.IDENT_RE+")*>)?(\\[\\])?",M={begin:"@"+n.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[n.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},m,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,y,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,y,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+S+"\\s+)+"+n.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:t.join(" "),relevance:0},{begin:n.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[n.TITLE_MODE,y],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[m,l,n.C_BLOCK_COMMENT_MODE]},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},M]}}const aE=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),lE=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],cE=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],dE=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],uE=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],fE=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function pE(n){const e=n.regex,t=aE(n),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[t.BLOCK_COMMENT,r,t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+dE.join("|")+")"},{begin:":(:)?("+uE.join("|")+")"}]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+fE.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[t.BLOCK_COMMENT,t.HEXCOLOR,t.IMPORTANT,t.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},t.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:cE.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+lE.join("|")+")\\b"}]}}function hE(n){const e=n.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function gE(n){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{className:"string",variants:[n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:n.C_NUMBER_RE+"[i]",relevance:1},n.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[n.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function mE(n){const e=n.regex,t=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[n.HASH_COMMENT_MODE,n.QUOTE_STRING_MODE,n.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(t,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function bE(n){const e=n.regex,t={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:n.NUMBER_RE}]},r=n.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[r,s,i,o,t,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,d=/'[^']*'/,u=e.either(l,c,d),f=e.concat(u,"(\\s*\\.\\s*",u,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[r,a,s,i,o,t]}}]}}var Bi="[0-9](_*[0-9])*",po=`\\.(${Bi})`,ho="[0-9a-fA-F](_*[0-9a-fA-F])*",nf={className:"number",variants:[{begin:`(\\b(${Bi})((${po})|\\.)?|(${po}))[eE][+-]?(${Bi})[fFdD]?\\b`},{begin:`\\b(${Bi})((${po})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${po})[fFdD]?\\b`},{begin:`\\b(${Bi})[fFdD]\\b`},{begin:`\\b0[xX]((${ho})\\.?|(${ho})?\\.(${ho}))[pP][+-]?(${Bi})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${ho})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Zh(n,e,t){return t===-1?"":n.replace(e,r=>Zh(n,e,t-1))}function yE(n){const e=n.regex,t="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",r=t+Zh("(?:<"+t+"~~~(?:\\s*,\\s*"+t+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+t,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[n.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[n.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[n.BACKSLASH_ESCAPE]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,t],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,t),/\s+/,t,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,t],className:{1:"keyword",3:"title.class"},contains:[d,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",n.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,nf,n.C_BLOCK_COMMENT_MODE]},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},nf,c]}}const rf="[A-Za-z$_][0-9A-Za-z$_]*",vE=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],_E=["true","false","null","undefined","NaN","Infinity"],Xh=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Qh=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],eg=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],xE=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],EE=[].concat(eg,Xh,Qh);function kE(n){const e=n.regex,t=(A,{after:F})=>{const Z="</"+A[0].slice(1);return A.input.indexOf(Z,F)!==-1},r=rf,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(A,F)=>{const Z=A[0].length+A.index,ce=A.input[Z];if(ce==="<"||ce===","){F.ignoreMatch();return}ce===">"&&(t(A,{after:Z})||F.ignoreMatch());let _e;const se=A.input.substring(Z);if(_e=se.match(/^\s*=/)){F.ignoreMatch();return}if((_e=se.match(/^\s+extends\s+/))&&_e.index===0){F.ignoreMatch();return}}},a={$pattern:rf,keyword:vE,literal:_E,built_in:EE,"variable.language":xE},l="[0-9](_?[0-9])*",c=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${d})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},p={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},h={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE,f]},S={className:"comment",variants:[n.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),n.C_BLOCK_COMMENT_MODE,n.C_LINE_COMMENT_MODE]},M=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,p,h,g,m,{match:/\$\d+/},u];f.contains=M.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(M)});const b=[].concat(S,f.contains),C=b.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(b)}]),w={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:C},D={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},P={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Xh,...Qh]}},L={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},ee={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/},de={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ye(A){return e.concat("(?!",A.join("|"),")")}const ie={match:e.concat(/\b/,ye([...eg,"super","import"]),r,e.lookahead(/\(/)),className:"title.function",relevance:0},le={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ue={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},Me="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+n.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(Me)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:P},illegal:/#(?![$_A-z])/,contains:[n.SHEBANG({label:"shebang",binary:"node",relevance:5}),L,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,p,h,g,m,S,{match:/\$\d+/},u,P,{className:"attr",begin:r+e.lookahead(":"),relevance:0},R,{begin:"("+n.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[S,n.REGEXP_MODE,{className:"function",begin:Me,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:n.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},ee,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+n.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,n.inherit(n.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},le,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},ie,de,D,ue,{match:/\$[(.]/}]}}function wE(n){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},t={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",keywords:{literal:r},contains:[e,t,n.QUOTE_STRING_MODE,i,n.C_NUMBER_MODE,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var $i="[0-9](_*[0-9])*",go=`\\.(${$i})`,mo="[0-9a-fA-F](_*[0-9a-fA-F])*",SE={className:"number",variants:[{begin:`(\\b(${$i})((${go})|\\.)?|(${go}))[eE][+-]?(${$i})[fFdD]?\\b`},{begin:`\\b(${$i})((${go})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${go})[fFdD]?\\b`},{begin:`\\b(${$i})[fFdD]\\b`},{begin:`\\b0[xX]((${mo})\\.?|(${mo})?\\.(${mo}))[pP][+-]?(${$i})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${mo})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function NE(n){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},t={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:n.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[n.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+n.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[n.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[n.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);const a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+n.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+n.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[n.inherit(o,{className:"string"}),"self"]}]},c=SE,d=n.COMMENT("/\\*","\\*/",{contains:[n.C_BLOCK_COMMENT_MODE]}),u={variants:[{className:"type",begin:n.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=u;return f.variants[1].contains=[u],u.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[n.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),n.C_LINE_COMMENT_MODE,d,t,r,a,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:n.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[n.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[u,n.C_LINE_COMMENT_MODE,d],relevance:0},n.C_LINE_COMMENT_MODE,d,a,l,o,n.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,n.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},n.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const TE=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),ME=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],OE=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],tg=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],ng=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],CE=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),AE=tg.concat(ng);function RE(n){const e=TE(n),t=AE,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],a=[],l=function(M){return{className:"string",begin:"~?"+M+".*?"+M}},c=function(M,b,C){return{className:M,begin:b,relevance:C}},d={$pattern:/[a-z-]+/,keyword:r,attribute:OE.join(" ")},u={begin:"\\(",end:"\\)",contains:a,keywords:d,relevance:0};a.push(n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,l("'"),l('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,u,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const f=a.concat({begin:/\{/,end:/\}/,contains:o}),p={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},h={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+CE.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:a,relevance:0}},m={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:f}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,p,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+ME.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+tg.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+ng.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},e.FUNCTION_DISPATCH]},S={begin:i+`:(:)?(${t.join("|")})`,returnBegin:!0,contains:[y]};return o.push(n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,g,m,S,h,y,p,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function IE(n){const e="\\[=*\\[",t="\\]=*\\]",r={begin:e,end:t,contains:["self"]},i=[n.COMMENT("--(?!"+e+")","$"),n.COMMENT("--"+e,t,{contains:[r],relevance:10})];return{name:"Lua",keywords:{$pattern:n.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[n.inherit(n.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},n.C_NUMBER_MODE,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,{className:"string",begin:e,end:t,contains:[r],relevance:5}])}}function DE(n){const e={className:"variable",variants:[{begin:"\\$\\("+n.UNDERSCORE_IDENT_RE+"\\)",contains:[n.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},t={className:"string",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e]},i={begin:"^"+n.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[n.HASH_COMMENT_MODE,e,t,r,i,s,o]}}function LE(n){const e=n.regex,t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},u=n.inherit(c,{contains:[]}),f=n.inherit(d,{contains:[]});c.contains.push(f),d.contains.push(u);let p=[t,l];return[c,d,u,f].forEach(m=>{m.contains=m.contains.concat(p)}),p=p.concat(c,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:p},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:p}]}]},t,s,c,d,{className:"quote",begin:"^>\\s+",contains:p,end:"$"},i,r,l,o]}}function PE(n){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},t=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:t,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:t,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[e,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,n.C_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[n.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},n.inherit(n.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[n.UNDERSCORE_TITLE_MODE]},{begin:"\\."+n.UNDERSCORE_IDENT_RE,relevance:0}]}}function BE(n){const e=n.regex,t=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:t.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},a={variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},l=[n.BACKSLASH_ESCAPE,s,a],c=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],d=(p,h,g="\\1")=>{const m=g==="\\1"?g:e.concat(g,h);return e.concat(e.concat("(?:",p,")"),h,/(?:\\.|[^\\\/])*?/,m,/(?:\\.|[^\\\/])*?/,g,r)},u=(p,h,g)=>e.concat(e.concat("(?:",p,")"),h,/(?:\\.|[^\\\/])*?/,g,r),f=[a,n.HASH_COMMENT_MODE,n.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:l,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[n.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+n.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[n.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:d("s|tr|y",e.either(...c,{capture:!0}))},{begin:d("s|tr|y","\\(","\\)")},{begin:d("s|tr|y","\\[","\\]")},{begin:d("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:u("(?:m|qr)?",/\//,/\//)},{begin:u("m|qr",e.either(...c,{capture:!0}),/\1/)},{begin:u("m|qr",/\(/,/\)/)},{begin:u("m|qr",/\[/,/\]/)},{begin:u("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[n.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=f,o.contains=f,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:f}}function $E(n){const e=n.regex,t=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,t),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,t),s={scope:"variable",match:"\\$+"+r},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},a={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},l=n.inherit(n.APOS_STRING_MODE,{illegal:null}),c=n.inherit(n.QUOTE_STRING_MODE,{illegal:null,contains:n.QUOTE_STRING_MODE.contains.concat(a)}),d={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:n.QUOTE_STRING_MODE.contains.concat(a),"on:begin":(ie,le)=>{le.data._beginMatch=ie[1]||ie[2]},"on:end":(ie,le)=>{le.data._beginMatch!==ie[1]&&le.ignoreMatch()}},u=n.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),f=`[ 	
]`,p={scope:"string",variants:[c,l,d,u]},h={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},g=["false","null","true"],m=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],y=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],M={keyword:m,literal:(ie=>{const le=[];return ie.forEach(ue=>{le.push(ue),ue.toLowerCase()===ue?le.push(ue.toUpperCase()):le.push(ue.toLowerCase())}),le})(g),built_in:y},b=ie=>ie.map(le=>le.replace(/\|\d+$/,"")),C={variants:[{match:[/new/,e.concat(f,"+"),e.concat("(?!",b(y).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},w=e.concat(r,"\\b(?!\\()"),D={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),w],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),w],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},P={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},L={relevance:0,begin:/\(/,end:/\)/,keywords:M,contains:[P,s,D,n.C_BLOCK_COMMENT_MODE,p,h,C]},ee={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",b(m).join("\\b|"),"|",b(y).join("\\b|"),"\\b)"),r,e.concat(f,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[L]};L.contains.push(ee);const de=[P,D,n.C_BLOCK_COMMENT_MODE,p,h,C],ye={begin:e.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:g,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:g,keyword:["new","array"]},contains:["self",...de]},...de,{scope:"meta",match:i}]};return{case_insensitive:!1,keywords:M,contains:[ye,n.HASH_COMMENT_MODE,n.COMMENT("//","$"),n.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:n.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},s,ee,D,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},C,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},n.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:M,contains:["self",s,D,n.C_BLOCK_COMMENT_MODE,p,h]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},n.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[n.inherit(n.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},n.UNDERSCORE_TITLE_MODE]},p,h]}}function zE(n){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},n.inherit(n.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),n.inherit(n.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function FE(n){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function UE(n){const e=n.regex,t=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},d={begin:/\{\{/,relevance:0},u={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,l,d,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,l,d,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[n.BACKSLASH_ESCAPE,d,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,d,c]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",p=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,h=`\\b|${r.join("|")}`,g={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${p}))[eE][+-]?(${f})[jJ]?(?=${h})`},{begin:`(${p})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${h})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${h})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${h})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${h})`},{begin:`\\b(${f})[jJ](?=${h})`}]},m={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,g,u,n.HASH_COMMENT_MODE]}]};return c.contains=[u,g,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,g,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},u,m,n.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,t,/\s*/,/\(\s*/,t,/\s*\)/]},{match:[/\bclass/,/\s+/,t]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[g,y,u]}]}}function HE(n){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function KE(n){const e=n.regex,t=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:t,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[n.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:t},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),n.HASH_COMMENT_MODE,{scope:"string",contains:[n.BACKSLASH_ESCAPE],variants:[n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),n.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[t,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function VE(n){const e=n.regex,t="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[n.COMMENT("#","$",{contains:[a]}),n.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),n.COMMENT("^__END__",n.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:o},u={className:"string",contains:[n.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[n.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[n.BACKSLASH_ESCAPE,d]})]}]},f="[1-9](_?[0-9])*|0",p="[0-9](_?[0-9])*",h={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${p}))?([eE][+-]?(${p})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},g={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},w=[u,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[g]},{begin:n.IDENT_RE+"::"},{className:"symbol",begin:n.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[u,{begin:t}],relevance:0},h,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+n.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[n.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);d.contains=w,g.contains=w;const ee=[{begin:/^\s*=>/,starts:{end:"$",contains:w}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:w}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[n.SHEBANG({binary:"ruby"})].concat(ee).concat(c).concat(w)}}function WE(n){const e=n.regex,t={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let\b)/,n.IDENT_RE,e.lookahead(/\s*\(/))},r="([ui](8|16|32|64|128|size)|f(32|64))?",i=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],s=["true","false","Some","None","Ok","Err"],o=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],a=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:n.IDENT_RE+"!?",type:a,keyword:i,literal:s,built_in:o},illegal:"</",contains:[n.C_LINE_COMMENT_MODE,n.COMMENT("/\\*","\\*/",{contains:["self"]}),n.inherit(n.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+r},{begin:"\\b0o([0-7_]+)"+r},{begin:"\\b0x([A-Fa-f0-9_]+)"+r},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+r}],relevance:0},{begin:[/fn/,/\s+/,n.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,n.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,n.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,n.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,n.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:n.IDENT_RE+"::",keywords:{keyword:"Self",built_in:o,type:a}},{className:"punctuation",begin:"->"},t]}}const GE=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),qE=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],jE=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],YE=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],JE=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],ZE=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function XE(n){const e=GE(n),t=JE,r=YE,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+qE.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+t.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ZE.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,a,e.HEXCOLOR,e.CSS_NUMBER_MODE,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:jE.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,n.QUOTE_STRING_MODE,n.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function QE(n){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function ek(n){const e=n.regex,t=n.COMMENT("--","$"),r={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},i={begin:/"/,end:/"/,contains:[{begin:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],u=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],p=d,h=[...c,...l].filter(M=>!d.includes(M)),g={className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},m={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={begin:e.concat(/\b/,e.either(...p),/\s*\(/),relevance:0,keywords:{built_in:p}};function S(M,{exceptions:b,when:C}={}){const w=C;return b=b||[],M.map(D=>D.match(/\|\d+$/)||b.includes(D)?D:w(D)?`${D}|0`:D)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:S(h,{when:M=>M.length<3}),literal:s,type:a,built_in:u},contains:[{begin:e.either(...f),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:h.concat(f),literal:s,type:a}},{className:"type",begin:e.either(...o)},y,g,r,i,n.C_NUMBER_MODE,n.C_BLOCK_COMMENT_MODE,t,m]}}function rg(n){return n?typeof n=="string"?n:n.source:null}function bo(n){return Ot("(?=",n,")")}function Ot(...n){return n.map(t=>rg(t)).join("")}function tk(n){const e=n[n.length-1];return typeof e=="object"&&e.constructor===Object?(n.splice(n.length-1,1),e):{}}function wn(...n){return"("+(tk(n).capture?"":"?:")+n.map(r=>rg(r)).join("|")+")"}const ld=n=>Ot(/\b/,n,/\w$/.test(n)?/\b/:/\B/),nk=["Protocol","Type"].map(ld),sf=["init","self"].map(ld),rk=["Any","Self"],Nl=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","distributed","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],of=["false","nil","true"],ik=["assignment","associativity","higherThan","left","lowerThan","none","right"],sk=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],af=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],ig=wn(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),sg=wn(ig,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Tl=Ot(ig,sg,"*"),og=wn(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),_a=wn(og,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),xr=Ot(og,_a,"*"),Ml=Ot(/[A-Z]/,_a,"*"),ok=["autoclosure",Ot(/convention\(/,wn("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Ot(/objc\(/,xr,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],ak=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function lk(n){const e={match:/\s+/,relevance:0},t=n.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[n.C_LINE_COMMENT_MODE,t],i={match:[/\./,wn(...nk,...sf)],className:{2:"keyword"}},s={match:Ot(/\./,wn(...Nl)),relevance:0},o=Nl.filter(ge=>typeof ge=="string").concat(["_|0"]),a=Nl.filter(ge=>typeof ge!="string").concat(rk).map(ld),l={variants:[{className:"keyword",match:wn(...a,...sf)}]},c={$pattern:wn(/\b\w+/,/#\w+/),keyword:o.concat(sk),literal:of},d=[i,s,l],u={match:Ot(/\./,wn(...af)),relevance:0},f={className:"built_in",match:Ot(/\b/,wn(...af),/(?=\()/)},p=[u,f],h={match:/->/,relevance:0},g={className:"operator",relevance:0,variants:[{match:Tl},{match:`\\.(\\.|${sg})+`}]},m=[h,g],y="([0-9]_*)+",S="([0-9a-fA-F]_*)+",M={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${S})(\\.(${S}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},b=(ge="")=>({className:"subst",variants:[{match:Ot(/\\/,ge,/[0\\tnr"']/)},{match:Ot(/\\/,ge,/u\{[0-9a-fA-F]{1,8}\}/)}]}),C=(ge="")=>({className:"subst",match:Ot(/\\/,ge,/[\t ]*(?:[\r\n]|\r\n)/)}),w=(ge="")=>({className:"subst",label:"interpol",begin:Ot(/\\/,ge,/\(/),end:/\)/}),D=(ge="")=>({begin:Ot(ge,/"""/),end:Ot(/"""/,ge),contains:[b(ge),C(ge),w(ge)]}),P=(ge="")=>({begin:Ot(ge,/"/),end:Ot(/"/,ge),contains:[b(ge),w(ge)]}),L={className:"string",variants:[D(),D("#"),D("##"),D("###"),P(),P("#"),P("##"),P("###")]},ee={match:Ot(/`/,xr,/`/)},de={className:"variable",match:/\$\d+/},ye={className:"variable",match:`\\$${_a}+`},ie=[ee,de,ye],le={match:/(@|#(un)?)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:ak,contains:[...m,M,L]}]}},ue={className:"keyword",match:Ot(/@/,wn(...ok))},Me={className:"meta",match:Ot(/@/,xr)},R=[le,ue,Me],A={match:bo(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Ot(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,_a,"+")},{className:"type",match:Ml,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Ot(/\s+&\s+/,bo(Ml)),relevance:0}]},F={begin:/</,end:/>/,keywords:c,contains:[...r,...d,...R,h,A]};A.contains.push(F);const Z={match:Ot(xr,/\s*:/),keywords:"_|0",relevance:0},ce={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",Z,...r,...d,...p,...m,M,L,...ie,...R,A]},_e={begin:/</,end:/>/,contains:[...r,A]},se={begin:wn(bo(Ot(xr,/\s*:/)),bo(Ot(xr,/\s+/,xr,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:xr}]},te={begin:/\(/,end:/\)/,keywords:c,contains:[se,...r,...d,...m,M,L,...R,A,ce],endsParent:!0,illegal:/["']/},U={match:[/func/,/\s+/,wn(ee.match,xr,Tl)],className:{1:"keyword",3:"title.function"},contains:[_e,te,e],illegal:[/\[/,/%/]},Se={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[_e,te,e],illegal:/\[|%/},nt={match:[/operator/,/\s+/,Tl],className:{1:"keyword",3:"title"}},Ge={begin:[/precedencegroup/,/\s+/,Ml],className:{1:"keyword",3:"title"},contains:[A],keywords:[...ik,...of],end:/}/};for(const ge of L.variants){const qe=ge.contains.find(ne=>ne.label==="interpol");qe.keywords=c;const pt=[...d,...p,...m,M,L,...ie];qe.contains=[...pt,{begin:/\(/,end:/\)/,contains:["self",...pt]}]}return{name:"Swift",keywords:c,contains:[...r,U,Se,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:c,contains:[n.inherit(n.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...d]},nt,Ge,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},...d,...p,...m,M,L,...ie,...R,A,ce]}}const xa="[A-Za-z$_][0-9A-Za-z$_]*",ag=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],lg=["true","false","null","undefined","NaN","Infinity"],cg=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],dg=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],ug=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],fg=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],pg=[].concat(ug,cg,dg);function ck(n){const e=n.regex,t=(A,{after:F})=>{const Z="</"+A[0].slice(1);return A.input.indexOf(Z,F)!==-1},r=xa,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(A,F)=>{const Z=A[0].length+A.index,ce=A.input[Z];if(ce==="<"||ce===","){F.ignoreMatch();return}ce===">"&&(t(A,{after:Z})||F.ignoreMatch());let _e;const se=A.input.substring(Z);if(_e=se.match(/^\s*=/)){F.ignoreMatch();return}if((_e=se.match(/^\s+extends\s+/))&&_e.index===0){F.ignoreMatch();return}}},a={$pattern:xa,keyword:ag,literal:lg,built_in:pg,"variable.language":fg},l="[0-9](_?[0-9])*",c=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${d})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},p={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},h={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,f],subLanguage:"css"}},g={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE,f]},S={className:"comment",variants:[n.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),n.C_BLOCK_COMMENT_MODE,n.C_LINE_COMMENT_MODE]},M=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,p,h,g,m,{match:/\$\d+/},u];f.contains=M.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(M)});const b=[].concat(S,f.contains),C=b.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(b)}]),w={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:C},D={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},P={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...cg,...dg]}},L={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},ee={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/},de={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ye(A){return e.concat("(?!",A.join("|"),")")}const ie={match:e.concat(/\b/,ye([...ug,"super","import"]),r,e.lookahead(/\(/)),className:"title.function",relevance:0},le={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ue={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},Me="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+n.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(Me)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:P},illegal:/#(?![$_A-z])/,contains:[n.SHEBANG({label:"shebang",binary:"node",relevance:5}),L,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,p,h,g,m,S,{match:/\$\d+/},u,P,{className:"attr",begin:r+e.lookahead(":"),relevance:0},R,{begin:"("+n.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[S,n.REGEXP_MODE,{className:"function",begin:Me,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:n.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},ee,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+n.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,n.inherit(n.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},le,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},ie,de,D,ue,{match:/\$[(.]/}]}}function dk(n){const e=ck(n),t=xa,r=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[e.exports.CLASS_REFERENCE]},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:r},contains:[e.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},a=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],l={$pattern:xa,keyword:ag.concat(a),literal:lg,built_in:pg.concat(r),"variable.language":fg},c={className:"meta",begin:"@"+t},d=(f,p,h)=>{const g=f.contains.findIndex(m=>m.label===p);if(g===-1)throw new Error("can not find mode to replace");f.contains.splice(g,1,h)};Object.assign(e.keywords,l),e.exports.PARAMS_CONTAINS.push(c),e.contains=e.contains.concat([c,i,s]),d(e,"shebang",n.SHEBANG()),d(e,"use_strict",o);const u=e.contains.find(f=>f.label==="func.def");return u.relevance=0,Object.assign(e,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),e}function uk(n){const e=n.regex,t={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(o,a),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},u=n.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=n.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[t,r,l,c,d,u,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function fk(n){n.regex;const e=n.COMMENT(/\(;/,/;\)/);e.contains.push("self");const t=n.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[t,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,n.QUOTE_STRING_MODE,l,c,a]}}function pk(n){const e=n.regex,t=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=n.inherit(s,{begin:/\(/,end:/\)/}),a=n.inherit(n.APOS_STRING_MODE,{className:"string"}),l=n.inherit(n.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},n.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(t,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(t,/>/))),contains:[{className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function hk(n){const e="true false yes no null",t="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[n.BACKSLASH_ESCAPE,i]},o=n.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),u={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},f={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},p={begin:/\{/,end:/\}/,contains:[f],illegal:"\\n",relevance:0},h={begin:"\\[",end:"\\]",contains:[f],illegal:"\\n",relevance:0},g=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+t},{className:"type",begin:"!<"+t+">"},{className:"type",begin:"!"+t},{className:"type",begin:"!!"+t},{className:"meta",begin:"&"+n.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+n.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},n.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},u,{className:"number",begin:n.C_NUMBER_RE+"\\b",relevance:0},p,h,s],m=[...g];return m.pop(),m.push(o),f.contains=m,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:g}}var Ol,lf;function gk(){if(lf)return Ol;lf=1;function n(x){return x instanceof Map?x.clear=x.delete=x.set=function(){throw new Error("map is read-only")}:x instanceof Set&&(x.add=x.clear=x.delete=function(){throw new Error("set is read-only")}),Object.freeze(x),Object.getOwnPropertyNames(x).forEach(T=>{const B=x[T],be=typeof B;(be==="object"||be==="function")&&!Object.isFrozen(B)&&n(B)}),x}class e{constructor(T){T.data===void 0&&(T.data={}),this.data=T.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function t(x){return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(x,...T){const B=Object.create(null);for(const be in x)B[be]=x[be];return T.forEach(function(be){for(const Ye in be)B[Ye]=be[Ye]}),B}const i="</span>",s=x=>!!x.scope,o=(x,{prefix:T})=>{if(x.startsWith("language:"))return x.replace("language:","language-");if(x.includes(".")){const B=x.split(".");return[`${T}${B.shift()}`,...B.map((be,Ye)=>`${be}${"_".repeat(Ye+1)}`)].join(" ")}return`${T}${x}`};class a{constructor(T,B){this.buffer="",this.classPrefix=B.classPrefix,T.walk(this)}addText(T){this.buffer+=t(T)}openNode(T){if(!s(T))return;const B=o(T.scope,{prefix:this.classPrefix});this.span(B)}closeNode(T){s(T)&&(this.buffer+=i)}value(){return this.buffer}span(T){this.buffer+=`<span class="${T}">`}}const l=(x={})=>{const T={children:[]};return Object.assign(T,x),T};class c{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(T){this.top.children.push(T)}openNode(T){const B=l({scope:T});this.add(B),this.stack.push(B)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(T){return this.constructor._walk(T,this.rootNode)}static _walk(T,B){return typeof B=="string"?T.addText(B):B.children&&(T.openNode(B),B.children.forEach(be=>this._walk(T,be)),T.closeNode(B)),T}static _collapse(T){typeof T!="string"&&T.children&&(T.children.every(B=>typeof B=="string")?T.children=[T.children.join("")]:T.children.forEach(B=>{c._collapse(B)}))}}class d extends c{constructor(T){super(),this.options=T}addText(T){T!==""&&this.add(T)}startScope(T){this.openNode(T)}endScope(){this.closeNode()}__addSublanguage(T,B){const be=T.root;B&&(be.scope=`language:${B}`),this.add(be)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function u(x){return x?typeof x=="string"?x:x.source:null}function f(x){return g("(?=",x,")")}function p(x){return g("(?:",x,")*")}function h(x){return g("(?:",x,")?")}function g(...x){return x.map(B=>u(B)).join("")}function m(x){const T=x[x.length-1];return typeof T=="object"&&T.constructor===Object?(x.splice(x.length-1,1),T):{}}function y(...x){return"("+(m(x).capture?"":"?:")+x.map(be=>u(be)).join("|")+")"}function S(x){return new RegExp(x.toString()+"|").exec("").length-1}function M(x,T){const B=x&&x.exec(T);return B&&B.index===0}const b=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function C(x,{joinWith:T}){let B=0;return x.map(be=>{B+=1;const Ye=B;let Be=u(be),q="";for(;Be.length>0;){const Y=b.exec(Be);if(!Y){q+=Be;break}q+=Be.substring(0,Y.index),Be=Be.substring(Y.index+Y[0].length),Y[0][0]==="\\"&&Y[1]?q+="\\"+String(Number(Y[1])+Ye):(q+=Y[0],Y[0]==="("&&B++)}return q}).map(be=>`(${be})`).join(T)}const w=/\b\B/,D="[a-zA-Z]\\w*",P="[a-zA-Z_]\\w*",L="\\b\\d+(\\.\\d+)?",ee="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",de="\\b(0b[01]+)",ye="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ie=(x={})=>{const T=/^#![ ]*\//;return x.binary&&(x.begin=g(T,/.*\b/,x.binary,/\b.*/)),r({scope:"meta",begin:T,end:/$/,relevance:0,"on:begin":(B,be)=>{B.index!==0&&be.ignoreMatch()}},x)},le={begin:"\\\\[\\s\\S]",relevance:0},ue={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[le]},Me={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[le]},R={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},A=function(x,T,B={}){const be=r({scope:"comment",begin:x,end:T,contains:[]},B);be.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Ye=y("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return be.contains.push({begin:g(/[ ]+/,"(",Ye,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),be},F=A("//","$"),Z=A("/\\*","\\*/"),ce=A("#","$"),_e={scope:"number",begin:L,relevance:0},se={scope:"number",begin:ee,relevance:0},te={scope:"number",begin:de,relevance:0},U={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[le,{begin:/\[/,end:/\]/,relevance:0,contains:[le]}]}]},Se={scope:"title",begin:D,relevance:0},nt={scope:"title",begin:P,relevance:0},Ge={begin:"\\.\\s*"+P,relevance:0};var qe=Object.freeze({__proto__:null,MATCH_NOTHING_RE:w,IDENT_RE:D,UNDERSCORE_IDENT_RE:P,NUMBER_RE:L,C_NUMBER_RE:ee,BINARY_NUMBER_RE:de,RE_STARTERS_RE:ye,SHEBANG:ie,BACKSLASH_ESCAPE:le,APOS_STRING_MODE:ue,QUOTE_STRING_MODE:Me,PHRASAL_WORDS_MODE:R,COMMENT:A,C_LINE_COMMENT_MODE:F,C_BLOCK_COMMENT_MODE:Z,HASH_COMMENT_MODE:ce,NUMBER_MODE:_e,C_NUMBER_MODE:se,BINARY_NUMBER_MODE:te,REGEXP_MODE:U,TITLE_MODE:Se,UNDERSCORE_TITLE_MODE:nt,METHOD_GUARD:Ge,END_SAME_AS_BEGIN:function(x){return Object.assign(x,{"on:begin":(T,B)=>{B.data._beginMatch=T[1]},"on:end":(T,B)=>{B.data._beginMatch!==T[1]&&B.ignoreMatch()}})}});function pt(x,T){x.input[x.index-1]==="."&&T.ignoreMatch()}function ne(x,T){x.className!==void 0&&(x.scope=x.className,delete x.className)}function xe(x,T){T&&x.beginKeywords&&(x.begin="\\b("+x.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",x.__beforeBegin=pt,x.keywords=x.keywords||x.beginKeywords,delete x.beginKeywords,x.relevance===void 0&&(x.relevance=0))}function Re(x,T){Array.isArray(x.illegal)&&(x.illegal=y(...x.illegal))}function Xe(x,T){if(x.match){if(x.begin||x.end)throw new Error("begin & end are not supported with match");x.begin=x.match,delete x.match}}function Ue(x,T){x.relevance===void 0&&(x.relevance=1)}const ot=(x,T)=>{if(!x.beforeMatch)return;if(x.starts)throw new Error("beforeMatch cannot be used with starts");const B=Object.assign({},x);Object.keys(x).forEach(be=>{delete x[be]}),x.keywords=B.keywords,x.begin=g(B.beforeMatch,f(B.begin)),x.starts={relevance:0,contains:[Object.assign(B,{endsParent:!0})]},x.relevance=0,delete B.beforeMatch},ht=["of","and","for","in","not","or","if","then","parent","list","value"],oe="keyword";function at(x,T,B=oe){const be=Object.create(null);return typeof x=="string"?Ye(B,x.split(" ")):Array.isArray(x)?Ye(B,x):Object.keys(x).forEach(function(Be){Object.assign(be,at(x[Be],T,Be))}),be;function Ye(Be,q){T&&(q=q.map(Y=>Y.toLowerCase())),q.forEach(function(Y){const ve=Y.split("|");be[ve[0]]=[Be,He(ve[0],ve[1])]})}}function He(x,T){return T?Number(T):Oe(x)?0:1}function Oe(x){return ht.includes(x.toLowerCase())}const Fe={},Ne=x=>{console.error(x)},rt=(x,...T)=>{console.log(`WARN: ${x}`,...T)},dt=(x,T)=>{Fe[`${x}/${T}`]||(console.log(`Deprecated as of ${x}. ${T}`),Fe[`${x}/${T}`]=!0)},$=new Error;function V(x,T,{key:B}){let be=0;const Ye=x[B],Be={},q={};for(let Y=1;Y<=T.length;Y++)q[Y+be]=Ye[Y],Be[Y+be]=!0,be+=S(T[Y-1]);x[B]=q,x[B]._emit=Be,x[B]._multi=!0}function fe(x){if(Array.isArray(x.begin)){if(x.skip||x.excludeBegin||x.returnBegin)throw Ne("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),$;if(typeof x.beginScope!="object"||x.beginScope===null)throw Ne("beginScope must be object"),$;V(x,x.begin,{key:"beginScope"}),x.begin=C(x.begin,{joinWith:""})}}function Pe(x){if(Array.isArray(x.end)){if(x.skip||x.excludeEnd||x.returnEnd)throw Ne("skip, excludeEnd, returnEnd not compatible with endScope: {}"),$;if(typeof x.endScope!="object"||x.endScope===null)throw Ne("endScope must be object"),$;V(x,x.end,{key:"endScope"}),x.end=C(x.end,{joinWith:""})}}function lt(x){x.scope&&typeof x.scope=="object"&&x.scope!==null&&(x.beginScope=x.scope,delete x.scope)}function ut(x){lt(x),typeof x.beginScope=="string"&&(x.beginScope={_wrap:x.beginScope}),typeof x.endScope=="string"&&(x.endScope={_wrap:x.endScope}),fe(x),Pe(x)}function At(x){function T(q,Y){return new RegExp(u(q),"m"+(x.case_insensitive?"i":"")+(x.unicodeRegex?"u":"")+(Y?"g":""))}class B{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(Y,ve){ve.position=this.position++,this.matchIndexes[this.matchAt]=ve,this.regexes.push([ve,Y]),this.matchAt+=S(Y)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const Y=this.regexes.map(ve=>ve[1]);this.matcherRe=T(C(Y,{joinWith:"|"}),!0),this.lastIndex=0}exec(Y){this.matcherRe.lastIndex=this.lastIndex;const ve=this.matcherRe.exec(Y);if(!ve)return null;const xt=ve.findIndex((Kt,gn)=>gn>0&&Kt!==void 0),_t=this.matchIndexes[xt];return ve.splice(0,xt),Object.assign(ve,_t)}}class be{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(Y){if(this.multiRegexes[Y])return this.multiRegexes[Y];const ve=new B;return this.rules.slice(Y).forEach(([xt,_t])=>ve.addRule(xt,_t)),ve.compile(),this.multiRegexes[Y]=ve,ve}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(Y,ve){this.rules.push([Y,ve]),ve.type==="begin"&&this.count++}exec(Y){const ve=this.getMatcher(this.regexIndex);ve.lastIndex=this.lastIndex;let xt=ve.exec(Y);if(this.resumingScanAtSamePosition()&&!(xt&&xt.index===this.lastIndex)){const _t=this.getMatcher(0);_t.lastIndex=this.lastIndex+1,xt=_t.exec(Y)}return xt&&(this.regexIndex+=xt.position+1,this.regexIndex===this.count&&this.considerAll()),xt}}function Ye(q){const Y=new be;return q.contains.forEach(ve=>Y.addRule(ve.begin,{rule:ve,type:"begin"})),q.terminatorEnd&&Y.addRule(q.terminatorEnd,{type:"end"}),q.illegal&&Y.addRule(q.illegal,{type:"illegal"}),Y}function Be(q,Y){const ve=q;if(q.isCompiled)return ve;[ne,Xe,ut,ot].forEach(_t=>_t(q,Y)),x.compilerExtensions.forEach(_t=>_t(q,Y)),q.__beforeBegin=null,[xe,Re,Ue].forEach(_t=>_t(q,Y)),q.isCompiled=!0;let xt=null;return typeof q.keywords=="object"&&q.keywords.$pattern&&(q.keywords=Object.assign({},q.keywords),xt=q.keywords.$pattern,delete q.keywords.$pattern),xt=xt||/\w+/,q.keywords&&(q.keywords=at(q.keywords,x.case_insensitive)),ve.keywordPatternRe=T(xt,!0),Y&&(q.begin||(q.begin=/\B|\b/),ve.beginRe=T(ve.begin),!q.end&&!q.endsWithParent&&(q.end=/\B|\b/),q.end&&(ve.endRe=T(ve.end)),ve.terminatorEnd=u(ve.end)||"",q.endsWithParent&&Y.terminatorEnd&&(ve.terminatorEnd+=(q.end?"|":"")+Y.terminatorEnd)),q.illegal&&(ve.illegalRe=T(q.illegal)),q.contains||(q.contains=[]),q.contains=[].concat(...q.contains.map(function(_t){return j(_t==="self"?q:_t)})),q.contains.forEach(function(_t){Be(_t,ve)}),q.starts&&Be(q.starts,Y),ve.matcher=Ye(ve),ve}if(x.compilerExtensions||(x.compilerExtensions=[]),x.contains&&x.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return x.classNameAliases=r(x.classNameAliases||{}),Be(x)}function I(x){return x?x.endsWithParent||I(x.starts):!1}function j(x){return x.variants&&!x.cachedVariants&&(x.cachedVariants=x.variants.map(function(T){return r(x,{variants:null},T)})),x.cachedVariants?x.cachedVariants:I(x)?r(x,{starts:x.starts?r(x.starts):null}):Object.isFrozen(x)?r(x):x}var me="11.8.0";class je extends Error{constructor(T,B){super(T),this.name="HTMLInjectionError",this.html=B}}const $e=t,G=r,J=Symbol("nomatch"),Ce=7,ze=function(x){const T=Object.create(null),B=Object.create(null),be=[];let Ye=!0;const Be="Could not find the language '{}', did you forget to load/include a language module?",q={disableAutodetect:!0,name:"Plain text",contains:[]};let Y={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:d};function ve(O){return Y.noHighlightRe.test(O)}function xt(O){let H=O.className+" ";H+=O.parentNode?O.parentNode.className:"";const pe=Y.languageDetectRe.exec(H);if(pe){const Le=bn(pe[1]);return Le||(rt(Be.replace("{}",pe[1])),rt("Falling back to no-highlight mode for this block.",O)),Le?pe[1]:"no-highlight"}return H.split(/\s+/).find(Le=>ve(Le)||bn(Le))}function _t(O,H,pe){let Le="",Je="";typeof H=="object"?(Le=O,pe=H.ignoreIllegals,Je=H.language):(dt("10.7.0","highlight(lang, code, ...args) has been deprecated."),dt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Je=O,Le=H),pe===void 0&&(pe=!0);const Ie={code:Le,language:Je};Ft("before:highlight",Ie);const ft=Ie.result?Ie.result:Kt(Ie.language,Ie.code,pe);return ft.code=Ie.code,Ft("after:highlight",ft),ft}function Kt(O,H,pe,Le){const Je=Object.create(null);function Ie(X,ke){return X.keywords[ke]}function ft(){if(!Ke.keywords){It.addText(St);return}let X=0;Ke.keywordPatternRe.lastIndex=0;let ke=Ke.keywordPatternRe.exec(St),Ze="";for(;ke;){Ze+=St.substring(X,ke.index);const Et=kn.case_insensitive?ke[0].toLowerCase():ke[0],Gt=Ie(Ke,Et);if(Gt){const[Ln,Ga]=Gt;if(It.addText(Ze),Ze="",Je[Et]=(Je[Et]||0)+1,Je[Et]<=Ce&&(Mi+=Ga),Ln.startsWith("_"))Ze+=ke[0];else{const qa=kn.classNameAliases[Ln]||Ln;wt(ke[0],qa)}}else Ze+=ke[0];X=Ke.keywordPatternRe.lastIndex,ke=Ke.keywordPatternRe.exec(St)}Ze+=St.substring(X),It.addText(Ze)}function Wt(){if(St==="")return;let X=null;if(typeof Ke.subLanguage=="string"){if(!T[Ke.subLanguage]){It.addText(St);return}X=Kt(Ke.subLanguage,St,!0,Ti[Ke.subLanguage]),Ti[Ke.subLanguage]=X._top}else X=Jt(St,Ke.subLanguage.length?Ke.subLanguage:null);Ke.relevance>0&&(Mi+=X.relevance),It.__addSublanguage(X._emitter,X.language)}function yt(){Ke.subLanguage!=null?Wt():ft(),St=""}function wt(X,ke){X!==""&&(It.startScope(ke),It.addText(X),It.endScope())}function Zt(X,ke){let Ze=1;const Et=ke.length-1;for(;Ze<=Et;){if(!X._emit[Ze]){Ze++;continue}const Gt=kn.classNameAliases[X[Ze]]||X[Ze],Ln=ke[Ze];Gt?wt(Ln,Gt):(St=Ln,ft(),St=""),Ze++}}function hr(X,ke){return X.scope&&typeof X.scope=="string"&&It.openNode(kn.classNameAliases[X.scope]||X.scope),X.beginScope&&(X.beginScope._wrap?(wt(St,kn.classNameAliases[X.beginScope._wrap]||X.beginScope._wrap),St=""):X.beginScope._multi&&(Zt(X.beginScope,ke),St="")),Ke=Object.create(X,{parent:{value:Ke}}),Ke}function gr(X,ke,Ze){let Et=M(X.endRe,Ze);if(Et){if(X["on:end"]){const Gt=new e(X);X["on:end"](ke,Gt),Gt.isMatchIgnored&&(Et=!1)}if(Et){for(;X.endsParent&&X.parent;)X=X.parent;return X}}if(X.endsWithParent)return gr(X.parent,ke,Ze)}function Or(X){return Ke.matcher.regexIndex===0?(St+=X[0],1):(ei=!0,0)}function Qr(X){const ke=X[0],Ze=X.rule,Et=new e(Ze),Gt=[Ze.__beforeBegin,Ze["on:begin"]];for(const Ln of Gt)if(Ln&&(Ln(X,Et),Et.isMatchIgnored))return Or(ke);return Ze.skip?St+=ke:(Ze.excludeBegin&&(St+=ke),yt(),!Ze.returnBegin&&!Ze.excludeBegin&&(St=ke)),hr(Ze,X),Ze.returnBegin?0:ke.length}function Jn(X){const ke=X[0],Ze=H.substring(X.index),Et=gr(Ke,X,Ze);if(!Et)return J;const Gt=Ke;Ke.endScope&&Ke.endScope._wrap?(yt(),wt(ke,Ke.endScope._wrap)):Ke.endScope&&Ke.endScope._multi?(yt(),Zt(Ke.endScope,X)):Gt.skip?St+=ke:(Gt.returnEnd||Gt.excludeEnd||(St+=ke),yt(),Gt.excludeEnd&&(St=ke));do Ke.scope&&It.closeNode(),!Ke.skip&&!Ke.subLanguage&&(Mi+=Ke.relevance),Ke=Ke.parent;while(Ke!==Et.parent);return Et.starts&&hr(Et.starts,X),Gt.returnEnd?0:ke.length}function mr(){const X=[];for(let ke=Ke;ke!==kn;ke=ke.parent)ke.scope&&X.unshift(ke.scope);X.forEach(ke=>It.openNode(ke))}let Cr={};function rs(X,ke){const Ze=ke&&ke[0];if(St+=X,Ze==null)return yt(),0;if(Cr.type==="begin"&&ke.type==="end"&&Cr.index===ke.index&&Ze===""){if(St+=H.slice(ke.index,ke.index+1),!Ye){const Et=new Error(`0 width match regex (${O})`);throw Et.languageName=O,Et.badRule=Cr.rule,Et}return 1}if(Cr=ke,ke.type==="begin")return Qr(ke);if(ke.type==="illegal"&&!pe){const Et=new Error('Illegal lexeme "'+Ze+'" for mode "'+(Ke.scope||"<unnamed>")+'"');throw Et.mode=Ke,Et}else if(ke.type==="end"){const Et=Jn(ke);if(Et!==J)return Et}if(ke.type==="illegal"&&Ze==="")return 1;if(is>1e5&&is>ke.index*3)throw new Error("potential infinite loop, way more iterations than matches");return St+=Ze,Ze.length}const kn=bn(O);if(!kn)throw Ne(Be.replace("{}",O)),new Error('Unknown language: "'+O+'"');const Wa=At(kn);let Ni="",Ke=Le||Wa;const Ti={},It=new Y.__emitter(Y);mr();let St="",Mi=0,Zn=0,is=0,ei=!1;try{if(kn.__emitTokens)kn.__emitTokens(H,It);else{for(Ke.matcher.considerAll();;){is++,ei?ei=!1:Ke.matcher.considerAll(),Ke.matcher.lastIndex=Zn;const X=Ke.matcher.exec(H);if(!X)break;const ke=H.substring(Zn,X.index),Ze=rs(ke,X);Zn=X.index+Ze}rs(H.substring(Zn))}return It.finalize(),Ni=It.toHTML(),{language:O,value:Ni,relevance:Mi,illegal:!1,_emitter:It,_top:Ke}}catch(X){if(X.message&&X.message.includes("Illegal"))return{language:O,value:$e(H),illegal:!0,relevance:0,_illegalBy:{message:X.message,index:Zn,context:H.slice(Zn-100,Zn+100),mode:X.mode,resultSoFar:Ni},_emitter:It};if(Ye)return{language:O,value:$e(H),illegal:!1,relevance:0,errorRaised:X,_emitter:It,_top:Ke};throw X}}function gn(O){const H={value:$e(O),illegal:!1,relevance:0,_top:q,_emitter:new Y.__emitter(Y)};return H._emitter.addText(O),H}function Jt(O,H){H=H||Y.languages||Object.keys(T);const pe=gn(O),Le=H.filter(bn).filter(mt).map(yt=>Kt(yt,O,!1));Le.unshift(pe);const Je=Le.sort((yt,wt)=>{if(yt.relevance!==wt.relevance)return wt.relevance-yt.relevance;if(yt.language&&wt.language){if(bn(yt.language).supersetOf===wt.language)return 1;if(bn(wt.language).supersetOf===yt.language)return-1}return 0}),[Ie,ft]=Je,Wt=Ie;return Wt.secondBest=ft,Wt}function mn(O,H,pe){const Le=H&&B[H]||pe;O.classList.add("hljs"),O.classList.add(`language-${Le}`)}function _n(O){let H=null;const pe=xt(O);if(ve(pe))return;if(Ft("before:highlightElement",{el:O,language:pe}),O.children.length>0&&(Y.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(O)),Y.throwUnescapedHTML))throw new je("One of your code blocks includes unescaped HTML.",O.innerHTML);H=O;const Le=H.textContent,Je=pe?_t(Le,{language:pe,ignoreIllegals:!0}):Jt(Le);O.innerHTML=Je.value,mn(O,pe,Je.language),O.result={language:Je.language,re:Je.relevance,relevance:Je.relevance},Je.secondBest&&(O.secondBest={language:Je.secondBest.language,relevance:Je.secondBest.relevance}),Ft("after:highlightElement",{el:O,result:Je,text:Le})}function Dn(O){Y=G(Y,O)}const jn=()=>{xn(),dt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Yn(){xn(),dt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let dr=!1;function xn(){if(document.readyState==="loading"){dr=!0;return}document.querySelectorAll(Y.cssSelector).forEach(_n)}function gt(){dr&&xn()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",gt,!1);function En(O,H){let pe=null;try{pe=H(x)}catch(Le){if(Ne("Language definition for '{}' could not be registered.".replace("{}",O)),Ye)Ne(Le);else throw Le;pe=q}pe.name||(pe.name=O),T[O]=pe,pe.rawDefinition=H.bind(null,x),pe.aliases&&pr(pe.aliases,{languageName:O})}function ur(O){delete T[O];for(const H of Object.keys(B))B[H]===O&&delete B[H]}function fr(){return Object.keys(T)}function bn(O){return O=(O||"").toLowerCase(),T[O]||T[B[O]]}function pr(O,{languageName:H}){typeof O=="string"&&(O=[O]),O.forEach(pe=>{B[pe.toLowerCase()]=H})}function mt(O){const H=bn(O);return H&&!H.disableAutodetect}function bt(O){O["before:highlightBlock"]&&!O["before:highlightElement"]&&(O["before:highlightElement"]=H=>{O["before:highlightBlock"](Object.assign({block:H.el},H))}),O["after:highlightBlock"]&&!O["after:highlightElement"]&&(O["after:highlightElement"]=H=>{O["after:highlightBlock"](Object.assign({block:H.el},H))})}function Tt(O){bt(O),be.push(O)}function Rt(O){const H=be.indexOf(O);H!==-1&&be.splice(H,1)}function Ft(O,H){const pe=O;be.forEach(function(Le){Le[pe]&&Le[pe](H)})}function Vt(O){return dt("10.7.0","highlightBlock will be removed entirely in v12.0"),dt("10.7.0","Please use highlightElement now."),_n(O)}Object.assign(x,{highlight:_t,highlightAuto:Jt,highlightAll:xn,highlightElement:_n,highlightBlock:Vt,configure:Dn,initHighlighting:jn,initHighlightingOnLoad:Yn,registerLanguage:En,unregisterLanguage:ur,listLanguages:fr,getLanguage:bn,registerAliases:pr,autoDetection:mt,inherit:G,addPlugin:Tt,removePlugin:Rt}),x.debugMode=function(){Ye=!1},x.safeMode=function(){Ye=!0},x.versionString=me,x.regex={concat:g,lookahead:f,either:y,optional:h,anyNumberOfTimes:p};for(const O in qe)typeof qe[O]=="object"&&n(qe[O]);return Object.assign(x,qe),x},Ee=ze({});return Ee.newInstance=()=>ze({}),Ol=Ee,Ee.HighlightJS=Ee,Ee.default=Ee,Ol}var mk=gk();const Gn=Bf(mk);var Cl={exports:{}},cf;function bk(){return cf||(cf=1,(function(n){(function(){var e;e=n.exports=i,e.format=i,e.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(e.printf=t);function t(){console.log(i.apply(null,arguments))}function r(s,o){return i.apply(null,[s].concat(o))}function i(s){for(var o=1,a=[].slice.call(arguments),l=0,c=s.length,d="",u,f=!1,p,h,g=!1,m,y=function(){return a[o++]},S=function(){for(var M="";/\d/.test(s[l]);)M+=s[l++],u=s[l];return M.length>0?parseInt(M):null};l<c;++l)if(u=s[l],f)switch(f=!1,u=="."?(g=!1,u=s[++l]):u=="0"&&s[l+1]=="."?(g=!0,l+=2,u=s[l]):g=!0,m=S(),u){case"b":d+=parseInt(y(),10).toString(2);break;case"c":p=y(),typeof p=="string"||p instanceof String?d+=p:d+=String.fromCharCode(parseInt(p,10));break;case"d":d+=parseInt(y(),10);break;case"f":h=String(parseFloat(y()).toFixed(m||6)),d+=g?h:h.replace(/^0/,"");break;case"j":d+=JSON.stringify(y());break;case"o":d+="0"+parseInt(y(),10).toString(8);break;case"s":d+=y();break;case"x":d+="0x"+parseInt(y(),10).toString(16);break;case"X":d+="0x"+parseInt(y(),10).toString(16).toUpperCase();break;default:d+=u;break}else u==="%"?f=!0:d+=u;return d}})()})(Cl)),Cl.exports}var yk=bk();const vk=Bf(yk),Mo=Object.assign(ni(Error),{eval:ni(EvalError),range:ni(RangeError),reference:ni(ReferenceError),syntax:ni(SyntaxError),type:ni(TypeError),uri:ni(URIError)});function ni(n){return e.displayName=n.displayName||n.name,e;function e(t,...r){const i=t&&vk(t,...r);return new n(i)}}const _k={}.hasOwnProperty,xk="hljs-";function hg(n,e,t={}){let r=t.prefix;if(typeof n!="string")throw Mo("Expected `string` for name, got `%s`",n);if(!Gn.getLanguage(n))throw Mo("Unknown language: `%s` is not registered",n);if(typeof e!="string")throw Mo("Expected `string` for value, got `%s`",e);r==null&&(r=xk),Gn.configure({__emitter:Tk,classPrefix:r});const i=Gn.highlight(e,{language:n,ignoreIllegals:!0});if(Gn.configure({}),i.errorRaised)throw i.errorRaised;return i._emitter.root.data.language=i.language,i._emitter.root.data.relevance=i.relevance,i._emitter.root}function Ek(n,e={}){const t=e.subset||Gn.listLanguages();e.prefix;let r=-1,i={type:"root",data:{language:null,relevance:0},children:[]};if(typeof n!="string")throw Mo("Expected `string` for value, got `%s`",n);for(;++r<t.length;){const s=t[r];if(!Gn.getLanguage(s))continue;const o=hg(s,n,e);o.data.relevance>i.data.relevance&&(i=o)}return i}function kk(n,e){Gn.registerLanguage(n,e)}const wk=(function(n,e){if(typeof n=="string")Gn.registerAliases(e,{languageName:n});else{let t;for(t in n)_k.call(n,t)&&Gn.registerAliases(n[t],{languageName:t})}});function Sk(n){return!!Gn.getLanguage(n)}function Nk(){return Gn.listLanguages()}class Tk{constructor(e){this.options=e,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(e){if(e==="")return;const t=this.stack[this.stack.length-1],r=t.children[t.children.length-1];r&&r.type==="text"?r.value+=e:t.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,t){const r=this.stack[this.stack.length-1],i=e.root.children;t?r.children.push({type:"element",tagName:"span",properties:{className:[t]},children:i}):r.children.push(...i)}openNode(e){const t=e.split(".").map((s,o)=>o?s+"_".repeat(o):this.options.classPrefix+s),r=this.stack[this.stack.length-1],i={type:"element",tagName:"span",properties:{className:t},children:[]};r.children.push(i),this.stack.push(i)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const st={highlight:hg,highlightAuto:Ek,registerLanguage:kk,registered:Sk,listLanguages:Nk,registerAlias:wk};st.registerLanguage("arduino",nE);st.registerLanguage("bash",rE);st.registerLanguage("c",iE);st.registerLanguage("cpp",sE);st.registerLanguage("csharp",oE);st.registerLanguage("css",pE);st.registerLanguage("diff",hE);st.registerLanguage("go",gE);st.registerLanguage("graphql",mE);st.registerLanguage("ini",bE);st.registerLanguage("java",yE);st.registerLanguage("javascript",kE);st.registerLanguage("json",wE);st.registerLanguage("kotlin",NE);st.registerLanguage("less",RE);st.registerLanguage("lua",IE);st.registerLanguage("makefile",DE);st.registerLanguage("markdown",LE);st.registerLanguage("objectivec",PE);st.registerLanguage("perl",BE);st.registerLanguage("php",$E);st.registerLanguage("php-template",zE);st.registerLanguage("plaintext",FE);st.registerLanguage("python",UE);st.registerLanguage("python-repl",HE);st.registerLanguage("r",KE);st.registerLanguage("ruby",VE);st.registerLanguage("rust",WE);st.registerLanguage("scss",XE);st.registerLanguage("shell",QE);st.registerLanguage("sql",ek);st.registerLanguage("swift",lk);st.registerLanguage("typescript",dk);st.registerLanguage("vbnet",uk);st.registerLanguage("wasm",fk);st.registerLanguage("xml",pk);st.registerLanguage("yaml",hk);const Mk=[G1.configure({openOnClick:!1,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer"}}),j1.configure({allowBase64:!0}),Y1.configure({showOnlyWhenEditable:!1}),Jx.configure({lowlight:st,languageClassPrefix:"language-",defaultLanguage:"plaintext"}),Zx,Xx,eE.configure({nested:!0})],Ok=/^\s*>\s$/,Ck=ln.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",zt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Yi({find:Ok,type:this.type})]}}),Ak=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Rk=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Ik=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Dk=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Lk=or.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",zt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ji({find:Ak,type:this.type}),ji({find:Ik,type:this.type})]},addPasteRules(){return[Ei({find:Rk,type:this.type}),Ei({find:Dk,type:this.type})]}}),Pk="listItem",df="textStyle",uf=/^\s*([-+*])\s$/,Bk=ln.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",zt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Pk,this.editor.getAttributes(df)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Yi({find:uf,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Yi({find:uf,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(df),editor:this.editor})),[n]}}),$k=/(^|[^`])`([^`]+)`(?!`)/,zk=/(^|[^`])`([^`]+)`(?!`)/g,Fk=or.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",zt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ji({find:$k,type:this.type})]},addPasteRules(){return[Ei({find:zk,type:this.type})]}}),Uk=ln.create({name:"doc",topNode:!0,content:"block+"});function Hk(n={}){return new Ht({view(e){return new Kk(e,n)}})}class Kk{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(t){let u=e.nodeBefore,f=e.nodeAfter;if(u||f){let p=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(p){let h=p.getBoundingClientRect(),g=u?h.bottom:h.top;u&&f&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let m=this.width/2*a;r={left:h.left,right:h.right,top:g-m,bottom:g+m}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*o;r={left:u.left-f,right:u.left+f,top:u.top,bottom:u.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let c,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,d=-pageYOffset;else{let u=l.getBoundingClientRect(),f=u.width/l.offsetWidth,p=u.height/l.offsetHeight;c=u.left-l.scrollLeft*f,d=u.top-l.scrollTop*p}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-d)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=hp(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Vk=an.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Hk(this.options)]}});class Pt extends et{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Pt.valid(r)?new Pt(r):et.near(r)}content(){return ae.empty}eq(e){return e instanceof Pt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Pt(e.resolve(t.pos))}getBookmark(){return new cd(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Wk(e)||!Gk(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Pt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let l=e.doc.resolve(i);if(Pt.valid(l))return l}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Ae.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let a=e.doc.resolve(i);if(Pt.valid(a))return a}return null}}}Pt.prototype.visible=!1;Pt.findFrom=Pt.findGapCursorFrom;et.jsonID("gapcursor",Pt);class cd{constructor(e){this.pos=e}map(e){return new cd(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Pt.valid(t)?new Pt(t):et.near(t)}}function gg(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function Wk(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||gg(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Gk(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||gg(i.type))return!0;if(i.inlineContent)return!1}}return!0}function qk(){return new Ht({props:{decorations:Zk,createSelectionBetween(n,e,t){return e.pos==t.pos&&Pt.valid(t)?new Pt(t):null},handleClick:Yk,handleKeyDown:jk,handleDOMEvents:{beforeinput:Jk}}})}const jk=rh({ArrowLeft:yo("horiz",-1),ArrowRight:yo("horiz",1),ArrowUp:yo("vert",-1),ArrowDown:yo("vert",1)});function yo(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof We){if(!s.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Pt.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Pt(c))),!0):!1}}function Yk(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Pt.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Ae.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Pt(r))),!0)}function Jk(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Pt))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=z.empty;for(let o=r.length-1;o>=0;o--)i=z.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new ae(i,0,0));return s.setSelection(We.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function Zk(n){if(!(n.selection instanceof Pt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Bt.create(n.doc,[Tn.widget(n.selection.head,e,{key:"gapcursor"})])}const Xk=an.create({name:"gapCursor",addProseMirrorPlugins(){return[qk()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=tt(he(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),Qk=ln.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",zt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&l&&o){const u=l.filter(f=>a.includes(f.type.name));c.ensureMarks(u)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),ew=ln.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>ac({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Ea=200,en=function(){};en.prototype.append=function(e){return e.length?(e=en.from(e),!this.length&&e||e.length<Ea&&this.leafAppend(e)||this.length<Ea&&e.leafPrepend(this)||this.appendInner(e)):this};en.prototype.prepend=function(e){return e.length?en.from(e).append(this):this};en.prototype.appendInner=function(e){return new tw(this,e)};en.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?en.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};en.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};en.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};en.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};en.from=function(e){return e instanceof en?e:e&&e.length?new mg(e):en.empty};var mg=(function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ea)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ea)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(en);en.empty=new mg([]);var tw=(function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(en);const nw=500;class Wn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],d=[];return this.items.forEach((u,f)=>{if(!u.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,d.push(u);return}if(i){d.push(new er(u.map));let p=u.step.map(i.slice(s)),h;p&&o.maybeStep(p).doc&&(h=o.mapping.maps[o.mapping.maps.length-1],c.push(new er(h,void 0,void 0,c.length+d.length))),s--,h&&i.appendMap(h,s)}else o.maybeStep(u.step);if(u.selection)return a=i?u.selection.map(i.slice(s)):u.selection,l=new Wn(this.items.slice(0,r).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let u=e.steps[d].invert(e.docs[d]),f=new er(e.mapping.maps[d],u,t),p;(p=l&&l.merge(f))&&(f=p,d?s.pop():a=a.slice(0,a.length-1)),s.push(f),t&&(o++,t=void 0),i||(l=f)}let c=o-r.depth;return c>iw&&(a=rw(a,c),o-=c),new Wn(a.append(s),o)}remapping(e,t){let r=new As;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new Wn(this.items.append(e.map(t=>new er(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=t;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let h=s.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),m=f.selection&&f.selection.map(s.slice(l+1,p));m&&a++,r.push(new er(h,g,m))}else r.push(new er(h))},i);let c=[];for(let f=t;f<o;f++)c.push(new er(s.maps[f]));let d=this.items.slice(0,i).append(c).append(r),u=new Wn(d,a);return u.emptyItemCount()>nw&&(u=u.compress(this.items.length-r.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(t.slice(r)),c=l&&l.getMap();if(r--,c&&t.appendMap(c,r),l){let d=o.selection&&o.selection.map(t.slice(r));d&&s++;let u=new er(c.invert(),l,d),f,p=i.length-1;(f=i.length&&i[p].merge(u))?i[p]=f:i.push(u)}}else o.map&&r--},this.items.length,0),new Wn(en.from(i.reverse()),s)}}Wn.empty=new Wn(en.empty,0);function rw(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class er{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new er(t.getMap().invert(),t,this.selection)}}}class Lr{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const iw=20;function sw(n,e,t,r){let i=t.getMeta(gi),s;if(i)return i.historyState;t.getMeta(lw)&&(n=new Lr(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(gi))return o.getMeta(gi).redo?new Lr(n.done.addTransform(t,void 0,r,Oo(e)),n.undone,ff(t.mapping.maps),n.prevTime,n.prevComposition):new Lr(n.done,n.undone.addTransform(t,void 0,r,Oo(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!ow(t,n.prevRanges)),c=o?Al(n.prevRanges,t.mapping):ff(t.mapping.maps);return new Lr(n.done.addTransform(t,l?e.selection.getBookmark():void 0,r,Oo(e)),Wn.empty,c,t.time,a??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Lr(n.done.rebased(t,s),n.undone.rebased(t,s),Al(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Lr(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Al(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function ow(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function ff(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function Al(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function aw(n,e,t){let r=Oo(e),i=gi.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new Lr(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(gi,{redo:t,historyState:l})}let Rl=!1,pf=null;function Oo(n){let e=n.plugins;if(pf!=e){Rl=!1,pf=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Rl=!0;break}}return Rl}const gi=new hn("history"),lw=new hn("closeHistory");function cw(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Ht({key:gi,state:{init(){return new Lr(Wn.empty,Wn.empty,null,0,-1)},apply(e,t,r){return sw(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?yg:r=="historyRedo"?vg:null;return!i||!e.editable?!1:(t.preventDefault(),i(e.state,e.dispatch))}}}})}function bg(n,e){return(t,r)=>{let i=gi.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=aw(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const yg=bg(!1,!0),vg=bg(!0,!0),dw=an.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>yg(n,e),redo:()=>({state:n,dispatch:e})=>vg(n,e)}},addProseMirrorPlugins(){return[cw(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),uw=ln.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",zt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!x1(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):K_(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(We.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Ae.create(o.doc,c.pos)):o.setSelection(We.create(o.doc,c.pos));else{const u=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();u&&(o.insert(d,u),o.setSelection(We.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Th({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),fw=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,pw=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,hw=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,gw=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,mw=or.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",zt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ji({find:fw,type:this.type}),ji({find:hw,type:this.type})]},addPasteRules(){return[Ei({find:pw,type:this.type}),Ei({find:gw,type:this.type})]}}),bw=ln.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",zt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yw="listItem",hf="textStyle",gf=/^(\d+)\.\s$/,vw=ln.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",zt(this.options.HTMLAttributes,t),0]:["ol",zt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(yw,this.editor.getAttributes(hf)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Yi({find:gf,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Yi({find:gf,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(hf)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),_w=ln.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",zt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),xw=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Ew=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,kw=or.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",zt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ji({find:xw,type:this.type})]},addPasteRules(){return[Ei({find:Ew,type:this.type})]}}),ww=ln.create({name:"text",group:"inline"}),Sw=an.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(Lk.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(Ck.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(Bk.configure(this.options.bulletList)),this.options.code!==!1&&n.push(Fk.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(Bh.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(Uk.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(Vk.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(Xk.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(Qk.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(ew.configure(this.options.heading)),this.options.history!==!1&&n.push(dw.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(uw.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(mw.configure(this.options.italic)),this.options.listItem!==!1&&n.push(bw.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(vw.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(_w.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(kw.configure(this.options.strike)),this.options.text!==!1&&n.push(ww.configure(this.options.text)),n}});var Nw=De('<button aria-label="Edit link" title="Edit link"><svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M5.576 13.481a3.5 3.5 0 0 0 4.95 4.95m2.473-7.423a3.5 3.5 0 0 1 0 4.95l-2.475 2.475m-2.475-7.425l-2.475 2.475m12.857-2.957a3.5 3.5 0 1 0-4.95-4.95M11.01 13a3.5 3.5 0 0 1 0-4.95l2.474-2.475M15.958 13l2.475-2.475"></path></svg></button>');function Tw(n,e){lr(e,!0);async function t(){let a=e.tipex?.getAttributes("link").href||"";try{const c=await navigator.clipboard.readText();c&&r(c.trim())&&(a=c.trim())}catch{console.log("Clipboard access not available")}const l=prompt("Enter URL:",a);if(l!==null&&l.trim()!==""){const c=l.trim();r(c)?e.tipex?.commands.setLink({href:c}):alert("Please enter a valid URL (starting with http://, https://, mailto:, tel:, or /)")}e.tipex?.chain().focus().run()}function r(o){return o.startsWith("http://")||o.startsWith("https://")||o.startsWith("mailto:")||o.startsWith("tel:")||o.startsWith("/")}var i=Nw();i.__click=t;let s;Ve(o=>s=vt(i,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,s,o),[()=>({active:e.tipex?.isActive("link")})]),W(n,i),cr()}qs(["click"]);var Mw=Vs('<svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.75"><path d="M8.5.5h-3a1 1 0 0 0-1 1V2a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-.5a1 1 0 0 0-1-1"></path><path d="M9.75 1.5h1.5a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-8.5a1 1 0 0 1-1-1v-10a1 1 0 0 1 1-1h1.5"></path><path d="m5 9l1.5 1l3-4"></path></g></svg>'),Ow=Vs('<svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.75"><path d="M8.5.5h-3a1 1 0 0 0-1 1V2a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-.5a1 1 0 0 0-1-1"></path><path d="M9.75 1.5h1.5a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-8.5a1 1 0 0 1-1-1v-10a1 1 0 0 1 1-1h1.5"></path></g></svg>'),Cw=De('<div class="tipex-controller"><div class="tipex-basic-controller-wrapper"><button aria-label="Heading 1" type="button" title="Heading 1"><span class="font-semibold text-xs">H1</span></button> <button aria-label="Heading 2" type="button" title="Heading 2"><span class="font-semibold text-xs">H2</span></button> <button aria-label="Heading 3" type="button" title="Heading 3"><span class="font-semibold text-xs">H3</span></button> <button aria-label="Paragraph/Normal text" type="button" title="Paragraph/Normal text"><svg class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M19 5h-3m-5 0h5m-5 0v10m0-10h-1c-1.667 0-5 1-5 5s3.333 5 5 5h1m0 4v-4m5 4V5"></path></svg></button> <div class="w-px h-6 bg-gray-200 dark:bg-gray-700 mx-1"></div> <button aria-label="Bold" type="button" title="Bold (⌘+B)"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path d="M8.21 13c2.106 0 3.412-1.087 3.412-2.823 0-1.306-.984-2.283-2.324-2.386v-.055a2.176 2.176 0 0 0 1.852-2.14c0-1.51-1.162-2.46-3.014-2.46H3.843V13H8.21zM5.908 4.674h1.696c.963 0 1.517.451 1.517 1.244 0 .834-.629 1.32-1.73 1.32H5.908V4.673zm0 6.788V8.598h1.73c1.217 0 1.88.492 1.88 1.415 0 .943-.643 1.449-1.832 1.449H5.907z"></path></svg></button> <button aria-label="Italic" type="button" title="Italic (⌘+I)"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path d="M7.991 11.674 9.53 4.455c.123-.595.246-.71 1.347-.807l.11-.52H7.211l-.11.52c1.06.096 1.128.212 1.005.807L6.57 11.674c-.123.595-.246.71-1.346.806l-.11.52h3.774l.11-.52c-1.06-.095-1.129-.211-1.006-.806z"></path></svg></button> <button aria-label="Underline" type="button" title="Underline (⌘+U)"><span class="font-semibold text-xs underline">U</span></button> <button aria-label="Strikethrough" type="button" title="Strikethrough"><span class="font-semibold text-xs line-through">S</span></button> <button aria-label="Inline Code" type="button" title="Inline Code"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path d="M5.854 4.854a.5.5 0 1 0-.708-.708l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L2.707 8l3.147-3.146zm4.292 0a.5.5 0 0 1 .708-.708l3.5 3.5a.5.5 0 0 1 0 .708l-3.5 3.5a.5.5 0 0 1-.708-.708L13.293 8l-3.147-3.146z"></path></svg></button> <div class="w-px h-6 bg-gray-200 dark:bg-gray-700 mx-1"></div> <button aria-label="Bullet List" type="button" title="Bullet List"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button> <button aria-label="Numbered List" type="button" title="Numbered List"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5z"></path><path d="M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338v.041zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635V5z"></path></svg></button> <button aria-label="Task List" type="button" title="Task List"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path d="M0 3.5A.5.5 0 0 1 .5 3h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM0 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 0 8zm0 4.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z"></path><path d="M11.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L8.5 10.293l2.646-2.647a.5.5 0 0 1 .708 0z"></path></svg></button> <div class="w-px h-6 bg-gray-200 dark:bg-gray-700 mx-1"></div> <button aria-label="Quote" type="button" title="Quote"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path d="M12 12a1 1 0 0 0 1-1V8.558a1 1 0 0 0-1-1h-1.388c0-.351.021-.703.062-1.054.062-.372.166-.703.31-.992.145-.29.331-.517.559-.683.227-.186.516-.279.868-.279V3c-.579 0-1.085.124-1.52.372a3.322 3.322 0 0 0-1.085.992 4.92 4.92 0 0 0-.62 1.458A7.712 7.712 0 0 0 9 7.558V11a1 1 0 0 0 1 1h2Zm-6 0a1 1 0 0 0 1-1V8.558a1 1 0 0 0-1-1H4.612c0-.351.021-.703.062-1.054.062-.372.166-.703.31-.992.145-.29.331-.517.559-.683.227-.186.516-.279.868-.279V3c-.579 0-1.085.124-1.52.372a3.322 3.322 0 0 0-1.085.992 4.92 4.92 0 0 0-.62 1.458A7.712 7.712 0 0 0 3 7.558V11a1 1 0 0 0 1 1h2Z"></path></svg></button> <button aria-label="Code Block" type="button" title="Code Block"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"></path></svg></button> <button class="tipex-edit-button tipex-button-extra tipex-button-rigid" aria-label="Horizontal Rule" type="button" title="Horizontal Rule"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path d="M12 3H4a1 1 0 0 0-1 1v2.5H2V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2.5h-1V4a1 1 0 0 0-1-1zM2 9.5h12a.5.5 0 0 1 0 1H2a.5.5 0 0 1 0-1zm10 2.5H4a1 1 0 0 1-1-1V9.5H2V11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9.5h-1V11a1 1 0 0 1-1 1z"></path></svg></button> <div class="w-px h-6 bg-gray-200 dark:bg-gray-700 mx-1"></div> <button class="tipex-edit-button tipex-button-extra tipex-button-rigid" aria-label="Undo" type="button" title="Undo"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"></path><path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"></path></svg></button> <button class="tipex-edit-button tipex-button-extra tipex-button-rigid" aria-label="Redo" type="button" title="Redo"><svg class="h-4 w-4" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"></path><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"></path></svg></button></div> <div class="tipex-utilities"><button type="button"><!></button> <!> <!></div></div>');function Aw(n,e){lr(e,!0);let t=Hr(!1);async function r(){try{await navigator.clipboard.writeText(e.tipex?.getText()||""),N(t,!0),setTimeout(()=>{N(t,!1)},2e3),e.tipex?.chain().focus().run()}catch(a){console.error("Failed to copy:",a)}}var i=kt(),s=it(i);{var o=a=>{var l=Cw(),c=_(l),d=_(c);d.__click=()=>e.tipex?.chain().focus().toggleHeading({level:1}).run();let u;var f=k(d,2);f.__click=()=>e.tipex?.chain().focus().toggleHeading({level:2}).run();let p;var h=k(f,2);h.__click=()=>e.tipex?.chain().focus().toggleHeading({level:3}).run();let g;var m=k(h,2);m.__click=()=>e.tipex?.chain().focus().setParagraph().run();let y;var S=k(m,4);S.__click=()=>e.tipex?.chain().focus().toggleBold().run();let M;var b=k(S,2);b.__click=()=>e.tipex?.chain().focus().toggleItalic().run();let C;var w=k(b,2);w.__click=()=>e.tipex?.chain().focus().toggleUnderline().run();let D;var P=k(w,2);P.__click=()=>e.tipex?.chain().focus().toggleStrike().run();let L;var ee=k(P,2);ee.__click=()=>e.tipex?.chain().focus().toggleCode().run();let de;var ye=k(ee,4);ye.__click=()=>e.tipex?.chain().focus().toggleBulletList().run();let ie;var le=k(ye,2);le.__click=()=>e.tipex?.chain().focus().toggleOrderedList().run();let ue;var Me=k(le,2);Me.__click=()=>e.tipex?.chain().focus().toggleTaskList().run();let R;var A=k(Me,4);A.__click=()=>e.tipex?.chain().focus().toggleBlockquote().run();let F;var Z=k(A,2);Z.__click=()=>e.tipex?.chain().focus().toggleCodeBlock().run();let ce;var _e=k(Z,2);_e.__click=()=>e.tipex?.chain().focus().setHorizontalRule().run();var se=k(_e,4);se.__click=()=>e.tipex?.chain().focus().undo().run();var te=k(se,2);te.__click=()=>e.tipex?.chain().focus().redo().run(),v(c);var U=k(c,2),Se=_(U);let nt;Se.__click=r;var Ge=_(Se);{var ge=xe=>{var Re=Mw();W(xe,Re)},qe=xe=>{var Re=Ow();W(xe,Re)};Te(Ge,xe=>{E(t)?xe(ge):xe(qe,!1)})}v(Se);var pt=k(Se,2);Tw(pt,{get tipex(){return e.tipex}});var ne=k(pt,2);Eo(ne,()=>e.children??$l),v(U),v(l),Ve((xe,Re,Xe,Ue,ot,ht,oe,at,He,Oe,Fe,Ne,rt,dt,$,V)=>{u=vt(d,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,u,xe),p=vt(f,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,p,Re),g=vt(h,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,g,Xe),y=vt(m,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,y,Ue),M=vt(S,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,M,ot),C=vt(b,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,C,ht),D=vt(w,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,D,oe),L=vt(P,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,L,at),de=vt(ee,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,de,He),ie=vt(ye,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,ie,Oe),ue=vt(le,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,ue,Fe),R=vt(Me,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,R,Ne),F=vt(A,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,F,rt),ce=vt(Z,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,ce,dt),se.disabled=$,te.disabled=V,nt=vt(Se,1,"tipex-edit-button tipex-button-extra tipex-button-rigid",null,nt,{active:E(t)}),Nt(Se,"aria-label",E(t)?"Copied!":"Copy Text"),Nt(Se,"title",E(t)?"Copied!":"Copy Text")},[()=>({active:e.tipex?.isActive("heading",{level:1})}),()=>({active:e.tipex?.isActive("heading",{level:2})}),()=>({active:e.tipex?.isActive("heading",{level:3})}),()=>({active:e.tipex?.isActive("paragraph")}),()=>({active:e.tipex?.isActive("bold")}),()=>({active:e.tipex?.isActive("italic")}),()=>({active:e.tipex?.isActive("underline")}),()=>({active:e.tipex?.isActive("strike")}),()=>({active:e.tipex?.isActive("code")}),()=>({active:e.tipex?.isActive("bulletList")}),()=>({active:e.tipex?.isActive("orderedList")}),()=>({active:e.tipex?.isActive("taskList")}),()=>({active:e.tipex?.isActive("blockquote")}),()=>({active:e.tipex?.isActive("codeBlock")}),()=>!e.tipex?.can().undo(),()=>!e.tipex?.can().redo()]),W(a,l)};Te(s,a=>{e.tipex&&a(o)})}W(n,i),cr()}qs(["click"]);var On="top",Kn="bottom",Vn="right",Cn="left",dd="auto",Xs=[On,Kn,Vn,Cn],Zi="start",Hs="end",Rw="clippingParents",_g="viewport",cs="popper",Iw="reference",mf=Xs.reduce(function(n,e){return n.concat([e+"-"+Zi,e+"-"+Hs])},[]),xg=[].concat(Xs,[dd]).reduce(function(n,e){return n.concat([e,e+"-"+Zi,e+"-"+Hs])},[]),Dw="beforeRead",Lw="read",Pw="afterRead",Bw="beforeMain",$w="main",zw="afterMain",Fw="beforeWrite",Uw="write",Hw="afterWrite",Kw=[Dw,Lw,Pw,Bw,$w,zw,Fw,Uw,Hw];function ar(n){return n?(n.nodeName||"").toLowerCase():null}function In(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ki(n){var e=In(n).Element;return n instanceof e||n instanceof Element}function Hn(n){var e=In(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function ud(n){if(typeof ShadowRoot>"u")return!1;var e=In(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Vw(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Hn(s)||!ar(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Ww(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Hn(i)||!ar(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const Eg={name:"applyStyles",enabled:!0,phase:"write",fn:Vw,effect:Ww,requires:["computeStyles"]};function rr(n){return n.split("-")[0]}var mi=Math.max,ka=Math.min,Xi=Math.round;function mc(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kg(){return!/^((?!chrome|android).)*safari/i.test(mc())}function Qi(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Hn(n)&&(i=n.offsetWidth>0&&Xi(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Xi(r.height)/n.offsetHeight||1);var o=ki(n)?In(n):window,a=o.visualViewport,l=!kg()&&t,c=(r.left+(l&&a?a.offsetLeft:0))/i,d=(r.top+(l&&a?a.offsetTop:0))/s,u=r.width/i,f=r.height/s;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c,x:c,y:d}}function fd(n){var e=Qi(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function wg(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&ud(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mr(n){return In(n).getComputedStyle(n)}function Gw(n){return["table","td","th"].indexOf(ar(n))>=0}function Xr(n){return((ki(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ka(n){return ar(n)==="html"?n:n.assignedSlot||n.parentNode||(ud(n)?n.host:null)||Xr(n)}function bf(n){return!Hn(n)||Mr(n).position==="fixed"?null:n.offsetParent}function qw(n){var e=/firefox/i.test(mc()),t=/Trident/i.test(mc());if(t&&Hn(n)){var r=Mr(n);if(r.position==="fixed")return null}var i=Ka(n);for(ud(i)&&(i=i.host);Hn(i)&&["html","body"].indexOf(ar(i))<0;){var s=Mr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Qs(n){for(var e=In(n),t=bf(n);t&&Gw(t)&&Mr(t).position==="static";)t=bf(t);return t&&(ar(t)==="html"||ar(t)==="body"&&Mr(t).position==="static")?e:t||qw(n)||e}function pd(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Ss(n,e,t){return mi(n,ka(e,t))}function jw(n,e,t){var r=Ss(n,e,t);return r>t?t:r}function Sg(){return{top:0,right:0,bottom:0,left:0}}function Ng(n){return Object.assign({},Sg(),n)}function Tg(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Yw=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Ng(typeof e!="number"?e:Tg(e,Xs))};function Jw(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,a=rr(t.placement),l=pd(a),c=[Cn,Vn].indexOf(a)>=0,d=c?"height":"width";if(!(!s||!o)){var u=Yw(i.padding,t),f=fd(s),p=l==="y"?On:Cn,h=l==="y"?Kn:Vn,g=t.rects.reference[d]+t.rects.reference[l]-o[l]-t.rects.popper[d],m=o[l]-t.rects.reference[l],y=Qs(s),S=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,M=g/2-m/2,b=u[p],C=S-f[d]-u[h],w=S/2-f[d]/2+M,D=Ss(b,w,C),P=l;t.modifiersData[r]=(e={},e[P]=D,e.centerOffset=D-w,e)}}function Zw(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||wg(e.elements.popper,i)&&(e.elements.arrow=i))}const Xw={name:"arrow",enabled:!0,phase:"main",fn:Jw,effect:Zw,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function es(n){return n.split("-")[1]}var Qw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eS(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Xi(t*i)/i||0,y:Xi(r*i)/i||0}}function yf(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,d=n.roundOffsets,u=n.isFixed,f=o.x,p=f===void 0?0:f,h=o.y,g=h===void 0?0:h,m=typeof d=="function"?d({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var y=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),M=Cn,b=On,C=window;if(c){var w=Qs(t),D="clientHeight",P="clientWidth";if(w===In(t)&&(w=Xr(t),Mr(w).position!=="static"&&a==="absolute"&&(D="scrollHeight",P="scrollWidth")),w=w,i===On||(i===Cn||i===Vn)&&s===Hs){b=Kn;var L=u&&w===C&&C.visualViewport?C.visualViewport.height:w[D];g-=L-r.height,g*=l?1:-1}if(i===Cn||(i===On||i===Kn)&&s===Hs){M=Vn;var ee=u&&w===C&&C.visualViewport?C.visualViewport.width:w[P];p-=ee-r.width,p*=l?1:-1}}var de=Object.assign({position:a},c&&Qw),ye=d===!0?eS({x:p,y:g},In(t)):{x:p,y:g};if(p=ye.x,g=ye.y,l){var ie;return Object.assign({},de,(ie={},ie[b]=S?"0":"",ie[M]=y?"0":"",ie.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",ie))}return Object.assign({},de,(e={},e[b]=S?g+"px":"",e[M]=y?p+"px":"",e.transform="",e))}function tS(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:rr(e.placement),variation:es(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yf(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yf(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const nS={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tS,data:{}};var vo={passive:!0};function rS(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=In(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(d){d.addEventListener("scroll",t.update,vo)}),a&&l.addEventListener("resize",t.update,vo),function(){s&&c.forEach(function(d){d.removeEventListener("scroll",t.update,vo)}),a&&l.removeEventListener("resize",t.update,vo)}}const iS={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rS,data:{}};var sS={left:"right",right:"left",bottom:"top",top:"bottom"};function Co(n){return n.replace(/left|right|bottom|top/g,function(e){return sS[e]})}var oS={start:"end",end:"start"};function vf(n){return n.replace(/start|end/g,function(e){return oS[e]})}function hd(n){var e=In(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function gd(n){return Qi(Xr(n)).left+hd(n).scrollLeft}function aS(n,e){var t=In(n),r=Xr(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=kg();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+gd(n),y:l}}function lS(n){var e,t=Xr(n),r=hd(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=mi(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=mi(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+gd(n),l=-r.scrollTop;return Mr(i||t).direction==="rtl"&&(a+=mi(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function md(n){var e=Mr(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function Mg(n){return["html","body","#document"].indexOf(ar(n))>=0?n.ownerDocument.body:Hn(n)&&md(n)?n:Mg(Ka(n))}function Ns(n,e){var t;e===void 0&&(e=[]);var r=Mg(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=In(r),o=i?[s].concat(s.visualViewport||[],md(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ns(Ka(o)))}function bc(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function cS(n,e){var t=Qi(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function _f(n,e,t){return e===_g?bc(aS(n,t)):ki(e)?cS(e,t):bc(lS(Xr(n)))}function dS(n){var e=Ns(Ka(n)),t=["absolute","fixed"].indexOf(Mr(n).position)>=0,r=t&&Hn(n)?Qs(n):n;return ki(r)?e.filter(function(i){return ki(i)&&wg(i,r)&&ar(i)!=="body"}):[]}function uS(n,e,t,r){var i=e==="clippingParents"?dS(n):[].concat(e),s=[].concat(i,[t]),o=s[0],a=s.reduce(function(l,c){var d=_f(n,c,r);return l.top=mi(d.top,l.top),l.right=ka(d.right,l.right),l.bottom=ka(d.bottom,l.bottom),l.left=mi(d.left,l.left),l},_f(n,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Og(n){var e=n.reference,t=n.element,r=n.placement,i=r?rr(r):null,s=r?es(r):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(i){case On:l={x:o,y:e.y-t.height};break;case Kn:l={x:o,y:e.y+e.height};break;case Vn:l={x:e.x+e.width,y:a};break;case Cn:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?pd(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(s){case Zi:l[c]=l[c]-(e[d]/2-t[d]/2);break;case Hs:l[c]=l[c]+(e[d]/2-t[d]/2);break}}return l}function Ks(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,a=t.boundary,l=a===void 0?Rw:a,c=t.rootBoundary,d=c===void 0?_g:c,u=t.elementContext,f=u===void 0?cs:u,p=t.altBoundary,h=p===void 0?!1:p,g=t.padding,m=g===void 0?0:g,y=Ng(typeof m!="number"?m:Tg(m,Xs)),S=f===cs?Iw:cs,M=n.rects.popper,b=n.elements[h?S:f],C=uS(ki(b)?b:b.contextElement||Xr(n.elements.popper),l,d,o),w=Qi(n.elements.reference),D=Og({reference:w,element:M,placement:i}),P=bc(Object.assign({},M,D)),L=f===cs?P:w,ee={top:C.top-L.top+y.top,bottom:L.bottom-C.bottom+y.bottom,left:C.left-L.left+y.left,right:L.right-C.right+y.right},de=n.modifiersData.offset;if(f===cs&&de){var ye=de[i];Object.keys(ee).forEach(function(ie){var le=[Vn,Kn].indexOf(ie)>=0?1:-1,ue=[On,Kn].indexOf(ie)>=0?"y":"x";ee[ie]+=ye[ue]*le})}return ee}function fS(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?xg:l,d=es(r),u=d?a?mf:mf.filter(function(h){return es(h)===d}):Xs,f=u.filter(function(h){return c.indexOf(h)>=0});f.length===0&&(f=u);var p=f.reduce(function(h,g){return h[g]=Ks(n,{placement:g,boundary:i,rootBoundary:s,padding:o})[rr(g)],h},{});return Object.keys(p).sort(function(h,g){return p[h]-p[g]})}function pS(n){if(rr(n)===dd)return[];var e=Co(n);return[vf(n),e,vf(e)]}function hS(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,d=t.boundary,u=t.rootBoundary,f=t.altBoundary,p=t.flipVariations,h=p===void 0?!0:p,g=t.allowedAutoPlacements,m=e.options.placement,y=rr(m),S=y===m,M=l||(S||!h?[Co(m)]:pS(m)),b=[m].concat(M).reduce(function(te,U){return te.concat(rr(U)===dd?fS(e,{placement:U,boundary:d,rootBoundary:u,padding:c,flipVariations:h,allowedAutoPlacements:g}):U)},[]),C=e.rects.reference,w=e.rects.popper,D=new Map,P=!0,L=b[0],ee=0;ee<b.length;ee++){var de=b[ee],ye=rr(de),ie=es(de)===Zi,le=[On,Kn].indexOf(ye)>=0,ue=le?"width":"height",Me=Ks(e,{placement:de,boundary:d,rootBoundary:u,altBoundary:f,padding:c}),R=le?ie?Vn:Cn:ie?Kn:On;C[ue]>w[ue]&&(R=Co(R));var A=Co(R),F=[];if(s&&F.push(Me[ye]<=0),a&&F.push(Me[R]<=0,Me[A]<=0),F.every(function(te){return te})){L=de,P=!1;break}D.set(de,F)}if(P)for(var Z=h?3:1,ce=function(U){var Se=b.find(function(nt){var Ge=D.get(nt);if(Ge)return Ge.slice(0,U).every(function(ge){return ge})});if(Se)return L=Se,"break"},_e=Z;_e>0;_e--){var se=ce(_e);if(se==="break")break}e.placement!==L&&(e.modifiersData[r]._skip=!0,e.placement=L,e.reset=!0)}}const gS={name:"flip",enabled:!0,phase:"main",fn:hS,requiresIfExists:["offset"],data:{_skip:!1}};function xf(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Ef(n){return[On,Vn,Kn,Cn].some(function(e){return n[e]>=0})}function mS(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Ks(e,{elementContext:"reference"}),a=Ks(e,{altBoundary:!0}),l=xf(o,r),c=xf(a,i,s),d=Ef(l),u=Ef(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}const bS={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mS};function yS(n,e,t){var r=rr(n),i=[Cn,On].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Cn,Vn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function vS(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=xg.reduce(function(d,u){return d[u]=yS(u,e.rects,s),d},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const _S={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vS};function xS(n){var e=n.state,t=n.name;e.modifiersData[t]=Og({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const ES={name:"popperOffsets",enabled:!0,phase:"read",fn:xS,data:{}};function kS(n){return n==="x"?"y":"x"}function wS(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,d=t.altBoundary,u=t.padding,f=t.tether,p=f===void 0?!0:f,h=t.tetherOffset,g=h===void 0?0:h,m=Ks(e,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),y=rr(e.placement),S=es(e.placement),M=!S,b=pd(y),C=kS(b),w=e.modifiersData.popperOffsets,D=e.rects.reference,P=e.rects.popper,L=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,ee=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),de=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ye={x:0,y:0};if(w){if(s){var ie,le=b==="y"?On:Cn,ue=b==="y"?Kn:Vn,Me=b==="y"?"height":"width",R=w[b],A=R+m[le],F=R-m[ue],Z=p?-P[Me]/2:0,ce=S===Zi?D[Me]:P[Me],_e=S===Zi?-P[Me]:-D[Me],se=e.elements.arrow,te=p&&se?fd(se):{width:0,height:0},U=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Sg(),Se=U[le],nt=U[ue],Ge=Ss(0,D[Me],te[Me]),ge=M?D[Me]/2-Z-Ge-Se-ee.mainAxis:ce-Ge-Se-ee.mainAxis,qe=M?-D[Me]/2+Z+Ge+nt+ee.mainAxis:_e+Ge+nt+ee.mainAxis,pt=e.elements.arrow&&Qs(e.elements.arrow),ne=pt?b==="y"?pt.clientTop||0:pt.clientLeft||0:0,xe=(ie=de?.[b])!=null?ie:0,Re=R+ge-xe-ne,Xe=R+qe-xe,Ue=Ss(p?ka(A,Re):A,R,p?mi(F,Xe):F);w[b]=Ue,ye[b]=Ue-R}if(a){var ot,ht=b==="x"?On:Cn,oe=b==="x"?Kn:Vn,at=w[C],He=C==="y"?"height":"width",Oe=at+m[ht],Fe=at-m[oe],Ne=[On,Cn].indexOf(y)!==-1,rt=(ot=de?.[C])!=null?ot:0,dt=Ne?Oe:at-D[He]-P[He]-rt+ee.altAxis,$=Ne?at+D[He]+P[He]-rt-ee.altAxis:Fe,V=p&&Ne?jw(dt,at,$):Ss(p?dt:Oe,at,p?$:Fe);w[C]=V,ye[C]=V-at}e.modifiersData[r]=ye}}const SS={name:"preventOverflow",enabled:!0,phase:"main",fn:wS,requiresIfExists:["offset"]};function NS(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function TS(n){return n===In(n)||!Hn(n)?hd(n):NS(n)}function MS(n){var e=n.getBoundingClientRect(),t=Xi(e.width)/n.offsetWidth||1,r=Xi(e.height)/n.offsetHeight||1;return t!==1||r!==1}function OS(n,e,t){t===void 0&&(t=!1);var r=Hn(e),i=Hn(e)&&MS(e),s=Xr(e),o=Qi(n,i,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((ar(e)!=="body"||md(s))&&(a=TS(e)),Hn(e)?(l=Qi(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=gd(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function CS(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function AS(n){var e=CS(n);return Kw.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function RS(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function IS(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var kf={placement:"bottom",modifiers:[],strategy:"absolute"};function wf(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function DS(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?kf:i;return function(a,l,c){c===void 0&&(c=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},kf,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},u=[],f=!1,p={state:d,setOptions:function(y){var S=typeof y=="function"?y(d.options):y;g(),d.options=Object.assign({},s,d.options,S),d.scrollParents={reference:ki(a)?Ns(a):a.contextElement?Ns(a.contextElement):[],popper:Ns(l)};var M=AS(IS([].concat(r,d.options.modifiers)));return d.orderedModifiers=M.filter(function(b){return b.enabled}),h(),p.update()},forceUpdate:function(){if(!f){var y=d.elements,S=y.reference,M=y.popper;if(wf(S,M)){d.rects={reference:OS(S,Qs(M),d.options.strategy==="fixed"),popper:fd(M)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(ee){return d.modifiersData[ee.name]=Object.assign({},ee.data)});for(var b=0;b<d.orderedModifiers.length;b++){if(d.reset===!0){d.reset=!1,b=-1;continue}var C=d.orderedModifiers[b],w=C.fn,D=C.options,P=D===void 0?{}:D,L=C.name;typeof w=="function"&&(d=w({state:d,options:P,name:L,instance:p})||d)}}}},update:RS(function(){return new Promise(function(m){p.forceUpdate(),m(d)})}),destroy:function(){g(),f=!0}};if(!wf(a,l))return p;p.setOptions(c).then(function(m){!f&&c.onFirstUpdate&&c.onFirstUpdate(m)});function h(){d.orderedModifiers.forEach(function(m){var y=m.name,S=m.options,M=S===void 0?{}:S,b=m.effect;if(typeof b=="function"){var C=b({state:d,name:y,instance:p,options:M}),w=function(){};u.push(C||w)}})}function g(){u.forEach(function(m){return m()}),u=[]}return p}}var LS=[iS,ES,nS,Eg,_S,gS,SS,Xw,bS],PS=DS({defaultModifiers:LS}),BS="tippy-box",Cg="tippy-content",$S="tippy-backdrop",Ag="tippy-arrow",Rg="tippy-svg-arrow",ri={passive:!0,capture:!0},Ig=function(){return document.body};function Il(n,e,t){if(Array.isArray(n)){var r=n[e];return r??(Array.isArray(t)?t[e]:t)}return n}function bd(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function Dg(n,e){return typeof n=="function"?n.apply(void 0,e):n}function Sf(n,e){if(e===0)return n;var t;return function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)}}function zS(n){return n.split(/\s+/).filter(Boolean)}function zi(n){return[].concat(n)}function Nf(n,e){n.indexOf(e)===-1&&n.push(e)}function FS(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function US(n){return n.split("-")[0]}function wa(n){return[].slice.call(n)}function Tf(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function Ts(){return document.createElement("div")}function Va(n){return["Element","Fragment"].some(function(e){return bd(n,e)})}function HS(n){return bd(n,"NodeList")}function KS(n){return bd(n,"MouseEvent")}function VS(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function WS(n){return Va(n)?[n]:HS(n)?wa(n):Array.isArray(n)?n:wa(document.querySelectorAll(n))}function Dl(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Mf(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function GS(n){var e,t=zi(n),r=t[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function qS(n,e){var t=e.clientX,r=e.clientY;return n.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,l=a.interactiveBorder,c=US(o.placement),d=o.modifiersData.offset;if(!d)return!0;var u=c==="bottom"?d.top.y:0,f=c==="top"?d.bottom.y:0,p=c==="right"?d.left.x:0,h=c==="left"?d.right.x:0,g=s.top-r+u>l,m=r-s.bottom-f>l,y=s.left-t+p>l,S=t-s.right-h>l;return g||m||y||S})}function Ll(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){n[r](i,t)})}function Of(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var tr={isTouch:!1},Cf=0;function jS(){tr.isTouch||(tr.isTouch=!0,window.performance&&document.addEventListener("mousemove",Lg))}function Lg(){var n=performance.now();n-Cf<20&&(tr.isTouch=!1,document.removeEventListener("mousemove",Lg)),Cf=n}function YS(){var n=document.activeElement;if(VS(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function JS(){document.addEventListener("touchstart",jS,ri),window.addEventListener("blur",YS)}var ZS=typeof window<"u"&&typeof document<"u",XS=ZS?!!window.msCrypto:!1,QS={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},eN={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},qn=Object.assign({appendTo:Ig,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},QS,eN),tN=Object.keys(qn),nN=function(e){var t=Object.keys(e);t.forEach(function(r){qn[r]=e[r]})};function Pg(n){var e=n.plugins||[],t=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=n[s]!==void 0?n[s]:(a=qn[s])!=null?a:o}return r},{});return Object.assign({},n,t)}function rN(n,e){var t=e?Object.keys(Pg(Object.assign({},qn,{plugins:e}))):tN,r=t.reduce(function(i,s){var o=(n.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function Af(n,e){var t=Object.assign({},e,{content:Dg(e.content,[n])},e.ignoreAttributes?{}:rN(n,e.plugins));return t.aria=Object.assign({},qn.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var iN=function(){return"innerHTML"};function yc(n,e){n[iN()]=e}function Rf(n){var e=Ts();return n===!0?e.className=Ag:(e.className=Rg,Va(n)?e.appendChild(n):yc(e,n)),e}function If(n,e){Va(e.content)?(yc(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?yc(n,e.content):n.textContent=e.content)}function vc(n){var e=n.firstElementChild,t=wa(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(Cg)}),arrow:t.find(function(r){return r.classList.contains(Ag)||r.classList.contains(Rg)}),backdrop:t.find(function(r){return r.classList.contains($S)})}}function Bg(n){var e=Ts(),t=Ts();t.className=BS,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=Ts();r.className=Cg,r.setAttribute("data-state","hidden"),If(r,n.props),e.appendChild(t),t.appendChild(r),i(n.props,n.props);function i(s,o){var a=vc(e),l=a.box,c=a.content,d=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&If(c,n.props),o.arrow?d?s.arrow!==o.arrow&&(l.removeChild(d),l.appendChild(Rf(o.arrow))):l.appendChild(Rf(o.arrow)):d&&l.removeChild(d)}return{popper:e,onUpdate:i}}Bg.$$tippy=!0;var sN=1,_o=[],Pl=[];function oN(n,e){var t=Af(n,Object.assign({},qn,Pg(Tf(e)))),r,i,s,o=!1,a=!1,l=!1,c=!1,d,u,f,p=[],h=Sf(Re,t.interactiveDebounce),g,m=sN++,y=null,S=FS(t.plugins),M={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:m,reference:n,popper:Ts(),popperInstance:y,props:t,state:M,plugins:S,clearDelayTimeouts:dt,setProps:$,setContent:V,show:fe,hide:Pe,hideWithInteractivity:lt,enable:Ne,disable:rt,unmount:ut,destroy:At};if(!t.render)return b;var C=t.render(b),w=C.popper,D=C.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+b.id,b.popper=w,n._tippy=b,w._tippy=b;var P=S.map(function(I){return I.fn(b)}),L=n.hasAttribute("aria-expanded");return pt(),Z(),R(),A("onCreate",[b]),t.showOnCreate&&Oe(),w.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&le().addEventListener("mousemove",h)}),b;function ee(){var I=b.props.touch;return Array.isArray(I)?I:[I,0]}function de(){return ee()[0]==="hold"}function ye(){var I;return!!((I=b.props.render)!=null&&I.$$tippy)}function ie(){return g||n}function le(){var I=ie().parentNode;return I?GS(I):document}function ue(){return vc(w)}function Me(I){return b.state.isMounted&&!b.state.isVisible||tr.isTouch||d&&d.type==="focus"?0:Il(b.props.delay,I?0:1,qn.delay)}function R(I){I===void 0&&(I=!1),w.style.pointerEvents=b.props.interactive&&!I?"":"none",w.style.zIndex=""+b.props.zIndex}function A(I,j,me){if(me===void 0&&(me=!0),P.forEach(function($e){$e[I]&&$e[I].apply($e,j)}),me){var je;(je=b.props)[I].apply(je,j)}}function F(){var I=b.props.aria;if(I.content){var j="aria-"+I.content,me=w.id,je=zi(b.props.triggerTarget||n);je.forEach(function($e){var G=$e.getAttribute(j);if(b.state.isVisible)$e.setAttribute(j,G?G+" "+me:me);else{var J=G&&G.replace(me,"").trim();J?$e.setAttribute(j,J):$e.removeAttribute(j)}})}}function Z(){if(!(L||!b.props.aria.expanded)){var I=zi(b.props.triggerTarget||n);I.forEach(function(j){b.props.interactive?j.setAttribute("aria-expanded",b.state.isVisible&&j===ie()?"true":"false"):j.removeAttribute("aria-expanded")})}}function ce(){le().removeEventListener("mousemove",h),_o=_o.filter(function(I){return I!==h})}function _e(I){if(!(tr.isTouch&&(l||I.type==="mousedown"))){var j=I.composedPath&&I.composedPath()[0]||I.target;if(!(b.props.interactive&&Of(w,j))){if(zi(b.props.triggerTarget||n).some(function(me){return Of(me,j)})){if(tr.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else A("onClickOutside",[b,I]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),a=!0,setTimeout(function(){a=!1}),b.state.isMounted||Se())}}}function se(){l=!0}function te(){l=!1}function U(){var I=le();I.addEventListener("mousedown",_e,!0),I.addEventListener("touchend",_e,ri),I.addEventListener("touchstart",te,ri),I.addEventListener("touchmove",se,ri)}function Se(){var I=le();I.removeEventListener("mousedown",_e,!0),I.removeEventListener("touchend",_e,ri),I.removeEventListener("touchstart",te,ri),I.removeEventListener("touchmove",se,ri)}function nt(I,j){ge(I,function(){!b.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&j()})}function Ge(I,j){ge(I,j)}function ge(I,j){var me=ue().box;function je($e){$e.target===me&&(Ll(me,"remove",je),j())}if(I===0)return j();Ll(me,"remove",u),Ll(me,"add",je),u=je}function qe(I,j,me){me===void 0&&(me=!1);var je=zi(b.props.triggerTarget||n);je.forEach(function($e){$e.addEventListener(I,j,me),p.push({node:$e,eventType:I,handler:j,options:me})})}function pt(){de()&&(qe("touchstart",xe,{passive:!0}),qe("touchend",Xe,{passive:!0})),zS(b.props.trigger).forEach(function(I){if(I!=="manual")switch(qe(I,xe),I){case"mouseenter":qe("mouseleave",Xe);break;case"focus":qe(XS?"focusout":"blur",Ue);break;case"focusin":qe("focusout",Ue);break}})}function ne(){p.forEach(function(I){var j=I.node,me=I.eventType,je=I.handler,$e=I.options;j.removeEventListener(me,je,$e)}),p=[]}function xe(I){var j,me=!1;if(!(!b.state.isEnabled||ot(I)||a)){var je=((j=d)==null?void 0:j.type)==="focus";d=I,g=I.currentTarget,Z(),!b.state.isVisible&&KS(I)&&_o.forEach(function($e){return $e(I)}),I.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||o)&&b.props.hideOnClick!==!1&&b.state.isVisible?me=!0:Oe(I),I.type==="click"&&(o=!me),me&&!je&&Fe(I)}}function Re(I){var j=I.target,me=ie().contains(j)||w.contains(j);if(!(I.type==="mousemove"&&me)){var je=He().concat(w).map(function($e){var G,J=$e._tippy,Ce=(G=J.popperInstance)==null?void 0:G.state;return Ce?{popperRect:$e.getBoundingClientRect(),popperState:Ce,props:t}:null}).filter(Boolean);qS(je,I)&&(ce(),Fe(I))}}function Xe(I){var j=ot(I)||b.props.trigger.indexOf("click")>=0&&o;if(!j){if(b.props.interactive){b.hideWithInteractivity(I);return}Fe(I)}}function Ue(I){b.props.trigger.indexOf("focusin")<0&&I.target!==ie()||b.props.interactive&&I.relatedTarget&&w.contains(I.relatedTarget)||Fe(I)}function ot(I){return tr.isTouch?de()!==I.type.indexOf("touch")>=0:!1}function ht(){oe();var I=b.props,j=I.popperOptions,me=I.placement,je=I.offset,$e=I.getReferenceClientRect,G=I.moveTransition,J=ye()?vc(w).arrow:null,Ce=$e?{getBoundingClientRect:$e,contextElement:$e.contextElement||ie()}:n,ze={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(T){var B=T.state;if(ye()){var be=ue(),Ye=be.box;["placement","reference-hidden","escaped"].forEach(function(Be){Be==="placement"?Ye.setAttribute("data-placement",B.placement):B.attributes.popper["data-popper-"+Be]?Ye.setAttribute("data-"+Be,""):Ye.removeAttribute("data-"+Be)}),B.attributes.popper={}}}},Ee=[{name:"offset",options:{offset:je}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!G}},ze];ye()&&J&&Ee.push({name:"arrow",options:{element:J,padding:3}}),Ee.push.apply(Ee,j?.modifiers||[]),b.popperInstance=PS(Ce,w,Object.assign({},j,{placement:me,onFirstUpdate:f,modifiers:Ee}))}function oe(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function at(){var I=b.props.appendTo,j,me=ie();b.props.interactive&&I===Ig||I==="parent"?j=me.parentNode:j=Dg(I,[me]),j.contains(w)||j.appendChild(w),b.state.isMounted=!0,ht()}function He(){return wa(w.querySelectorAll("[data-tippy-root]"))}function Oe(I){b.clearDelayTimeouts(),I&&A("onTrigger",[b,I]),U();var j=Me(!0),me=ee(),je=me[0],$e=me[1];tr.isTouch&&je==="hold"&&$e&&(j=$e),j?r=setTimeout(function(){b.show()},j):b.show()}function Fe(I){if(b.clearDelayTimeouts(),A("onUntrigger",[b,I]),!b.state.isVisible){Se();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(I.type)>=0&&o)){var j=Me(!1);j?i=setTimeout(function(){b.state.isVisible&&b.hide()},j):s=requestAnimationFrame(function(){b.hide()})}}function Ne(){b.state.isEnabled=!0}function rt(){b.hide(),b.state.isEnabled=!1}function dt(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function $(I){if(!b.state.isDestroyed){A("onBeforeUpdate",[b,I]),ne();var j=b.props,me=Af(n,Object.assign({},j,Tf(I),{ignoreAttributes:!0}));b.props=me,pt(),j.interactiveDebounce!==me.interactiveDebounce&&(ce(),h=Sf(Re,me.interactiveDebounce)),j.triggerTarget&&!me.triggerTarget?zi(j.triggerTarget).forEach(function(je){je.removeAttribute("aria-expanded")}):me.triggerTarget&&n.removeAttribute("aria-expanded"),Z(),R(),D&&D(j,me),b.popperInstance&&(ht(),He().forEach(function(je){requestAnimationFrame(je._tippy.popperInstance.forceUpdate)})),A("onAfterUpdate",[b,I])}}function V(I){b.setProps({content:I})}function fe(){var I=b.state.isVisible,j=b.state.isDestroyed,me=!b.state.isEnabled,je=tr.isTouch&&!b.props.touch,$e=Il(b.props.duration,0,qn.duration);if(!(I||j||me||je)&&!ie().hasAttribute("disabled")&&(A("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,ye()&&(w.style.visibility="visible"),R(),U(),b.state.isMounted||(w.style.transition="none"),ye()){var G=ue(),J=G.box,Ce=G.content;Dl([J,Ce],0)}f=function(){var Ee;if(!(!b.state.isVisible||c)){if(c=!0,w.offsetHeight,w.style.transition=b.props.moveTransition,ye()&&b.props.animation){var x=ue(),T=x.box,B=x.content;Dl([T,B],$e),Mf([T,B],"visible")}F(),Z(),Nf(Pl,b),(Ee=b.popperInstance)==null||Ee.forceUpdate(),A("onMount",[b]),b.props.animation&&ye()&&Ge($e,function(){b.state.isShown=!0,A("onShown",[b])})}},at()}}function Pe(){var I=!b.state.isVisible,j=b.state.isDestroyed,me=!b.state.isEnabled,je=Il(b.props.duration,1,qn.duration);if(!(I||j||me)&&(A("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,c=!1,o=!1,ye()&&(w.style.visibility="hidden"),ce(),Se(),R(!0),ye()){var $e=ue(),G=$e.box,J=$e.content;b.props.animation&&(Dl([G,J],je),Mf([G,J],"hidden"))}F(),Z(),b.props.animation?ye()&&nt(je,b.unmount):b.unmount()}}function lt(I){le().addEventListener("mousemove",h),Nf(_o,h),h(I)}function ut(){b.state.isVisible&&b.hide(),b.state.isMounted&&(oe(),He().forEach(function(I){I._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w),Pl=Pl.filter(function(I){return I!==b}),b.state.isMounted=!1,A("onHidden",[b]))}function At(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),ne(),delete n._tippy,b.state.isDestroyed=!0,A("onDestroy",[b]))}}function eo(n,e){e===void 0&&(e={});var t=qn.plugins.concat(e.plugins||[]);JS();var r=Object.assign({},e,{plugins:t}),i=WS(n),s=i.reduce(function(o,a){var l=a&&oN(a,r);return l&&o.push(l),o},[]);return Va(n)?s[0]:s}eo.defaultProps=qn;eo.setDefaultProps=nN;eo.currentInput=tr;Object.assign({},Eg,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});eo.setDefaultProps({render:Bg});class aN{getTextContent(e){return Sh(e,{textSerializers:Wc(this.editor.schema)})}constructor({editor:e,element:t,view:r,tippyOptions:i={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:o,state:a})=>{const{selection:l}=a,{$anchor:c,empty:d}=l,u=c.depth===1,f=c.parent.isTextblock&&!c.parent.type.spec.code&&!c.parent.textContent&&c.parent.childCount===0&&!this.getTextContent(c.parent);return!(!o.hasFocus()||!d||!u||!f||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:o})=>{var a;if(this.preventHide){this.preventHide=!1;return}o?.relatedTarget&&(!((a=this.element.parentNode)===null||a===void 0)&&a.contains(o.relatedTarget))||o?.relatedTarget!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=o=>{this.blurHandler({event:o})},this.editor=e,this.element=t,this.view=r,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.element.tabIndex=0,!(this.tippy||!t)&&(this.tippy=eo(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){var r,i,s;const{state:o}=e,{doc:a,selection:l}=o,{from:c,to:d}=l;if(t&&t.doc.eq(a)&&t.selection.eq(l))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:o,oldState:t}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>V_(e,c,d))}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const lN=n=>new Ht({key:typeof n.pluginKey=="string"?new hn(n.pluginKey):n.pluginKey,view:e=>new aN({view:e,...n})}),cN=an.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[lN({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});function dN(n){return cN.configure({pluginKey:"floatingLinkEdit",element:n,shouldShow:({editor:e})=>e.isActive("link"),tippyOptions:{placement:"top-start",zIndex:0,popperOptions:{placement:"top-start",strategy:"fixed"},appendTo:()=>document.body}})}var uN=Vs('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path fill="currentColor" d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7L86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256L41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3l105.4 105.3c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256z"></path></svg>');function fN(n,e){const t=Lt(e,"size",3,.7),r=Lt(e,"class",3,"");var i=uN();Ve(()=>{Nt(i,"width",`${t()??""}em`),Nt(i,"height",`${t()??""}em`),vt(i,0,kc(r()))}),W(n,i)}var pN=Vs('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7l233.4-233.3c12.5-12.5 32.8-12.5 45.3 0z"></path></svg>');function hN(n,e){const t=Lt(e,"size",3,.7),r=Lt(e,"class",3,"");var i=pN();Ve(()=>{Nt(i,"width",`${t()??""}em`),Nt(i,"height",`${t()??""}em`),vt(i,0,kc(r()))}),W(n,i)}var gN=Vs('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32zM80 32C35.8 32 0 67.8 0 112v320c0 44.2 35.8 80 80 80h320c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v112c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16h112c17.7 0 32-14.3 32-32s-14.3-32-32-32z"></path></svg>');function mN(n,e){const t=Lt(e,"size",3,.7),r=Lt(e,"class",3,"");var i=gN();Ve(()=>{Nt(i,"width",`${t()??""}em`),Nt(i,"height",`${t()??""}em`),vt(i,0,kc(r()))}),W(n,i)}var bN=De('<div class="tipex-floating-group"><button type="button" class="tipex-floating-button" aria-label="Open link in new tab"><!></button> <button type="button" class="tipex-floating-button" aria-label="Accept link"><!></button> <button type="button" class="tipex-floating-button" aria-label="Cancel link"><!></button></div>');function yN(n,e){lr(e,!0);let t=Lt(e,"floatingRef",15);function r(){e.tipex instanceof No&&e.tipex.chain().focus(e.tipex.state.selection.$anchor.pos-e.tipex.state.selection.$anchor.parentOffset).run()}function i(){e.tipex instanceof No&&e.tipex.chain().focus().unsetLink().run()}function s(){e.tipex instanceof No&&window.open(e.tipex.getAttributes("link").href,"popup","width=700,height=900,location=0,top=0,right=0")}let o=Hr(!0);const a=zl(()=>`display: ${E(o)?"none":"flex"}`);Sa(()=>{N(o,!1)});var l=bN(),c=_(l);c.__click=s;var d=_(c);mN(d,{class:"h-3 w-3"}),v(c);var u=k(c,2);u.__click=r;var f=_(u);hN(f,{class:"h-3 w-3"}),v(u);var p=k(u,2);p.__click=i;var h=_(p);fN(h,{class:"h-3 w-3"}),v(p),v(l),Ao(l,g=>t(g),()=>t()),Ve(()=>Na(l,E(a))),Ii(3,l,()=>ds),W(n,l),cr()}qs(["click"]);var vN=De('<!> <div><div class="tipex-editor-wrap"><!> <div class="tipex-editor-section"></div> <!> <!></div></div>',1);function _N(n,e){lr(e,!0);let t=Lt(e,"extensions",27,()=>Pf(Mk)),r=Lt(e,"tipex",15),i=Lt(e,"floating",3,!1),s=Lt(e,"oncreate",3,()=>{}),o=Lt(e,"ondestroy",3,()=>{}),a=Lt(e,"onupdate",3,()=>{}),l=Lt(e,"body",3,""),c=Lt(e,"class",3,""),d=Lt(e,"style",3,""),u=Lt(e,"focal",3,!0),f=Lt(e,"focused",15,!1),p=Lt(e,"autofocus",3,!0),h=Lt(e,"ctxId",19,()=>"_tipex"),g=Zg(e,["$$slots","$$events","$$legacy","extensions","tipex","floating","oncreate","ondestroy","onupdate","body","class","style","focal","focused","autofocus","head","controlComponent","foot","ctxId"]);const m=zl(()=>g["!focal"]===void 0?u():!g["!focal"]),y=zl(()=>g["!floating"]===void 0?i():!g["!floating"]);function S(){f(!!(E(C)&&E(C).contains(document.activeElement)))}let M=Hr(void 0),b=Hr(void 0),C=Hr(void 0);Yg(Q(()=>h()),r()),Sa(()=>{E(y)&&!t().find(A=>A.name==="floatingMenu")&&E(M)&&t().push(dN(E(M))),r(new No({element:E(b),extensions:[Sw.configure({codeBlock:!1}),...t()],content:l(),onTransaction({editor:A}){r(void 0),r(A)},autofocus:p(),onCreate:s(),onDestroy:o(),onUpdate:a()}))});var w=vN();ct("focusin",xd,S),ct("focusout",xd,S);var D=it(w);{var P=A=>{yN(A,{get tipex(){return r()},get floatingRef(){return E(M)},set floatingRef(F){N(M,F,!0)}})};Te(D,A=>{E(y)&&A(P)})}var L=k(D,2);let ee;var de=_(L),ye=_(de);Eo(ye,()=>e.head??$l,r);var ie=k(ye,2);Ao(ie,A=>N(b,A),()=>E(b));var le=k(ie,2);{var ue=A=>{var F=kt(),Z=it(F);Eo(Z,()=>e.controlComponent,r),W(A,F)},Me=A=>{var F=kt(),Z=it(F);{var ce=_e=>{Aw(_e,{get tipex(){return r()}})};Te(Z,_e=>{e.controlComponent!==null&&_e(ce)},!0)}W(A,F)};Te(le,A=>{e.controlComponent?A(ue):A(Me,!1)})}var R=k(le,2);Eo(R,()=>e.foot??$l,r),v(de),v(L),Ao(L,A=>N(C,A),()=>E(C)),Ve(()=>{ee=vt(L,1,`tipex-editor ${c()??""}`,null,ee,{focused:f(),focal:E(m)}),Na(L,d())}),W(n,w),cr()}var xN=De('<div class="fixed inset-0 bg-black/50 flex items-center justify-center z-[100] p-4 backdrop-blur-sm" role="presentation"><div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full h-[85vh] flex flex-col animate-modal-in overflow-hidden svelte-y9kkiw" role="dialog" aria-modal="true" aria-labelledby="quicknotes-title" tabindex="-1"><div class="flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg"><!></div> <div><h3 id="quicknotes-title" class="text-lg font-semibold text-gray-900 dark:text-white"> </h3> <p class="text-xs text-gray-500 dark:text-gray-400"> </p></div></div> <div class="flex items-center gap-2"><button class="p-2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all"><!></button> <button class="p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all"><!></button> <div class="w-px h-6 bg-gray-200 dark:bg-gray-700 mx-1"></div> <button class="p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"><!></button></div></div> <div class="flex-1 overflow-y-auto p-4 tipex-container prose dark:prose-invert max-w-none"><!></div> <div class="px-5 py-2 border-t border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-800/50"><div class="flex items-center gap-2"><span class="inline-block w-2 h-2 rounded-full bg-green-500 animate-pulse"></span> <span class="text-[10px] text-gray-400 uppercase tracking-widest font-medium">Auto-saved</span></div> <div class="text-[10px] text-gray-400"> </div></div></div></div>');function EN(n,e){lr(e,!0);const t=()=>Sn(el,"$quickNotes",i),r=()=>Sn(js,"$_",i),[i,s]=ts(),o=Gs();let a=Hr(!1),l=Hr(void 0),c=Hr(Pf(t()));function d(){o("close")}function u(){confirm(r()("quickNotes__clear_confirm")||"ต้องการล้างบันทึกทั้งหมดหรือไม่?")&&(el.clear(),N(c,""))}async function f(){try{await navigator.clipboard.writeText(t()),N(a,!0),setTimeout(()=>{N(a,!1)},2e3)}catch(U){console.error("Failed to copy text: ",U)}}function p(U){U.key==="Escape"&&d()}const h=U=>{const Se=U.editor.getHTML();el.set(Se)};var g=xN();g.__click=U=>{U.target===U.currentTarget&&d()};var m=_(g);m.__keydown=p;var y=_(m),S=_(y),M=_(S),b=_(M);zf(b,{class:"text-indigo-600 dark:text-indigo-400",size:20}),v(M);var C=k(M,2),w=_(C),D=_(w,!0);v(w);var P=k(w,2),L=_(P,!0);v(P),v(C),v(S);var ee=k(S,2),de=_(ee);de.__click=f;var ye=_(de);{var ie=U=>{Uf(U,{size:18,class:"text-green-500"})},le=U=>{cm(U,{size:18})};Te(ye,U=>{E(a)?U(ie):U(le,!1)})}v(de);var ue=k(de,2);ue.__click=u;var Me=_(ue);wc(Me,{size:18}),v(ue);var R=k(ue,4);R.__click=d;var A=_(R);bi(A,{size:20}),v(R),v(ee),v(y);var F=k(y,2),Z=_(F);{var ce=U=>{_N(U,{get body(){return E(c)},onupdate:h,floating:!0,focal:!0,class:"h-full border-none outline-none",get tipex(){return E(l)},set tipex(Se){N(l,Se,!0)}})};Te(Z,U=>{U(ce)})}v(F);var _e=k(F,2),se=k(_(_e),2),te=_(se);v(se),v(_e),v(m),v(g),Ve((U,Se,nt,Ge,ge)=>{re(D,U),re(L,Se),Nt(de,"title",nt),Nt(ue,"title",Ge),re(te,`${t().length??""} ${ge??""} | Notion-style Editor`)},[()=>r()("quickNotes__title")||"สมุดทดด่วน",()=>r()("quickNotes__subtitle")||"บันทึกไอเดียหรือข้อความชั่วคราว",()=>r()("quickNotes__copy")||"คัดลอกทั้งหมด",()=>r()("quickNotes__clear")||"ล้างทั้งหมด",()=>r()("quickNotes__characters")||"ตัวอักษร"]),W(n,g),cr(),s()}qs(["click","keydown"]);var kN=De('<div class="p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl text-red-600 dark:text-red-400 text-sm font-medium"> </div>'),wN=De('<div class="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>'),SN=De('<div class="fixed inset-0 z-[1000] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 transition-all duration-300"><div class="bg-white dark:bg-gray-900 w-full max-w-xl rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col"><div class="px-6 py-4 border-b border-gray-100 dark:border-gray-800 flex items-center justify-between"><div><h3 class="text-lg font-bold text-gray-900 dark:text-white"> </h3> <p class="text-xs text-gray-500 dark:text-gray-400"> </p></div> <button class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400 transition-colors"><!></button></div> <div class="flex-1 overflow-y-auto p-6"><form class="space-y-6"><!> <div class="space-y-4"><div><label for="email" class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1.5 flex items-center gap-1.5"><!> </label> <div class="relative"><input type="email" id="email" disabled class="w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-500 dark:text-gray-500 text-sm cursor-not-allowed"/> <div class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"><!></div></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label for="firstName" class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1.5"> </label> <div class="relative group"><div class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors"><!></div> <input type="text" id="firstName" class="w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm" placeholder="John"/></div></div> <div><label for="lastName" class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1.5"> </label> <div class="relative group"><div class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors"><!></div> <input type="text" id="lastName" class="w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm" placeholder="Doe"/></div></div></div> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label for="nickname" class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1.5"> </label> <div class="relative group"><div class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors"><!></div> <input type="text" id="nickname" class="w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm" placeholder="Johnny"/></div></div> <div><label for="position" class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1.5"> </label> <div class="relative group"><div class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors"><!></div> <input type="text" id="position" class="w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm" placeholder="Developer"/></div></div></div> <div><label for="discordId" class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1.5"> </label> <div class="relative group"><div class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.196.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.419 0 1.334-.956 2.419-2.157 2.419zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.419 0 1.334-.946 2.419-2.157 2.419z"></path></svg></div> <input type="text" id="discordId" class="w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm" placeholder="user#1234"/></div></div> <hr class="border-gray-100 dark:border-gray-800 my-4"/> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"><div><label for="password" class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1.5"> </label> <div class="relative group"><div class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors"><!></div> <input type="password" id="password" class="w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm" placeholder="••••••••"/></div></div> <div><label for="confirmPassword" class="block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1.5"> </label> <div class="relative group"><div class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors"><!></div> <input type="password" id="confirmPassword" class="w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm" placeholder="••••••••"/></div></div></div></div> <div class="pt-4"><button type="submit" class="w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-400 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-indigo-600/20 active:scale-[0.98]"><!> </button></div></form></div></div></div>');function NN(n,e){lr(e,!1);const t=()=>Sn(Ro,"$user",i),r=()=>Sn(js,"$_",i),[i,s]=ts(),o=Gs();let a=Lt(e,"open",8,!1),l=we(!1),c=we(""),d=we(t()?.profile?.first_name||""),u=we(t()?.profile?.last_name||""),f=we(t()?.profile?.nickname||""),p=we(t()?.profile?.position||""),h=we(t()?.discord_id||""),g=we(""),m=we("");async function y(){if(E(g)&&E(g)!==E(m)){N(c,r()("profileModal__password_mismatch"));return}N(l,!0),N(c,"");try{const C={first_name:E(d),last_name:E(u),nickname:E(f),position:E(p),discord_id:E(h)};E(g)&&(C.password=E(g));const D=await(await $f.auth.updateMe(C)).json();D.success?(o("notify",{message:r()("profileModal__save_success"),type:"success"}),t()&&Ro.update(P=>P&&{...P,discord_id:E(h),profile:{...P.profile||{profile_id:"",user_id:P.user_id},first_name:E(d),last_name:E(u),nickname:E(f),position:E(p)}}),o("close")):N(c,D.error||r()("profileModal__save_error"))}catch(C){console.error("Update profile failed:",C),N(c,r()("profileModal__save_error"))}finally{N(l,!1)}}Ws();var S=kt(),M=it(S);{var b=C=>{var w=SN(),D=_(w),P=_(D),L=_(P),ee=_(L),de=_(ee,!0);v(ee);var ye=k(ee,2),ie=_(ye,!0);v(ye),v(L);var le=k(L,2),ue=_(le);bi(ue,{size:20}),v(le),v(P);var Me=k(P,2),R=_(Me),A=_(R);{var F=gt=>{var En=kN(),ur=_(En,!0);v(En),Ve(()=>re(ur,E(c))),W(gt,En)};Te(A,gt=>{E(c)&&gt(F)})}var Z=k(A,2),ce=_(Z),_e=_(ce),se=_(_e);vm(se,{size:12});var te=k(se);v(_e);var U=k(_e,2),Se=_(U);dn(Se);var nt=k(Se,2),Ge=_(nt);Za(Ge,{size:14}),v(nt),v(U),v(ce);var ge=k(ce,2),qe=_(ge),pt=_(qe),ne=_(pt,!0);v(pt);var xe=k(pt,2),Re=_(xe),Xe=_(Re);Od(Xe,{size:16}),v(Re);var Ue=k(Re,2);dn(Ue),v(xe),v(qe);var ot=k(qe,2),ht=_(ot),oe=_(ht,!0);v(ht);var at=k(ht,2),He=_(at),Oe=_(He);Od(Oe,{size:16}),v(He);var Fe=k(He,2);dn(Fe),v(at),v(ot),v(ge);var Ne=k(ge,2),rt=_(Ne),dt=_(rt),$=_(dt,!0);v(dt);var V=k(dt,2),fe=_(V),Pe=_(fe);km(Pe,{size:16}),v(fe);var lt=k(fe,2);dn(lt),v(V),v(rt);var ut=k(rt,2),At=_(ut),I=_(At,!0);v(At);var j=k(At,2),me=_(j),je=_(me);Tm(je,{size:16}),v(me);var $e=k(me,2);dn($e),v(j),v(ut),v(Ne);var G=k(Ne,2),J=_(G),Ce=_(J,!0);v(J);var ze=k(J,2),Ee=k(_(ze),2);dn(Ee),v(ze),v(G);var x=k(G,4),T=_(x),B=_(T),be=_(B,!0);v(B);var Ye=k(B,2),Be=_(Ye),q=_(Be);Za(q,{size:16}),v(Be);var Y=k(Be,2);dn(Y),v(Ye),v(T);var ve=k(T,2),xt=_(ve),_t=_(xt,!0);v(xt);var Kt=k(xt,2),gn=_(Kt),Jt=_(gn);Za(Jt,{size:16}),v(gn);var mn=k(gn,2);dn(mn),v(Kt),v(ve),v(x),v(Z);var _n=k(Z,2),Dn=_(_n),jn=_(Dn);{var Yn=gt=>{var En=wN();W(gt,En)},dr=gt=>{Ff(gt,{size:18})};Te(jn,gt=>{E(l)?gt(Yn):gt(dr,!1)})}var xn=k(jn);v(Dn),v(_n),v(R),v(Me),v(D),v(w),Ve((gt,En,ur,fr,bn,pr,mt,bt,Tt,Rt,Ft)=>{re(de,gt),re(ie,En),re(te,` ${ur??""}`),Xg(Se,(t(),Q(()=>t()?.email))),re(ne,fr),re(oe,bn),re($,pr),re(I,mt),re(Ce,bt),re(be,Tt),re(_t,Rt),Dn.disabled=E(l),re(xn,` ${Ft??""}`)},[()=>(r(),Q(()=>r()("profileModal__title"))),()=>(r(),Q(()=>r()("profileModal__subtitle"))),()=>(r(),Q(()=>r()("profileModal__email_readonly"))),()=>(r(),Q(()=>r()("users__form_first_name"))),()=>(r(),Q(()=>r()("users__form_last_name"))),()=>(r(),Q(()=>r()("users__form_nickname"))),()=>(r(),Q(()=>r()("users__form_position"))),()=>(r(),Q(()=>r()("users__form_discord_id"))),()=>(r(),Q(()=>r()("profileModal__new_password"))),()=>(r(),Q(()=>r()("profileModal__confirm_password"))),()=>(r(),Q(()=>r()("profileModal__btn_save")))]),ct("click",le,()=>o("close")),un(Ue,()=>E(d),gt=>N(d,gt)),un(Fe,()=>E(u),gt=>N(u,gt)),un(lt,()=>E(f),gt=>N(f,gt)),un($e,()=>E(p),gt=>N(p,gt)),un(Ee,()=>E(h),gt=>N(h,gt)),un(Y,()=>E(g),gt=>N(g,gt)),un(mn,()=>E(m),gt=>N(m,gt)),ct("submit",R,Qg(y)),ct("click",w,Ec(()=>o("close"))),W(C,w)};Te(M,C=>{a()&&C(b)})}W(n,S),cr(),s()}var TN=De('<link rel="icon" type="image/svg+xml"/>'),MN=De('<div class="fixed inset-0 bg-white dark:bg-gray-900 flex flex-col items-center justify-center z-50 transition-colors"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"></div> <p class="text-gray-600 dark:text-gray-400"> </p> <p class="text-sm text-gray-400 dark:text-gray-500 mt-2"> </p></div>'),ON=De('<div class="fixed inset-0 bg-white dark:bg-gray-900 flex flex-col items-center justify-center z-50 p-4 text-center transition-colors"><div class="text-danger mb-4"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></div> <p class="text-gray-800 dark:text-gray-200 font-medium mb-2"> </p> <button class="mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors"> </button></div>'),CN=De('<main class="w-full h-screen overflow-hidden"><!></main>'),AN=De('<div class="fixed inset-0 z-10" role="presentation"></div> <div class="absolute right-0 mt-2 w-32 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 z-20 animate-fade-in"><button><span>🇹🇭</span> ไทย</button> <button><span>🇺🇸</span> English</button></div>',1),RN=De('<a class="p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" title="User Management"><!></a>'),IN=De('<div class="fixed inset-0 z-20"></div> <div class="absolute right-0 top-full mt-3 w-60 bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 py-2.5 z-30 animate-in fade-in zoom-in-95 duration-200 origin-top-right ring-1 ring-black/5 dark:ring-white/5"><div class="px-4 py-3 border-b border-gray-100 dark:border-gray-700/50 mb-1.5"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-full bg-indigo-500 flex items-center justify-center text-white font-bold text-sm shadow-sm ring-2 ring-indigo-500/10"> </div> <div class="flex flex-col overflow-hidden"><span class="text-sm font-bold text-gray-900 dark:text-white truncate"> </span> <span class="text-[10px] font-extrabold uppercase tracking-widest text-indigo-500 dark:text-indigo-400 mt-0.5"> </span></div></div></div> <div class="px-2 space-y-0.5"><button class="w-full flex items-center gap-2.5 px-3 py-2 rounded-xl text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors group/item text-left"><div class="p-1.5 rounded-lg bg-gray-50 dark:bg-gray-900 group-hover/item:bg-white dark:group-hover/item:bg-gray-800 transition-colors"><!></div> <span class="font-medium"> </span></button> <button class="w-full flex items-center gap-2.5 px-3 py-2 rounded-xl text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors group/logout"><div class="p-1.5 rounded-lg bg-red-50/50 dark:bg-red-900/10 group-hover/logout:bg-red-100 dark:group-hover/logout:bg-red-900/20 transition-colors"><!></div> <span class="font-medium"> </span></button></div> <div class="px-4 py-2 mt-1 border-t border-gray-100 dark:border-gray-700/50"><p class="text-[10px] text-gray-400 dark:text-gray-500 truncate"> </p></div></div>',1),DN=De('<div class="flex items-center gap-4 border-l border-gray-200 dark:border-gray-700 pl-4 h-10"><div class="relative"><button type="button" class="flex items-center group transition-transform active:scale-95" title="Account Settings"><div class="relative"><div class="w-9 h-9 rounded-full border-2 border-indigo-500 bg-white dark:bg-gray-800 flex items-center justify-center overflow-hidden transition-colors"><span class="text-xs font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-tighter"> </span></div> <div class="absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center"><div class="w-2 h-2 bg-green-500 rounded-full"></div></div></div></button> <!></div></div>'),LN=De('<a class="flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg text-sm font-semibold transition-all shadow-lg shadow-indigo-600/20 ring-1 ring-indigo-500/50"><!> Login</a>'),PN=De('<div class="fixed top-20 right-4 z-110 animate-fade-in"><div> </div></div>'),BN=De('<header class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-999 transition-colors"><div><div class="flex items-center justify-between h-16"><div class="flex items-center gap-2 sm:gap-4"><a class="flex items-center gap-2.5 sm:gap-3 group transition-all"><div class="p-2 bg-gradient-to-br from-indigo-500/20 to-purple-500/10 rounded-xl group-hover:scale-105 group-active:scale-95 transition-all ring-1 ring-indigo-500/20 shadow-sm"><img alt="Khun Phaen Logo" class="w-6 h-6 object-contain"/></div> <div class="hidden sm:block"><h1 class="text-lg font-black text-gray-900 dark:text-white tracking-tight leading-none group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"> </h1> <p class="text-[10px] text-gray-500 dark:text-gray-400 leading-tight mt-0.5 opacity-80 font-medium"> </p></div></a> <div class="hidden sm:block h-6 w-[1px] bg-gray-200 dark:bg-gray-700 mx-1"></div> <a href="https://github.com/fakduai-logistics-and-digital-platform/khun-phaen-tracker" target="_blank" rel="noopener noreferrer" class="hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/50 dark:bg-white/5 hover:bg-white dark:hover:bg-white/10 text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-white transition-all text-xs font-bold border border-gray-200 dark:border-gray-700 group/github shadow-sm backdrop-blur-md"><!> <span> </span> <div class="flex items-center gap-1.5 pl-2 ml-1 border-l border-gray-200 dark:border-gray-600"><div class="flex items-center gap-1 px-1.5 py-0.5 rounded-md bg-indigo-500/10 dark:bg-indigo-500/20 text-[10px] text-indigo-600 dark:text-indigo-400 font-black"><span class="text-xs text-amber-500 leading-none">★</span> </div></div></a> <a href="https://github.com/fakduai-logistics-and-digital-platform/khun-phaen-tracker" target="_blank" rel="noopener noreferrer" class="flex sm:hidden p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"><!></a></div> <div class="flex items-center gap-4"><div class="hidden sm:inline-flex items-center gap-2 bg-slate-800 dark:bg-slate-700 px-2.5 py-1 rounded-md"><span class="text-[11px] text-slate-300 leading-none"> </span> <span class="text-slate-500 text-[10px]">|</span> <span class="font-mono text-[11px] text-white tabular-nums leading-none"> </span></div> <div class="relative"><button type="button" class="p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center gap-2"><!> <span class="text-xs font-medium uppercase"> </span></button> <!></div> <button class="p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"><!></button> <!> <!></div></div></div></header> <main><!></main> <!> <!> <!> <!> <div class="h-10"></div> <footer class="bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 py-6 transition-colors"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-center"><p class="text-sm text-gray-500 dark:text-gray-400"> </p></div></div></footer> <!> <!>',1),$N=De('<div class="app-surface min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors flex flex-col"><!></div>');function aT(n,e){lr(e,!1);const t=()=>Sn(js,"$_",l),r=()=>Sn(em,"$locale",l),i=()=>Sn(_m,"$page",l),s=()=>Sn(ym,"$authLoading",l),o=()=>Sn(Ro,"$user",l),a=()=>Sn(Nd,"$theme",l),[l,c]=ts(),d=we(),u=we(),f=we(),p=we(),h=we();let g=we(!0),m=we(""),y=we(new Date),S,M=we(!1),b=we(!1),C=we(!1),w=we(!1),D=we(!1),P=we(!1),L=we(""),ee=we("success"),de=we("...");async function ye(){try{const te=await(await fetch("https://api.github.com/repos/fakduai-logistics-and-digital-platform/khun-phaen-tracker")).json();te.stargazers_count!==void 0?N(de,te.stargazers_count.toLocaleString()):N(de,"0")}catch(se){console.error("Failed to fetch stars:",se),N(de,"0")}}function ie(se){const U=se.detail?.kind;if(U==="bookmark"){N(M,!0);return}if(U==="whiteboard"){N(b,!0);return}U==="quick-notes"&&N(C,!0)}Sa(async()=>{try{await Promise.all([dm(),bm()]),N(g,!1)}catch{N(m,t()("layout__db_error")),N(g,!1)}S=setInterval(()=>{N(y,new Date)},1e3),document.addEventListener("open-utility-modal",ie),ye()}),_c(()=>{S&&clearInterval(S),document.removeEventListener("open-utility-modal",ie)});function le(){Nd.toggle()}function ue(se){if(r()==="th"){const te=["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],U=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],Se=te[se.getDay()],nt=se.getDate(),Ge=U[se.getMonth()],ge=se.getFullYear()+543;return`วัน${Se}ที่ ${nt} ${Ge} พ.ศ. ${ge}`}return new Intl.DateTimeFormat("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(se)}function Me(se){return se.toLocaleTimeString(r()==="th"?"th-TH":"en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function R(se,te="success"){N(L,se),N(ee,te),setTimeout(()=>{N(L,"")},2500)}async function A(){try{await $f.auth.logout(),document.cookie="_khun_ph_token=; path=/; max-age=0; samesite=Lax",localStorage.removeItem("user_email"),localStorage.removeItem("sync-room-code"),localStorage.removeItem("sync-server-url"),gm(),Ro.set(null),Xa(`${Oi}/login`)}catch(se){console.error("Logout failed:",se)}}kr(()=>i(),()=>{N(d,i().url.pathname.endsWith("/login")||i().url.pathname.endsWith("/create-account")||i().url.pathname.endsWith("/setup-password"))}),kr(()=>i(),()=>{N(u,i().url.pathname.endsWith("/dashboard"))}),kr(()=>i(),()=>{N(f,i().url.pathname.includes("/workspace/"))}),kr(()=>i(),()=>{N(p,i().url.pathname.endsWith("/settings/users"))}),kr(()=>(E(u),E(f)),()=>{N(h,E(u)||E(f)?"w-full max-w-full px-4 sm:px-8":"max-w-7xl px-4 sm:px-6 lg:px-8")}),kr(()=>(s(),o(),E(d),E(u),E(f)),()=>{if(!s()&&xm){if(!o()&&!E(d))Xa(`${Oi}/login`);else if(o()&&!E(d)&&!E(u)){const te=new URLSearchParams(window.location.search).get("room");localStorage.getItem("sync-room-code"),!te&&E(f)&&Xa(`${Oi}/dashboard`)}}}),xc(),Ws();var F=$N();Em("12qhfyh",se=>{var te=TN();Ve(()=>Nt(te,"href",Td)),W(se,te)});var Z=_(F);{var ce=se=>{var te=MN(),U=k(_(te),2),Se=_(U,!0);v(U);var nt=k(U,2),Ge=_(nt,!0);v(nt),v(te),Ve((ge,qe)=>{re(Se,ge),re(Ge,qe)},[()=>(t(),Q(()=>t()("layout__loading_db"))),()=>(t(),Q(()=>t()("layout__loading_first_time")))]),W(se,te)},_e=se=>{var te=kt(),U=it(te);{var Se=Ge=>{var ge=ON(),qe=k(_(ge),2),pt=_(qe,!0);v(qe);var ne=k(qe,2),xe=_(ne,!0);v(ne),v(ge),Ve(Re=>{re(pt,E(m)),re(xe,Re)},[()=>(t(),Q(()=>t()("layout__refresh_page")))]),ct("click",ne,()=>window.location.reload()),W(Ge,ge)},nt=Ge=>{var ge=kt(),qe=it(ge);{var pt=xe=>{var Re=CN(),Xe=_(Re);$t(Xe,e,"default",{}),v(Re),W(xe,Re)},ne=xe=>{var Re=BN(),Xe=it(Re),Ue=_(Xe),ot=_(Ue),ht=_(ot),oe=_(ht),at=_(oe),He=_(at);v(at);var Oe=k(at,2),Fe=_(Oe),Ne=_(Fe,!0);v(Fe);var rt=k(Fe,2),dt=_(rt,!0);v(rt),v(Oe),v(oe);var $=k(oe,4),V=_($);Cd(V,{size:14,class:"group-hover/github:rotate-12 transition-transform"});var fe=k(V,2),Pe=_(fe,!0);v(fe);var lt=k(fe,2),ut=_(lt),At=k(_(ut));v(ut),v(lt),v($);var I=k($,2),j=_(I);Cd(j,{size:20}),v(I),v(ht);var me=k(ht,2),je=_(me),$e=_(je),G=_($e,!0);v($e);var J=k($e,4),Ce=_(J,!0);v(J),v(je);var ze=k(je,2),Ee=_(ze),x=_(Ee);Mm(x,{size:20});var T=k(x,2),B=_(T,!0);v(T),v(Ee);var be=k(Ee,2);{var Ye=O=>{var H=AN(),pe=it(H),Le=k(pe,2),Je=_(Le),Ie=k(Je,2);v(Le),Ve(()=>{vt(Je,1,`w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 ${r()==="th"?"text-primary font-medium":""}`),vt(Ie,1,`w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2 ${r()==="en"?"text-primary font-medium":""}`)}),ct("click",pe,()=>N(w,!1)),ct("click",Je,()=>{Ed("th"),N(w,!1)}),ct("click",Ie,()=>{Ed("en"),N(w,!1)}),W(O,H)};Te(be,O=>{E(w)&&O(Ye)})}v(ze);var Be=k(ze,2),q=_(Be);{var Y=O=>{Bm(O,{size:20})},ve=O=>{Dm(O,{size:20})};Te(q,O=>{a()==="light"?O(Y):O(ve,!1)})}v(Be);var xt=k(Be,2);{var _t=O=>{var H=RN(),pe=_(H);pm(pe,{size:20}),v(H),Ve(()=>Nt(H,"href",`${Oi??""}/settings/users`)),W(O,H)};Te(xt,O=>{o(),Q(()=>o()?.role==="admin")&&O(_t)})}var Kt=k(xt,2);{var gn=O=>{var H=DN(),pe=_(H),Le=_(pe),Je=_(Le),Ie=_(Je),ft=_(Ie),Wt=_(ft,!0);v(ft),v(Ie),Ms(2),v(Je),v(Le);var yt=k(Le,2);{var wt=Zt=>{var hr=IN(),gr=it(hr),Or=k(gr,2),Qr=_(Or),Jn=_(Qr),mr=_(Jn),Cr=_(mr,!0);v(mr);var rs=k(mr,2),kn=_(rs),Wa=_(kn,!0);v(kn);var Ni=k(kn,2),Ke=_(Ni,!0);v(Ni),v(rs),v(Jn),v(Qr);var Ti=k(Qr,2),It=_(Ti),St=_(It),Mi=_(St);um(Mi,{size:14,class:"text-gray-500 group-hover/item:text-indigo-500 transition-colors"}),v(St);var Zn=k(St,2),is=_(Zn,!0);v(Zn),v(It);var ei=k(It,2),X=_(ei),ke=_(X);Am(ke,{size:14,class:"text-red-500"}),v(X);var Ze=k(X,2),Et=_(Ze,!0);v(Ze),v(ei),v(Ti);var Gt=k(Ti,2),Ln=_(Gt),Ga=_(Ln,!0);v(Ln),v(Gt),v(Or),Ve((qa,$g,zg,Fg)=>{re(Cr,qa),re(Wa,$g),re(Ke,(o(),Q(()=>o().role))),re(is,zg),re(Et,Fg),re(Ga,(o(),Q(()=>o().email)))},[()=>(o(),Q(()=>(o().profile?.nickname||o().email.split("@")[0])[0])),()=>(o(),Q(()=>o().profile?.nickname||o().email.split("@")[0])),()=>(t(),Q(()=>t()("layout__profile_settings"))),()=>(t(),Q(()=>t()("layout__logout")))]),ct("click",gr,()=>N(D,!1)),ct("click",It,()=>{N(D,!1),N(P,!0)}),ct("click",ei,()=>{N(D,!1),A()}),W(Zt,hr)};Te(yt,Zt=>{E(D)&&Zt(wt)})}v(pe),v(H),Ve(Zt=>re(Wt,Zt),[()=>(o(),Q(()=>(o().profile?.nickname||o().email.split("@")[0])[0]))]),ct("click",Le,()=>N(D,!E(D))),W(O,H)},Jt=O=>{var H=kt(),pe=it(H);{var Le=Je=>{var Ie=LN(),ft=_(Ie);Cm(ft,{size:18}),Ms(),v(Ie),Ve(()=>Nt(Ie,"href",`${Oi??""}/login`)),W(Je,Ie)};Te(pe,Je=>{!E(d)&&!s()&&Je(Le)},!0)}W(O,H)};Te(Kt,O=>{o()?O(gn):O(Jt,!1)})}v(me),v(ot),v(Ue),v(Xe);var mn=k(Xe,2),_n=_(mn);$t(_n,e,"default",{}),v(mn);var Dn=k(mn,2);{var jn=O=>{var H=PN(),pe=_(H),Le=_(pe,!0);v(pe),v(H),Ve(()=>{vt(pe,1,`${E(ee)==="success"?"bg-success":"bg-danger"} text-white px-4 py-2.5 rounded-lg shadow-lg text-sm font-medium`),re(Le,E(L))}),W(O,H)};Te(Dn,O=>{E(L)&&O(jn)})}var Yn=k(Dn,2);{var dr=O=>{tb(O,{$$events:{showBookmarks:()=>N(M,!0),showWhiteboard:()=>N(b,!0),showQuickNotes:()=>N(C,!0)}})};Te(Yn,O=>{!E(u)&&!E(p)&&O(dr)})}var xn=k(Yn,2);{var gt=O=>{gb(O,{$$events:{close:()=>N(M,!1)}})};Te(xn,O=>{E(M)&&O(gt)})}var En=k(xn,2);{var ur=O=>{EN(O,{$$events:{close:()=>N(C,!1)}})};Te(En,O=>{E(C)&&O(ur)})}var fr=k(En,4),bn=_(fr),pr=_(bn),mt=_(pr),bt=_(mt,!0);v(mt),v(pr),v(bn),v(fr);var Tt=k(fr,2);{var Rt=O=>{xb(O,{get open(){return E(b)},$$events:{close:()=>N(b,!1),notify:H=>R(H.detail.message,H.detail.type)}})};Te(Tt,O=>{E(b)&&O(Rt)})}var Ft=k(Tt,2);{var Vt=O=>{NN(O,{get open(){return E(P)},$$events:{close:()=>N(P,!1),notify:H=>R(H.detail.message,H.detail.type)}})};Te(Ft,O=>{E(P)&&O(Vt)})}Ve((O,H,pe,Le,Je,Ie,ft,Wt)=>{vt(Ue,1,`${E(h)??""} mx-auto`),Nt(oe,"href",`${Oi??""}/dashboard`),Nt(He,"src",Td),re(Ne,O),re(dt,H),re(Pe,pe),re(At,` ${E(de)??""}`),re(G,Le),re(Ce,Je),Nt(Ee,"title",Ie),re(B,r()),Nt(Be,"title",ft),vt(mn,1,`${E(h)??""} mx-auto py-6 flex-1`),re(bt,Wt)},[()=>(t(),Q(()=>t()("layout__app_name"))),()=>(t(),Q(()=>t()("layout__app_subtitle"))),()=>(t(),Q(()=>t()("layout__github"))),()=>(E(y),Q(()=>ue(E(y)))),()=>(E(y),Q(()=>Me(E(y)))),()=>(t(),Q(()=>t()("layout__change_language"))),()=>(t(),Q(()=>t()("layout__change_theme"))),()=>(t(),Q(()=>t()("layout__footer_copyright",{values:{year:new Date().getFullYear()}})))]),ct("click",Ee,()=>N(w,!E(w))),ct("click",Be,le),W(xe,Re)};Te(qe,xe=>{E(d)?xe(pt):xe(ne,!1)},!0)}W(Ge,ge)};Te(U,Ge=>{E(m)?Ge(Se):Ge(nt,!1)},!0)}W(se,te)};Te(Z,se=>{E(g)?se(ce):se(_e,!1)})}v(F),W(n,F),cr(),c()}export{vg as $,Rn as A,mv as B,vv as C,wi as D,Fi as E,z as F,yv as G,Au as H,Tv as I,Nr as J,ae as K,_v as L,xv as M,Ae as N,Xt as O,Ht as P,Qt as Q,nr as R,rp as S,vp as T,Ph as U,B1 as V,Gu as W,nd as X,Hk as Y,qk as Z,cw as _,Kr as a,yg as a0,Bt as a1,Tn as a2,aT as a3,nh as b,Yr as c,et as d,We as e,Tc as f,hn as g,Vr as h,fh as i,$c as j,av as k,ns as l,pv as m,dv as n,uv as o,sh as p,ch as q,Ma as r,lv as s,cv as t,fv as u,ph as v,wv as w,uh as x,ah as y,dh as z};
