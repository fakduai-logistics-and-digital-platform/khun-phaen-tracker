# р╕Вр╕╕р╕Щр╣Бр╕Ьр╕Щ (Khun Phaen)

р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Зр╕▓р╕Щр╣Бр╕Ър╕Ъ Offline - р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Чр╕╕р╕Бр╕Чр╕╡р╣Ир╣Бр╕бр╣Йр╣Др╕бр╣Ир╕бр╕╡р╕нр╕┤р╕Щр╣Ар╕Чр╕нр╕гр╣Мр╣Ар╕Щр╣Зр╕Х

> **р╕Вр╕╕р╕Щр╣Бр╕Ьр╕Щ** (Khun Phaen) - р╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕нр╕Хр╕▓р╕бр╕Хр╕▒р╕зр╕ер╕░р╕Др╕гр╣Гр╕Щр╕зр╕гр╕гр╕Ур╕Др╕Фр╕╡р╣Др╕Чр╕вр╕Чр╕╡р╣Ир╣Ар╕Ыр╣Зр╕Щр╕вр╕нр╕Фр╕Щр╕▒р╕Бр╕зр╕▓р╕Зр╣Бр╕Ьр╕Щ р╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ър╕гр╕┤р╕лр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕ар╕▓р╕гр╕Бр╕┤р╕Ир╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕бр╕╡р╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю

## тЬи р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М

- тЬЕ **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Зр╕▓р╕Щ** - р╣Ар╕Юр╕┤р╣Ир╕б р╣Бр╕Бр╣Йр╣Др╕В р╣Бр╕ер╕░р╕ер╕Ър╕Зр╕▓р╕Щ
- ЁЯСе **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Чр╕╡р╕б** - р╣Ар╕Юр╕┤р╣Ир╕бр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╣Бр╕ер╕░р╕бр╕нр╕Ър╕лр╕бр╕▓р╕вр╕Зр╕▓р╕Щ
- ЁЯУБ **р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М** - р╣Бр╕вр╕Бр╕Бр╕ер╕╕р╣Ир╕бр╕Зр╕▓р╕Щр╕Хр╕▓р╕бр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М
- ЁЯУЕ **р╕бр╕╕р╕бр╕бр╕нр╕Зр╕Ыр╕Пр╕┤р╕Чр╕┤р╕Щ** - р╕Фр╕╣р╕Хр╕▓р╕гр╕▓р╕Зр╕Зр╕▓р╕Щр╣Гр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╕Ыр╕Пр╕┤р╕Чр╕┤р╕Щ
- ЁЯОп **р╕Др╕▒р╕бр╕Ър╕▒р╕Зр╕Ър╕нр╕гр╣Мр╕Ф** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕кр╕Цр╕▓р╕Щр╕░р╕Зр╕▓р╕Щр╕Фр╣Йр╕зр╕вр╕гр╕░р╕Ър╕Ъ Drag & Drop
- ЁЯУК **р╕кр╕Цр╕┤р╕Хр╕┤р╕Зр╕▓р╕Щ** - р╕Фр╕╣р╕гр╕▓р╕вр╕Зр╕▓р╕Щр╣Бр╕ер╕░р╕кр╕Цр╕┤р╕Хр╕┤р╕Хр╣Ир╕▓р╕Зр╣Ж
- ЁЯУд **р╕Щр╕│р╣Ар╕Вр╣Йр╕▓/р╕кр╣Ир╕Зр╕нр╕нр╕Б** - р╕гр╕нр╕Зр╕гр╕▒р╕Ъ CSV р╣Бр╕ер╕░ PDF
- ЁЯТ╛ **Offline-First** - р╣Ар╕Бр╣Зр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З (IndexedDB)
- ЁЯМЩ **Dark Mode** - р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Шр╕╡р╕бр╕бр╕╖р╕Ф
- ЁЯФД **Real-time Sync** - р╕Лр╕┤р╕Зр╕Др╣Мр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Вр╣Йр╕▓р╕бр╣Ар╕Др╕гр╕╖р╣Ир╕нр╕З (р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Ыр╕┤р╕Ф Sync Server)

## ЁЯПЧя╕П р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣М

```
.
тФЬтФАтФА src/                    # SvelteKit Frontend
тФЬтФАтФА sync-server/            # Rust WebSocket Sync Server
тФЬтФАтФА wasm-compress/          # WASM: LZ4 Compression
тФЬтФАтФА wasm-crdt/              # WASM: CRDT р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Бр╣Йр╣Др╕Вр╕Зр╕▓р╕Щр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ
тФЬтФАтФА wasm-search/            # WASM: р╕гр╕░р╕Ър╕Ър╕Др╣Йр╕Щр╕лр╕▓р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б
тФЬтФАтФА static/                 # Static assets
тФФтФАтФА build/                  # р╣Др╕Яр╕ер╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ъ Production
```

## ЁЯЪА р╕Бр╕▓р╕гр╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕бр╕╡

- [Node.js](https://nodejs.org/) 18+ 
- [Rust](https://rustup.rs/) (р╕кр╕│р╕лр╕гр╕▒р╕Ъ build sync-server р╕лр╕гр╕╖р╕н WASM)

### 1. р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З Dependencies

```sh
npm install
```

### 2. р╕гр╕▒р╕Щ Development Server

```sh
# р╕гр╕▒р╕Щ frontend
npm run dev

# р╕гр╕▒р╕Щр╣Бр╕ер╕░р╣Ар╕Ыр╕┤р╕Фр╣Ар╕Ър╕гр╕▓р╕зр╣Мр╣Ар╕Лр╕нр╕гр╣Мр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
npm run dev -- --open
```

р╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╕Ир╕░р╕нр╕вр╕╣р╣Ир╕Чр╕╡р╣И `http://localhost:5173/khun-phaen-tracker-offline`

### 3. р╕гр╕▒р╕Щ Sync Server (р╣Ар╕кр╕гр╕┤р╕б - р╕кр╕│р╕лр╕гр╕▒р╕Ъ Real-time Sync)

р╣Гр╕Щ terminal р╣Гр╕лр╕бр╣И:

```sh
cd sync-server
cargo run --release
```

Server р╕Ир╕░р╕гр╕▒р╕Щр╕нр╕вр╕╣р╣Ир╕Чр╕╡р╣И `http://localhost:3001`

## ЁЯзк р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ (Testing)

р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╣Гр╕Кр╣Й `Vitest` р╣Гр╕Щр╕Бр╕▓р╕гр╕гр╕▒р╕Щр╕Кр╕╕р╕Фр╕Чр╕Фр╕кр╕нр╕Ъ

```sh
# р╕гр╕▒р╕Щр╣Ар╕Чр╕кр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
npm test

# р╕гр╕▒р╕Щр╣Ар╕Йр╕Юр╕▓р╕░р╣Ар╕Чр╕кр╕Ир╕│р╕ер╕нр╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
npx vitest run src/lib/db.unit.test.ts
```

## ЁЯУЪ Storybook (р╣Ар╕нр╕Бр╕кр╕▓р╕г UI)

р╕Фр╕╣р╕Др╕нр╕бр╣Вр╕Юр╣Ар╕Щр╕Щр╕Хр╣Мр╕Хр╣Ир╕▓р╕Зр╣Ж р╣Гр╕Щр╕гр╕╣р╕Ыр╣Бр╕Ър╕Ър╣Бр╕вр╕Бр╕кр╣Ир╕зр╕Щ

```sh
npm run storybook
```
р╣Ар╕Ыр╕┤р╕Фр╕Чр╕╡р╣И `http://localhost:6006`

## ЁЯПн р╕Бр╕▓р╕г Build р╕кр╕│р╕лр╕гр╕▒р╕Ъ Production

```sh
# Build Frontend
npm run build

# Build Sync Server (Binary)
cd sync-server
cargo build --release
```

## ЁЯР│ Docker / Deployment

### р╕кр╕│р╕лр╕гр╕▒р╕Ъ Sync Server р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ

```sh
docker run -d \
  --name khu-phaen-sync \
  -p 3002:3001 \
  ghcr.io/watchakorn-18k/khun-phaen-tracker-offline/sync-server:latest
```

## ЁЯУД License

MIT

---

<p align="center">
  р╕кр╕гр╣Йр╕▓р╕Зр╕Фр╣Йр╕зр╕в тЭдя╕П р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Зр╕▓р╕Щр╣Бр╕Ър╕Ъ Offline-First
</p>
